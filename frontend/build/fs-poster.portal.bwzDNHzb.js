var Ba=Object.defineProperty,Ea=Object.defineProperties;var Ua=Object.getOwnPropertyDescriptors;var ho=Object.getOwnPropertySymbols;var $n=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable;var Fn=(t,s,o)=>s in t?Ba(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,A=(t,s)=>{for(var o in s||(s={}))$n.call(s,o)&&Fn(t,o,s[o]);if(ho)for(var o of ho(s))On.call(s,o)&&Fn(t,o,s[o]);return t},I=(t,s)=>Ea(t,Ua(s));var mn=t=>typeof t=="symbol"?t:t+"",Rt=(t,s)=>{var o={};for(var i in t)$n.call(t,i)&&s.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&ho)for(var i of ho(t))s.indexOf(i)<0&&On.call(t,i)&&(o[i]=t[i]);return o};var Fa=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var Rn=(t,s,o)=>new Promise((i,a)=>{var r=d=>{try{l(o.next(d))}catch(g){a(g)}},c=d=>{try{l(o.throw(d))}catch(g){a(g)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(r,c);l((o=o.apply(t,s)).next())});import{r as p,aX as $a,j as e,J as Yn,aY as Oa,K as Xn,aZ as Ra,M as qn,a_ as Na,a$ as Jn,b0 as co,b1 as Ka,b2 as Nn,ag as gn,N as ea,O as wn,X as Wa,B as _,b3 as Va,av as Qa,b4 as xn,U as Ga,b5 as Za,W as Ya,$ as Xa,c as de,u as te,C as x,l as qa,S as u,G as q,t as N,b as w,m as Ja,f as n,n as mt,R as j,F as ot,aa as Ro,aE as W,at as ei,k as M,v as we,ak as E,ah as P,ae,b6 as lt,b7 as Je,ap as ve,P as V,b8 as le,ao as R,b9 as Is,ba as ti,aj as xe,s as G,ai as vo,aM as me,al as L,a1 as Kt,a5 as No,ac as re,ad as It,e as fe,a4 as bs,bb as si,bc as oi,bd as Ms,aJ as vn,be as ni,af as bo,aG as ta,q as ai,A as ii,a as Tn,x as Z,y as ri,z as li,H as ci}from"./assets/global.module--4ihqMuE.js";import{v as jn,w as fn,x as mo,a as di,b as ui,y as pi,d as hi,F as zs,z as mi,B as Me,g as O,n as S,K as v,h as pe,V as gi,e as An,D as Pn,M as Q,H as ie,G as Hs,N as Ie,T as he,J as To,c as Ts,t as xi,u as ji}from"./assets/VideoThumbExtractor-BZDz017z.js";var $h=Fa(Da=>{function fi(){return navigator.userAgent.includes("OPR")}function ki(){const[t,s]=p.useState(!1);$a(()=>{s(typeof window!="undefined"&&!fi()&&"EyeDropper"in window)},[]);const o=p.useCallback((i={})=>t?new window.EyeDropper().open(i):Promise.resolve(void 0),[t]);return{supported:t,open:o}}function _i(o){var i=o,{style:t}=i,s=Rt(i,["style"]);return e.jsxs("svg",I(A({xmlns:"http://www.w3.org/2000/svg",style:A({width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)"},t),viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},s),{children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M11 7l6 6"}),e.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}))}var Kn={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const Wn={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},Ci=ea((t,{size:s})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":wn(s,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":wn(s,"ci-preview-size")}})),xt=Yn((t,s)=>{const o=Xn("ColorInput",Wn,t),po=Ra("ColorInput",Wn,t),{classNames:i,styles:a,unstyled:r,disallowInput:c,fixOnBlur:l,popoverProps:d,withPreview:g,withEyeDropper:y,eyeDropperIcon:f,closeOnColorSwatchClick:C,eyeDropperButtonProps:T,value:m,defaultValue:H,onChange:k,onChangeEnd:b,onClick:B,onFocus:F,onBlur:$,inputProps:U,format:D,wrapperProps:K,readOnly:J,withPicker:ue,swatches:pt,disabled:jt,leftSection:zt,rightSection:Y,swatchesPerRow:ls}=po,oo=Rt(po,["classNames","styles","unstyled","disallowInput","fixOnBlur","popoverProps","withPreview","withEyeDropper","eyeDropperIcon","closeOnColorSwatchClick","eyeDropperButtonProps","value","defaultValue","onChange","onChangeEnd","onClick","onFocus","onBlur","inputProps","format","wrapperProps","readOnly","withPicker","swatches","disabled","leftSection","rightSection","swatchesPerRow"]),Ht=qn({name:"ColorInput",props:o,classes:Kn,classNames:i,styles:a,unstyled:r,rootSelector:"wrapper",vars:o.vars,varsResolver:Ci}),{resolvedClassNames:yt,resolvedStyles:Dt}=Na({classNames:i,styles:a,props:o}),[ht,Ze]=p.useState(!1),[$t,se]=p.useState(""),[ne,ft]=Jn({value:m,defaultValue:H,finalValue:"",onChange:k}),{supported:Ls,open:dn}=ki(),Ot=e.jsx(co,I(A(A({},T),Ht("eyeDropperButton",{className:T==null?void 0:T.className,style:T==null?void 0:T.style})),{variant:"subtle",color:"gray",size:U.size,unstyled:r,onClick:()=>dn().then(Se=>{if(Se!=null&&Se.sRGBHex){const ke=jn(D,fn(Se.sRGBHex));ft(ke),b==null||b(ke)}}).catch(()=>{}),children:f||e.jsx(_i,A({},Ht("eyeDropperIcon")))})),un=Se=>{F==null||F(Se),Ze(!0)},pn=Se=>{l&&ft($t),$==null||$(Se),Ze(!1)},hn=Se=>{B==null||B(Se),Ze(!0)};return p.useEffect(()=>{(mo(ne)||ne.trim()==="")&&se(ne)},[ne]),Ka(()=>{mo(ne)&&ft(jn(D,fn(ne)))},[D]),e.jsx(Nn.Wrapper,I(A({},K),{classNames:yt,styles:Dt,__staticSelector:"ColorInput",children:e.jsxs(gn,I(A({__staticSelector:"ColorInput",position:"bottom-start",offset:5},d),{opened:ht,classNames:yt,styles:Dt,unstyled:r,withRoles:!1,disabled:J||ue===!1&&(!Array.isArray(pt)||pt.length===0),children:[e.jsx(gn.Target,{children:e.jsx(Nn,I(A(A({autoComplete:"off"},oo),U),{classNames:yt,styles:Dt,disabled:jt,ref:s,__staticSelector:"ColorInput",onFocus:un,onBlur:pn,onClick:hn,spellCheck:!1,value:ne,onChange:Se=>{const ke=Se.currentTarget.value;ft(ke),mo(ke)&&(b==null||b(jn(D,fn(ke))))},leftSection:zt||(g?e.jsx(di,A({color:mo(ne)?ne:"#fff",size:"var(--ci-preview-size)"},Ht("colorPreview"))):null),readOnly:c||J,pointer:c,unstyled:r,rightSection:Y||(y&&!jt&&!J&&Ls?Ot:null)}))}),e.jsx(gn.Dropdown,{onMouseDown:Se=>Se.preventDefault(),className:Kn.dropdown,children:e.jsx(ui,{__staticSelector:"ColorInput",value:ne,onChange:ft,onChangeEnd:b,format:D,swatches:pt,swatchesPerRow:ls,withPicker:ue,size:U.size,focusable:!1,unstyled:r,styles:Dt,classNames:yt,onColorSwatchClick:()=>C&&Ze(!1)})})]}))}))});xt.classes=Oa.classes;xt.displayName="@mantine/core/ColorInput";const[yi,Ko]=Wa("SliderProvider was not found in tree"),sa=p.forwardRef((d,l)=>{var g=d,{size:t,disabled:s,variant:o,color:i,thumbSize:a,radius:r}=g,c=Rt(g,["size","disabled","variant","color","thumbSize","radius"]);const{getStyles:y}=Ko();return e.jsx(_,A(A({tabIndex:-1,variant:o,size:t,ref:l},y("root")),c))});sa.displayName="@mantine/core/SliderRoot";const oa=p.forwardRef(({max:t,min:s,value:o,position:i,label:a,dragging:r,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:d,labelAlwaysOn:g,thumbLabel:y,onFocus:f,onBlur:C,showLabelOnHover:T,isHovered:m,children:H=null,disabled:k},b)=>{const{getStyles:B}=Ko(),[F,$]=p.useState(!1),U=g||r||F||T&&m;return e.jsxs(_,I(A({tabIndex:0,role:"slider","aria-label":y,"aria-valuemax":t,"aria-valuemin":s,"aria-valuenow":o,ref:b,__vars:{"--slider-thumb-offset":`${i}%`}},B("thumb",{focusable:!0})),{mod:{dragging:r,disabled:k},onFocus:()=>{$(!0),typeof f=="function"&&f()},onBlur:()=>{$(!1),typeof C=="function"&&C()},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:D=>D.stopPropagation(),children:[H,e.jsx(Va,I(A({mounted:a!=null&&!!U,transition:"fade",duration:0},d),{children:D=>e.jsx("div",I(A({},B("label",{style:D})),{children:a}))}))]}))});oa.displayName="@mantine/core/SliderThumb";function na({value:t,min:s,max:o}){const i=(t-s)/(o-s)*100;return Math.min(Math.max(i,0),100)}function wi({mark:t,offset:s,value:o,inverted:i=!1}){return i?typeof s=="number"&&t.value<=s||t.value>=o:typeof s=="number"?t.value>=s&&t.value<=o:t.value<=o}function aa({marks:t,min:s,max:o,disabled:i,value:a,offset:r,inverted:c}){const{getStyles:l}=Ko();if(!t)return null;const d=t.map((g,y)=>p.createElement(_,I(A({},l("markWrapper")),{__vars:{"--mark-offset":`${na({value:g.value,min:s,max:o})}%`},key:y}),e.jsx(_,I(A({},l("mark")),{mod:{filled:wi({mark:g,value:a,offset:r,inverted:c}),disabled:i}})),g.label&&e.jsx("div",I(A({},l("markLabel")),{children:g.label}))));return e.jsx("div",{children:d})}aa.displayName="@mantine/core/SliderMarks";function ia(d){var g=d,{filled:t,children:s,offset:o,disabled:i,marksOffset:a,inverted:r,containerProps:c}=g,l=Rt(g,["filled","children","offset","disabled","marksOffset","inverted","containerProps"]);const{getStyles:y}=Ko();return e.jsx(e.Fragment,{children:e.jsx(_,I(A(I(A({},y("trackContainer")),{mod:{disabled:i}}),c),{children:e.jsxs(_,I(A({},y("track")),{mod:{inverted:r,disabled:i},children:[e.jsx(_,A({mod:{inverted:r,disabled:i},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${o}% - var(--slider-size))`}},y("bar"))),s,e.jsx(aa,I(A({},l),{offset:a,disabled:i,inverted:r}))]}))}))})}ia.displayName="@mantine/core/SliderTrack";function vi({value:t,containerWidth:s,min:o,max:i,step:a,precision:r}){const l=(s?Math.min(Math.max(t,0),s)/s:t)*(i-o),d=(l!==0?Math.round(l/a)*a:0)+o,g=Math.max(d,o);return r!==void 0?Number(g.toFixed(r)):g}function go(t,s){return parseFloat(t.toFixed(s))}function bi(t){if(!t)return 0;const s=t.toString().split(".");return s.length>1?s[1].length:0}var ra={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Ti={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Ai=ea((t,{size:s,color:o,thumbSize:i,radius:a})=>({root:{"--slider-size":wn(s,"slider-size"),"--slider-color":o?Za(o,t):void 0,"--slider-radius":a===void 0?void 0:Ya(a),"--slider-thumb-size":i!==void 0?Xa(i):"calc(var(--slider-size) * 2)"}})),qs=Yn((t,s)=>{const o=Xn("Slider",Ti,t),Se=o,{classNames:i,styles:a,value:r,onChange:c,onChangeEnd:l,size:d,min:g,max:y,step:f,precision:C,defaultValue:T,name:m,marks:H,label:k,labelTransitionProps:b,labelAlwaysOn:B,thumbLabel:F,showLabelOnHover:$,thumbChildren:U,disabled:D,unstyled:K,scale:J,inverted:ue,className:pt,style:jt,vars:zt,hiddenInputProps:Y}=Se,ls=Rt(Se,["classNames","styles","value","onChange","onChangeEnd","size","min","max","step","precision","defaultValue","name","marks","label","labelTransitionProps","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","scale","inverted","className","style","vars","hiddenInputProps"]),oo=qn({name:"Slider",props:o,classes:ra,classNames:i,className:pt,styles:a,style:jt,vars:zt,varsResolver:Ai,unstyled:K}),{dir:Ht}=Qa(),[yt,Dt]=p.useState(!1),[ht,Ze]=Jn({value:typeof r=="number"?xn(r,g,y):r,defaultValue:typeof T=="number"?xn(T,g,y):T,finalValue:xn(0,g,y),onChange:c}),$t=p.useRef(ht),se=p.useRef(),ne=p.useRef(),ft=na({value:ht,min:g,max:y}),Ls=J(ht),dn=typeof k=="function"?k(Ls):k,Ot=C!=null?C:bi(f),un=p.useCallback(({x:ke})=>{if(!D){const no=vi({value:ke,min:g,max:y,step:f,precision:Ot});Ze(no),$t.current=no}},[D,g,y,f,Ot,Ze]),{ref:pn,active:hn}=pi(un,{onScrubEnd:()=>l==null?void 0:l($t.current)},Ht),po=ke=>{var no,Hn,Dn,Bn,En,Un;if(!D)switch(ke.key){case"ArrowUp":{ke.preventDefault(),(no=ne.current)==null||no.focus();const kt=go(Math.min(Math.max(ht+f,g),y),Ot);Ze(kt),l==null||l(kt);break}case"ArrowRight":{ke.preventDefault(),(Hn=ne.current)==null||Hn.focus();const kt=go(Math.min(Math.max(Ht==="rtl"?ht-f:ht+f,g),y),Ot);Ze(kt),l==null||l(kt);break}case"ArrowDown":{ke.preventDefault(),(Dn=ne.current)==null||Dn.focus();const kt=go(Math.min(Math.max(ht-f,g),y),Ot);Ze(kt),l==null||l(kt);break}case"ArrowLeft":{ke.preventDefault(),(Bn=ne.current)==null||Bn.focus();const kt=go(Math.min(Math.max(Ht==="rtl"?ht+f:ht-f,g),y),Ot);Ze(kt),l==null||l(kt);break}case"Home":{ke.preventDefault(),(En=ne.current)==null||En.focus(),Ze(g),l==null||l(g);break}case"End":{ke.preventDefault(),(Un=ne.current)==null||Un.focus(),Ze(y),l==null||l(y);break}}};return e.jsx(yi,{value:{getStyles:oo},children:e.jsxs(sa,I(A({},ls),{ref:Ga(s,se),onKeyDownCapture:po,onMouseDownCapture:()=>{var ke;return(ke=se.current)==null?void 0:ke.focus()},size:d,disabled:D,children:[e.jsx(ia,{inverted:ue,offset:0,filled:ft,marks:H,min:g,max:y,value:Ls,disabled:D,containerProps:{ref:pn,onMouseEnter:$?()=>Dt(!0):void 0,onMouseLeave:$?()=>Dt(!1):void 0},children:e.jsx(oa,{max:y,min:g,value:Ls,position:ft,dragging:hn,label:dn,ref:ne,labelTransitionProps:b,labelAlwaysOn:B,thumbLabel:F,showLabelOnHover:$,isHovered:yt,disabled:D,children:U})}),e.jsx("input",A({type:"hidden",name:m,value:Ls},Y))]}))})});qs.classes=ra;qs.displayName="@mantine/core/Slider";var We=de("arrow-narrow-left","IconArrowNarrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l4 4",key:"svg-1"}],["path",{d:"M5 12l4 -4",key:"svg-2"}]]),Pi=de("arrows-left-right","IconArrowsLeftRight",[["path",{d:"M21 17l-18 0",key:"svg-0"}],["path",{d:"M6 10l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M3 7l18 0",key:"svg-2"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-3"}]]),Wo=de("brand-blogger","IconBrandBlogger",[["path",{d:"M8 21h8a5 5 0 0 0 5 -5v-3a3 3 0 0 0 -3 -3h-1v-2a5 5 0 0 0 -5 -5h-4a5 5 0 0 0 -5 5v8a5 5 0 0 0 5 5z",key:"svg-0"}],["path",{d:"M7 7m0 1.5a1.5 1.5 0 0 1 1.5 -1.5h3a1.5 1.5 0 0 1 1.5 1.5v0a1.5 1.5 0 0 1 -1.5 1.5h-3a1.5 1.5 0 0 1 -1.5 -1.5z",key:"svg-1"}],["path",{d:"M7 14m0 1.5a1.5 1.5 0 0 1 1.5 -1.5h7a1.5 1.5 0 0 1 1.5 1.5v0a1.5 1.5 0 0 1 -1.5 1.5h-7a1.5 1.5 0 0 1 -1.5 -1.5z",key:"svg-2"}]]),Vo=de("brand-discord","IconBrandDiscord",[["path",{d:"M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-0"}],["path",{d:"M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3",key:"svg-2"}],["path",{d:"M7 16.5c3.5 1 6.5 1 10 0",key:"svg-3"}]]),Qo=de("brand-facebook","IconBrandFacebook",[["path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",key:"svg-0"}]]),Go=de("brand-google","IconBrandGoogle",[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]]),Zo=de("brand-instagram","IconBrandInstagram",[["path",{d:"M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-0"}],["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M16.5 7.5l0 .01",key:"svg-2"}]]),Yo=de("brand-linkedin","IconBrandLinkedin",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 11l0 5",key:"svg-1"}],["path",{d:"M8 8l0 .01",key:"svg-2"}],["path",{d:"M12 16l0 -5",key:"svg-3"}],["path",{d:"M16 16v-3a2 2 0 0 0 -4 0",key:"svg-4"}]]),Xo=de("brand-mastodon","IconBrandMastodon",[["path",{d:"M18.648 15.254c-1.816 1.763 -6.648 1.626 -6.648 1.626a18.262 18.262 0 0 1 -3.288 -.256c1.127 1.985 4.12 2.81 8.982 2.475c-1.945 2.013 -13.598 5.257 -13.668 -7.636l-.026 -1.154c0 -3.036 .023 -4.115 1.352 -5.633c1.671 -1.91 6.648 -1.666 6.648 -1.666s4.977 -.243 6.648 1.667c1.329 1.518 1.352 2.597 1.352 5.633s-.456 4.074 -1.352 4.944z",key:"svg-0"}],["path",{d:"M12 11.204v-2.926c0 -1.258 -.895 -2.278 -2 -2.278s-2 1.02 -2 2.278v4.722m4 -4.722c0 -1.258 .895 -2.278 2 -2.278s2 1.02 2 2.278v4.722",key:"svg-1"}]]),qo=de("brand-medium","IconBrandMedium",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 9h1l3 3l3 -3h1",key:"svg-1"}],["path",{d:"M8 15l2 0",key:"svg-2"}],["path",{d:"M14 15l2 0",key:"svg-3"}],["path",{d:"M9 9l0 6",key:"svg-4"}],["path",{d:"M15 9l0 6",key:"svg-5"}]]),Jo=de("brand-ok-ru","IconBrandOkRu",[["path",{d:"M12 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M20 12c0 8 0 8 -8 8s-8 0 -8 -8s0 -8 8 -8s8 0 8 8z",key:"svg-1"}],["path",{d:"M9.5 13c1.333 .667 3.667 .667 5 0",key:"svg-2"}],["path",{d:"M9.5 17l2.5 -3l2.5 3",key:"svg-3"}],["path",{d:"M12 13.5v.5",key:"svg-4"}]]),en=de("brand-pinterest","IconBrandPinterest",[["path",{d:"M8 20l4 -9",key:"svg-0"}],["path",{d:"M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]),tn=de("brand-reddit","IconBrandReddit",[["path",{d:"M12 8c2.648 0 5.028 .826 6.675 2.14a2.5 2.5 0 0 1 2.326 4.36c0 3.59 -4.03 6.5 -9 6.5c-4.875 0 -8.845 -2.8 -9 -6.294l-1 -.206a2.5 2.5 0 0 1 2.326 -4.36c1.646 -1.313 4.026 -2.14 6.674 -2.14z",key:"svg-0"}],["path",{d:"M12 8l1 -5l6 1",key:"svg-1"}],["path",{d:"M19 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["circle",{cx:"9",cy:"13",r:".5",fill:"currentColor",key:"svg-3"}],["circle",{cx:"15",cy:"13",r:".5",fill:"currentColor",key:"svg-4"}],["path",{d:"M10 17c.667 .333 1.333 .5 2 .5s1.333 -.167 2 -.5",key:"svg-5"}]]),uo=de("brand-telegram","IconBrandTelegram",[["path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4",key:"svg-0"}]]),sn=de("brand-threads","IconBrandThreads",[["path",{d:"M19 7.5c-1.333 -3 -3.667 -4.5 -7 -4.5c-5 0 -8 2.5 -8 9s3.5 9 8 9s7 -3 7 -5s-1 -5 -7 -5c-2.5 0 -3 1.25 -3 2.5c0 1.5 1 2.5 2.5 2.5c2.5 0 3.5 -1.5 3.5 -5s-2 -4 -3 -4s-1.833 .333 -2.5 1",key:"svg-0"}]]),on=de("brand-tiktok","IconBrandTiktok",[["path",{d:"M21 7.917v4.034a9.948 9.948 0 0 1 -5 -1.951v4.5a6.5 6.5 0 1 1 -8 -6.326v4.326a2.5 2.5 0 1 0 4 2v-11.5h4.083a6.005 6.005 0 0 0 4.917 4.917z",key:"svg-0"}]]),nn=de("brand-tumblr","IconBrandTumblr",[["path",{d:"M14 21h4v-4h-4v-6h4v-4h-4v-4h-4v1a3 3 0 0 1 -3 3h-1v4h4v6a4 4 0 0 0 4 4",key:"svg-0"}]]),Sn=de("brand-vk","IconBrandVk",[["path",{d:"M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z",key:"svg-0"}]]),an=de("brand-wordpress","IconBrandWordpress",[["path",{d:"M9.5 9h3",key:"svg-0"}],["path",{d:"M4 9h2.5",key:"svg-1"}],["path",{d:"M11 9l3 11l4 -9",key:"svg-2"}],["path",{d:"M5.5 9l3.5 11l3 -7",key:"svg-3"}],["path",{d:"M18 11c.177 -.528 1 -1.364 1 -2.5c0 -1.78 -.776 -2.5 -1.875 -2.5c-.898 0 -1.125 .812 -1.125 1.429c0 1.83 2 2.058 2 3.571z",key:"svg-4"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-5"}]]),rn=de("brand-x","IconBrandX",[["path",{d:"M4 4l11.733 16h4.267l-11.733 -16z",key:"svg-0"}],["path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772",key:"svg-1"}]]),ln=de("brand-xing","IconBrandXing",[["path",{d:"M16 21l-4 -7l6.5 -11",key:"svg-0"}],["path",{d:"M7 7l2 3.5l-3 4.5",key:"svg-1"}]]),cn=de("brand-youtube","IconBrandYoutube",[["path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z",key:"svg-0"}],["path",{d:"M10 9l5 3l-5 3z",key:"svg-1"}]]),Si=de("photo-plus","IconPhotoPlus",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4",key:"svg-2"}],["path",{d:"M14 14l1 -1c.67 -.644 1.45 -.824 2.182 -.54",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16v6",key:"svg-5"}]]),Vn=de("tag","IconTag",[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]]),Li=de("tags","IconTags",[["path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592 -3.592a2.41 2.41 0 0 0 0 -3.408l-5.71 -5.71a2 2 0 0 0 -1.414 -.586h-4.172a2 2 0 0 0 -2 2z",key:"svg-0"}],["path",{d:"M18 19l1.592 -1.592a4.82 4.82 0 0 0 0 -6.816l-4.592 -4.592",key:"svg-1"}],["path",{d:"M7 10h-.01",key:"svg-2"}]]),Ln=de("webhook","IconWebhook",[["path",{d:"M4.876 13.61a4 4 0 1 0 6.124 3.39h6",key:"svg-0"}],["path",{d:"M15.066 20.502a4 4 0 1 0 1.934 -7.502c-.706 0 -1.424 .179 -2 .5l-3 -5.5",key:"svg-1"}],["path",{d:"M16 8a4 4 0 1 0 -8 0c0 1.506 .77 2.818 2 3.5l-3 5.5",key:"svg-2"}]]);const Ii=()=>{const t=te(),[s]=p.useState(()=>x.createStore()),o=()=>{const a=window.location,r=new URLSearchParams(a.search);if(r.has("fs-poster-planner")){const c=r.get("fs-poster-planner");if(c){const l=c.split(",").map(d=>parseInt(d));t.show(hi,{selectedPosts:l})}}},i=(a,r)=>{s.loadEmpty({merge:{wpPostId:a,wpPostType:r!=null?r:"post",sync:!1}})};return p.useEffect(()=>(window.FS_POSTER.schedule=i,o(),()=>{window.FS_POSTER.schedule=void 0}),[]),e.jsx(x.Provider,{value:s,children:e.jsx(qa,{})})},Zt=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_45086)",children:[e.jsx("path",{d:"M2.7423 23.9055C2.29318 23.7872 1.90564 23.6131 1.5482 23.3691C1.24648 23.1631 0.805475 22.7373 0.637764 22.49C0.432933 22.188 0.197489 21.6708 0.101534 21.3122C0.00366455 20.9463 0.00207832 20.8006 0.000322164 12.0184C-0.00142383 3.28056 0.000562802 3.08842 0.0964901 2.71291C0.435731 1.38497 1.48623 0.374603 2.84109 0.0731849C3.23064 -0.0134795 20.6325 -0.0286372 21.0527 0.0573241C22.1903 0.290032 23.0845 0.974203 23.602 2.00776C24.0133 2.82945 23.9766 1.92524 23.9954 11.6813C24.0074 17.8887 23.9963 20.4947 23.9568 20.8194C23.7715 22.3387 22.7254 23.5171 21.2201 23.9022C20.8351 24.0006 20.7011 24.002 11.9588 23.9994C3.50591 23.9968 3.07178 23.9924 2.7423 23.9055Z",fill:"#F06A35"}),e.jsx("path",{d:"M14.7594 17.9611C15.6304 17.8423 16.3129 17.4932 16.9532 16.839C17.4164 16.3658 17.7064 15.8536 17.8959 15.1738C17.9746 14.8914 17.9812 14.7538 17.9956 13.0957C18.0065 11.8442 17.9974 11.2581 17.9648 11.1101C17.9176 10.8956 17.7837 10.6964 17.6309 10.6134C17.5839 10.5878 17.2827 10.5553 16.9616 10.541C16.4234 10.5171 16.3632 10.5066 16.1934 10.4071C15.924 10.2492 15.8498 10.0787 15.849 9.6158C15.8476 8.73135 15.4795 7.91023 14.7523 7.16914C14.2342 6.64117 13.6562 6.2838 12.9966 6.08356C12.8387 6.03562 12.4851 6.01931 11.3008 6.00531C9.44242 5.98335 9.02992 6.02144 8.39728 6.27344C7.23091 6.73802 6.39286 7.71711 6.08716 8.97234C6.02974 9.20809 6.01859 9.58594 6.00503 11.7564C5.98804 14.4756 6.00678 14.8749 6.17669 15.4137C6.31706 15.8589 6.4587 16.1318 6.75048 16.519C7.30633 17.2567 8.13937 17.7894 8.97224 17.9399C9.36859 18.0115 14.2586 18.0294 14.7594 17.9611Z",fill:"white"}),e.jsx("path",{d:"M9.62003 10.5108C9.17475 10.3879 9.00837 9.74792 9.33564 9.41693C9.54481 9.20538 9.60263 9.19733 10.9119 9.19733C12.0873 9.19733 12.1268 9.1999 12.2995 9.28726C12.549 9.41353 12.6574 9.59156 12.6574 9.87501C12.6574 10.131 12.5556 10.3104 12.3285 10.4546C12.2065 10.532 12.1336 10.5368 10.982 10.5436C10.2709 10.5478 9.7044 10.5341 9.62003 10.5108ZM9.56423 14.8177C9.3731 14.7343 9.19511 14.5025 9.16435 14.297C9.13505 14.1013 9.23325 13.8322 9.38378 13.6957C9.57353 13.5237 9.65681 13.518 11.9903 13.5161C14.3907 13.5142 14.3783 13.5132 14.6059 13.7261C14.9274 14.0268 14.8596 14.5622 14.4721 14.782L14.074 14.8469L11.999 14.8712C10.1757 14.8926 9.65914 14.8592 9.56423 14.8177Z",fill:"#F06A35"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_45086",children:e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"white"})})})]}),Mi="fs-poster-FLhQNC2",zi="fs-poster-ByRniaA",Hi="fs-poster-bVT34iS",Di="fs-poster-uxUYpKI",Bi="fs-poster-6q6scLD",Ei="fs-poster-8-NXjcS",Ui="fs-poster-m3ORtH5",Fi="fs-poster-leuRDCZ",$i="fs-poster-gl7dcRN",Oi="fs-poster-z55GPTY",Ri="fs-poster-FO1kPy4",Ni="fs-poster-DndWmal",Ki="fs-poster-JXkAgN0",Wi="fs-poster-npep-l-",Vi="fs-poster-gR3WkdA",Qi="fs-poster-ANCDXIp",Nt={addChannel_easyMode:Mi,addChannel_easyMode_hero:zi,addChannel_easyMode_hero_icon:Hi,addChannel_easyMode_actions:Di,addChannel_advancedMode_header:Bi,addChannel_advancedMode_header_socialNetwork:Ei,addChannel_advancedMode_header_socialNetwork_name:Ui,addChannel_advancedMode_body:Fi,methodSupport:$i,methodSelector:Oi,recommend:Ri,methods:Ni,method:Ki,methodName:Wi,methodDescription:Vi,addChannel_advancedMode_footer_btns:Qi},Ao=t=>e.jsxs(u,{gap:"0",children:[e.jsxs(q,{justify:"space-between",align:"center",px:"md",py:"xs",children:[e.jsxs(q,{align:"center",gap:"xs",children:[e.jsx(_,{w:20,h:20,children:N("social_network.icon.colorful","",t.socialNetwork)}),e.jsx(w,{size:"sm",fw:500,children:N("social_network.label","",t.socialNetwork)})]}),e.jsx(Ja,{size:"xs",onClick:()=>{window.open(t.docLink,"_blank")},children:n("See documentation")})]}),e.jsx(mt,{})]});Ao.displayName="AddChannelAdvancedModeHeader";const In=t=>t.children;In.displayName="AddChannelAdvancedModeMethod";const Po=t=>t.children;Po.displayName="AddChannelAdvancedModeButton";const Gi=t=>{const s=j.Children.toArray(t.children),o=s.filter(l=>l.type.displayName===Ao.displayName),i=s.filter(l=>l.type.displayName===In.displayName),[a,r]=p.useState(()=>i[0].props.slug),c=i.find(l=>l.props.slug===a)||e.jsx(e.Fragment,{});return e.jsxs(ot,{direction:"column",className:Nt.addChannel_advancedMode,w:"100%",children:[o,e.jsx(Ro.Autosize,{h:"100%",styles:{root:{height:"100%"}},children:e.jsxs(ot,{direction:"column",gap:12,className:Nt.addChannel_advancedMode_body,children:[i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(ot,{direction:"column",children:e.jsx(W,{label:n("Choose method"),value:a,onChange:l=>r(l),options:i.map(l=>e.jsx(W.Option,{value:l.props.slug,children:e.jsxs(ot,{direction:"column",gap:6,children:[e.jsxs(ot,{align:"center",justify:"space-between",children:[e.jsx(w,{size:"sm",fw:500,children:l.props.label}),l.props.isRecommended&&e.jsx(ei,{size:"md",children:n("Recommended")})]}),e.jsx(w,{size:"xs",c:"dimmed",children:l.props.description})]})},l.props.slug)),valueRender:l=>i.find(d=>d.props.slug===l).props.label})}),e.jsx(mt,{label:i.find(l=>l.props.slug===a).props.label,labelPosition:"center"})]}),c.props.children.filter(l=>l.type.displayName!==Po.displayName&&l.type.displayName!==Ao.displayName)]})}),c&&e.jsx(ot,{className:Nt.addChannel_advancedMode_footer_btns,children:c.props.children.find(l=>l.type.displayName===Po.displayName)})]})},z=Object.assign(Gi,{Header:Ao,Method:In,Button:Po}),Zi=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"33",viewBox:"0 0 25 33",fill:"none",children:[e.jsxs("g",{clipPath:"url(#clip0_1176_111251)",children:[e.jsx("mask",{id:"mask0_1176_111251",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"6",children:e.jsx("path",{d:"M25 0H0V5.75581H25V0Z",fill:"white"})}),e.jsxs("g",{mask:"url(#mask0_1176_111251)",children:[e.jsx("mask",{id:"mask1_1176_111251",maskUnits:"userSpaceOnUse",x:"-4",y:"-4",width:"33",height:"13",children:e.jsx("path",{d:"M28.1966 -3.19763H-3.19727V8.95353H28.1966V-3.19763Z",fill:"white"})}),e.jsx("g",{mask:"url(#mask1_1176_111251)",children:e.jsx("rect",{x:"-3.42969",y:"-3.24622",width:"31.9182",height:"12.2791",fill:"url(#pattern0_1176_111251)"})})]}),e.jsx("mask",{id:"mask2_1176_111251",maskUnits:"userSpaceOnUse",x:"0",y:"9",width:"26",height:"15",children:e.jsx("path",{d:"M12.5959 9.33716C12.3402 9.33716 12.0844 9.33716 11.8286 9.33716C8.1202 9.46507 5.30691 10.4244 3.26087 12.279C3.19693 12.343 3.13299 12.343 3.13299 12.4069C1.02302 14.4534 0 16.9476 0 20.0813V23.5988H6.07417V20.0813C6.07417 18.6104 6.64962 17.3953 7.80051 16.436C8.18414 16.1162 8.63171 15.8604 9.07928 15.6046C9.84655 15.2848 10.6778 15.093 11.5729 15.093H25.0639V9.33716H13.2992C13.0435 9.33716 12.7877 9.33716 12.5959 9.33716Z",fill:"white"})}),e.jsxs("g",{mask:"url(#mask2_1176_111251)",children:[e.jsx("mask",{id:"mask3_1176_111251",maskUnits:"userSpaceOnUse",x:"-4",y:"6",width:"33",height:"21",children:e.jsx("path",{d:"M28.1966 6.13953H-3.19727V26.7965H28.1966V6.13953Z",fill:"white"})}),e.jsx("g",{mask:"url(#mask3_1176_111251)",children:e.jsx("rect",{x:"-3.42969",y:"5.96301",width:"31.9182",height:"20.8744",fill:"url(#pattern1_1176_111251)"})})]}),e.jsx("mask",{id:"mask4_1176_111251",maskUnits:"userSpaceOnUse",x:"0",y:"18",width:"25",height:"15",children:e.jsx("path",{d:"M18.9258 22.2559C18.9258 23.7268 18.3504 24.9419 17.1995 25.9012C16.8159 26.221 16.3683 26.4768 15.9207 26.7326C15.1535 27.0524 14.3223 27.2442 13.4271 27.2442H0V33H11.7008C11.9565 33 12.1483 33 12.4041 33C12.6598 33 12.9156 33 13.1714 33C16.8798 32.8721 19.6931 31.9128 21.7391 30.0582C21.8031 29.9942 21.867 29.9942 21.867 29.9303C23.913 27.9477 25 25.4535 25 22.3198V18.8024H18.9258V22.2559Z",fill:"white"})}),e.jsxs("g",{mask:"url(#mask4_1176_111251)",children:[e.jsx("mask",{id:"mask5_1176_111251",maskUnits:"userSpaceOnUse",x:"-4",y:"15",width:"33",height:"22",children:e.jsx("path",{d:"M28.1966 15.5408H-3.19727V36.1977H28.1966V15.5408Z",fill:"white"})}),e.jsx("g",{mask:"url(#mask5_1176_111251)",children:e.jsx("rect",{x:"-3.42969",y:"15.4794",width:"31.9182",height:"20.8744",fill:"url(#pattern2_1176_111251)"})})]})]}),e.jsxs("defs",{children:[e.jsx("pattern",{id:"pattern0_1176_111251",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:e.jsx("use",{xlinkHref:"#image0_1176_111251",transform:"scale(0.00961538 0.0238095)"})}),e.jsx("pattern",{id:"pattern1_1176_111251",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:e.jsx("use",{xlinkHref:"#image1_1176_111251",transform:"scale(0.00961538 0.0140845)"})}),e.jsx("pattern",{id:"pattern2_1176_111251",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:e.jsx("use",{xlinkHref:"#image2_1176_111251",transform:"scale(0.00961538 0.0140845)"})}),e.jsx("clipPath",{id:"clip0_1176_111251",children:e.jsx("rect",{width:"25",height:"33",fill:"white"})}),e.jsx("image",{id:"image0_1176_111251",width:"104",height:"42",xlinkHref:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAlgCWAAD/7AARRHVja3kAAQAEAAAAHgAA/+4AIUFkb2JlAGTAAAAAAQMAEAMCAwYAAAJLAAACqAAAA87/2wCEABALCwsMCxAMDBAXDw0PFxsUEBAUGx8XFxcXFx8eFxoaGhoXHh4jJSclIx4vLzMzLy9AQEBAQEBAQEBAQEBAQEABEQ8PERMRFRISFRQRFBEUGhQWFhQaJhoaHBoaJjAjHh4eHiMwKy4nJycuKzU1MDA1NUBAP0BAQEBAQEBAQEBAQP/CABEIACoAaAMBIgACEQEDEQH/xACvAAEAAwEBAQAAAAAAAAAAAAAAAgQFAQYDAQACAwEBAAAAAAAAAAAAAAAAAwIEBQYBEAACAQMCBAYDAQAAAAAAAAAAAQMCBAUSFSAhEzMQMBEiIzUxMhQGEQABAgIHBAgHAAAAAAAAAAABAAIRAzHRMpMENEUwIWESEEFRcYGRcjXxIkITI0MUEgABAwIEBQUBAAAAAAAAAAABADECEZEhQeESIFEiMnIQcYGxkgP/2gAMAwEAAhEDEQAAAPT4M6erz3358IqTYnUnmPs9rqliwrgsK4NtiJNtU7lTpsuPJRRDk4SyrExSsgAAAbeH7/E6RPmeehQr+dlv9zHYTfUrOA3wYDfke5j1ibf/2gAIAQIAAQUAihopjlpRPyG2amamdSrTH25kXA+C36vSl1E4/Q5HI+PR/9oACAEDAAEFALq4lrmUlZFXWaqjVUaqj+iTRN3URcN4oOulQRKg9p7T0pPg6X//2gAIAQEAAQUAzWZrtKqsjkKnuF+PI5AWRyAshfm4X5uF+bhfm4X5uF+bhfmKzs/Wy7byQxiFx/gy32QxiF5GV+yGMQvI/wBBjZVMMfguPF42W9nLj9/FcUfch7X/2gAIAQICBj8AjgCSASUw9HKcpyttflR8Rxx3CNKYY40yyTC6xTmyc2Tmyc1qv//aAAgBAwIGPwCfVIRjIxiAaDBd0rrulddxunN05uttT7505L+nnL7457TMHd1dII3Z0NV3S/OqeX51Tm2qc21Tm2qeW7c9Mbcl/9oACAEBAQY/AP5sND70IveYHkBoAHb3qJxM2PB7gPIFZqdeOrWanXjq1mp146tZmdeOrWZm3jq1mZt46tZmbeOrWZm3jq1mZt46tZmbeOrTJGLdzseeUTDaaSd0eCxBJj88N/DdtIilYj1na4j1nanGymlzHD8oAskCEfHaNPKRIaQZj+qHYO/oHttH7afgtJWkLSFpK0laUtKWlLSk32ukWbVPVxTbNH0WfBf/2Q=="}),e.jsx("image",{id:"image1_1176_111251",width:"104",height:"71",xlinkHref:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAlgCWAAD/7AARRHVja3kAAQAEAAAAHgAA/+4AIUFkb2JlAGTAAAAAAQMAEAMCAwYAAALFAAADnAAABVD/2wCEABALCwsMCxAMDBAXDw0PFxsUEBAUGx8XFxcXFx8eFxoaGhoXHh4jJSclIx4vLzMzLy9AQEBAQEBAQEBAQEBAQEABEQ8PERMRFRISFRQRFBEUGhQWFhQaJhoaHBoaJjAjHh4eHiMwKy4nJycuKzU1MDA1NUBAP0BAQEBAQEBAQEBAQP/CABEIAEcAaAMBIgACEQEDEQH/xAC0AAEAAgMBAQAAAAAAAAAAAAAABAYBAgUDBwEAAwEBAQEAAAAAAAAAAAAAAAMEBQIBBhAAAgICAQMEAgMBAAAAAAAAAQIAAwQFESASBhAhExQiFTEyNTMRAAIAAwQHBAkFAAAAAAAAAAECABEDITGSBBAgMEFxEjJhwSJSkaGxQmJy0hOTgdGCIyQSAAECBAMHBAMAAAAAAAAAAAEAESExAhIQIGFBcYGhIjIDkeFCUnKCM//aAAwDAQACEQMRAAAA+gGobRuBxLM6yxeLmrP6m3K957Ok52czSmeUSMrNtCqGL+j1XsVK/S83pmuLz32wuvOsXyj+n6m8b3hieEjRODFervP7HJmQtneyw9Y026arK/rd8Ksq0iy7Sx1rFnKza2uBiKjDmwdPRzhgYttSty/OoERgAAAcevjnYwdOkW4Un0HCQAAAP//aAAgBAgABBQCVYZaLjUiZC1LLG4gdp3njHQT5OI9xlnLCwwH37onspMcxmBD1MZ9d59f8VP4y3+vQnfx+cs7un//aAAgBAwABBQCZGxCF83JaYX2bSyOBfbap+9d8d/JX6YJx9ahOPgVrVk0gTJp9/i9+zmJVKylYXaY4W7LqeWr3z644VfZVmR/z6K/k4Hyy75Oej//aAAgBAQABBQD1ythhYku8oqEfyXPYHyLZiV+QbJh+92EO92EbyDZCN5LtBNT5GMu2O6Vps/JLbSXLENO4QKXKgAQxxHEVmRpvdocuwrOwwVmCpYzqgW8NFbmCMI6wrN5mHFwpxOPQtxMmw8UsQa2gPowhWeSXl871JjmWnk1/zUfZfQzExHy8jcuX2fpzCZqNINgp8W1Jg8V1Ag8b1gg8f14n6HXz9Dr5j4uPirtv9Lo8b/zevcoU2fR46jLrOvd4WFlE4NwP0bp9G+YesrssoFK09f8A/9oACAECAgY/AE/kNugmu198UwppB0UCymcLzwwgUSTkA0wcplBlsU+rkhuw45YM2q+K6uWX/9oACAEDAgY/AEafELz9j2+6/oR+MFca6zTqVMqFdQ4qx+p+/aysG2eAcOoCKOW6qACZvJ6e6hdxCgp9SG7D9ssGbVfDmhfLY0sv/9oACAEBAQY/ANP99VVbyXthFsSoUGbtchbeA5vbBCpTSdxAJI9LS9UdSYREyyYRHUuER1LhEWMuER1JhEDL5pBTrOZIyz5GPlkZyOhndgqKJsxsAAg0sjOnT31ffbh5fbBZiSxMyTaSTpsuiWqHUyZTNSNxGg5aif8APTNpHvt+w3aluizWZVMqlbwL2A9R9GtIa60p+Gkgs+JvEfVLaJQQWsfEfKu8xmCbJMFwgL3arVqzFKCnlHLLmYy3Ezui1XxmLEfGYsD4oufFFz4ouc/ygpQphAb5XniTbGY+c6o+dthmAd7BhwYA6qFhLmZivCcu7YAtmKdDNKLPuMFDL8Qv/WJB6J7RXpd7x1Ufz0vrjqo/no/XAObzNGjSHUBVRmPYOViIRaEvshQE5TMcu6R2H//Z"}),e.jsx("image",{id:"image2_1176_111251",width:"104",height:"71",xlinkHref:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAlgCWAAD/7AARRHVja3kAAQAEAAAAHgAA/+4AIUFkb2JlAGTAAAAAAQMAEAMCAwYAAAK+AAADiQAABTn/2wCEABALCwsMCxAMDBAXDw0PFxsUEBAUGx8XFxcXFx8eFxoaGhoXHh4jJSclIx4vLzMzLy9AQEBAQEBAQEBAQEBAQEABEQ8PERMRFRISFRQRFBEUGhQWFhQaJhoaHBoaJjAjHh4eHiMwKy4nJycuKzU1MDA1NUBAP0BAQEBAQEBAQEBAQP/CABEIAEcAaAMBIgACEQEDEQH/xAC5AAEAAwEBAQEAAAAAAAAAAAAAAwQFAgYBBwEAAgMBAQAAAAAAAAAAAAAAAAQBAgMFBhAAAgIBAwMDBAMBAAAAAAAAAQMAAgQREgUQExQgFQYwMSQ0ISIyIxEAAgECAAgKCAcAAAAAAAAAAQIDABEwMWGR0RIENBAgIUFRcaEiMwWBsUJicoITk8EyUpKyQ3MSAAECAwYFBQEAAAAAAAAAAAABERAhAjFBgaESMiBRYSJSkbFCoiNy/9oADAMBAAIRAxEAAAD9AAAAAICMLNrkuVYV0RusJbT3yOox1r7PUtoM3i06tfOqWMb5NGpyeXHMrSowepqzQoetDO0cFmu1enWtZ3Ub6kzzK80NbjfzO62S+dyGxX856IKW5gniYtTo6FLrb58ViF/Ovp6Xs44/12TpWoCbAY688GhBAN372DVbQFcAD//aAAgBAgABBQDqfta9idxndttu5dD5SIHrMNgRtM2WnbtHElsQYmoM7FTBj10217rRoyIiDKGMyABMjxd34Mp4sXth36dP/9oACAEDAAEFAOpOgs29jvtPIZsqu9p2GwY7jDiO0disWSNOiwBSViwDM5SzXIR/bx/+K/8AErK20jzqG7TaK7+38mDyp+ZHeR1//9oACAEBAAEFAPocpzr7t9wz57hnz3DPE4nnGlvrzLmmH6B/H0M/9E109LXLTU8qrX3Zc92XDzKxLc6oQ/I0iZ3PWyVEAy1dJa4EDhK3325Fpvk9bCMjDGO2SuYTazwQ187+s4NRy+UzP2utowRomQDPsbMOjbkwWM+FcddaMz9rraMEaI+suJaXE+P8C3lspa6KXn0tTK62l40RwjBDU2PFfD8rIshCcZMy1YzanCXr4S54S4cFctx6jL8Ykw8Ni2K+E4Cp45XCqPX/2gAIAQICBj8A4HVS1TS+N41dSIvI3p6KSqcViwsLCtV8ljMkkNOGJW/mvvFIaaJrz5Q/Td0d8WPl9jtfM7SbtH//2gAIAQMCBj8Aiq8h1qU3L6ml8b2HppVTabPYV6GQskThSieKRmSRBWQs7tWrAp/lOGU4dm3qXZF2RJvqfrqbLKUf/9oACAEBAQY/AMA0OyMY40JUuLazEHmPMK3mX7jaa3mX7jaa3mX97aaXZ9sOuHIVJOcMcQbJgJ3X8yxuR1hSeLcY8BtP+T/xPG1pG1RXdRiOk2FeGc4rwznFeG2cV4TZxXgtnFGGFPpo4s5J7xyC3FCryljYDKaK+ynIPxwFubgx8GzxY1Da7dGqnfOe1ql+LCSeYSixmGpDf9AN2PpI7Kl+LB98FNkj5ZZLY/cU9J7KWKNQsaAKijEFAsAKe/td4dRwOqBcnkAGO9LL5heCDH9P+xsnu+vJSQQII4oxZEGIDgCzMEb2WJAPbXJtMdusaa3mLOK3mLOK3mLOK3uEfMNNb7APmGmu/wCYwKOkMCe1hV5/MEkyCSNB6ye2inlxgL8/02V39LXLcT//2Q=="})]})]}),ct=t=>e.jsxs(zs,{className:Nt.addChannel_easyMode,grow:1,direction:"column",children:[e.jsxs(zs,{className:Nt.addChannel_easyMode_hero,alignItems:"center",justifyContent:"center",gap:24,style:{background:"radial-gradient(263.19% 221.68% at 0% 100%, rgba(255, 61, 113, 0.35) 0%, rgba(24, 119, 242, 0.35) 34.12%, rgba(109, 229, 14, 0.60) 99%)"},children:[e.jsx(zs,{className:Nt.addChannel_easyMode_hero_icon,alignItems:"center",justifyContent:"center",children:e.jsx(Zi,{})}),e.jsx(zs,{children:e.jsx(Pi,{size:16})}),e.jsx(zs,{className:Nt.addChannel_easyMode_hero_icon,alignItems:"center",justifyContent:"center",children:N("social_network.icon.colorful","",t.socialNetwork)})]}),e.jsx(zs,{grow:1,alignItems:"stretch",justifyContent:"flexEnd",wrap:"wrap",className:Nt.addChannel_easyMode_actions,direction:"column",children:t.children})]}),Yi=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Ds.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Ds.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(Zt,{})}),onClick:l,children:n("Sign in with Blogger")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Xi=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(k=>k.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const k=window.open("about:blank","_blank","width=700,height=500");if(!k){o.error(n("Window could not open"));return}a(!0),k.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Ds.slug,app_id:f,proxy:r?l:""},b=>{k.location.href=b.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},k=>{const b=k.apps.filter(B=>B.social_network===Ds.slug);y(b),b.length===1&&C(b[0].id)})});return p.useEffect(()=>H(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Ds.slug,docLink:"https://www.fs-poster.com/documentation/share-wordpress-posts-to-blogger-automatically"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:k=>C(k),options:g.map(k=>e.jsx(W.Option,{value:k.id,children:k.name},k.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),qi=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Xi,{setIsAdvancedMode:r}):e.jsx(Yi,{setIsAdvancedMode:r})},Ji="fs-poster-agcNjt1",er="fs-poster-zimG7VT",tr="fs-poster-dhz-5J4",sr="fs-poster-zOOTLAu",or="fs-poster-xZhORPi",ao={modal_dialog:Ji,modalClose:er,modal_footer:tr,modal_header:sr,modal_body:or},ze=t=>e.jsx(Is,{onClose:t.onClose,children:e.jsxs(Is.Dialog,{size:"xs",className:ao.modal_dialog,children:[e.jsx(Is.CloseButton,{className:ao.modalClose,onClick:t.onClose}),e.jsx(Is.Header,{className:ao.modal_header}),e.jsx(Is.Body,{className:ao.modal_body,children:e.jsx(mi,{label:t.infoText,value:t.infoCode})}),e.jsx(Is.Footer,{className:ao.modal_footer,children:e.jsx(V,{size:"sm",loading:t.loading,onClick:t.onDone,children:n("Done")})})]})}),nr=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Ds.slug,name:r,client_id:l,client_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Blogger App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Client ID"),size:"sm",placeholder:n("Enter client id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Client Secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})};class h extends ti{static registerHookListener(s,o,i=24){return super.registerHookListener(s,o,i)}}const je=xe(t=>({postTitle:"",postText:"",postStatus:"",postStatusOptions:[],sendCategories:!1,sendTags:!1,sendPagesAsPage:!1,setSettings:s=>t(s)})),ar=j.memo(()=>{const t=M(),s=R(),o=je(f=>f.postTitle),i=je(f=>f.postText),a=je(f=>f.postStatus),r=je(f=>f.sendCategories),c=je(f=>f.sendTags),l=je(f=>f.sendPagesAsPage),[d,g]=p.useState(!1),y=()=>{g(!0),t.post("v1/social-networks/blogger/settings",{post_title:o,post_text:i,post_status:a,send_categories:r,send_tags:c,send_pages_as_page:l},f=>{g(!1),s.success(n("Saved successfully"))},()=>g(!1))};return e.jsx(V,{size:"md",onClick:y,loading:d,children:n("Save changes")})}),ir=j.memo(()=>{const t=je(o=>o.postTitle),s=je(o=>o.setSettings);return e.jsx(O,{label:n("You can customize the Post title as you like by using the keywords."),description:n("You can customize the Post title as you like by using the keywords."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),rr=j.memo(()=>{const t=je(o=>o.postText),s=je(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),lr=j.memo(()=>{const t=je(i=>i.postStatus),s=je(i=>i.postStatusOptions),o=je(i=>i.setSettings);return e.jsx(O,{label:n("Post status"),description:n("Define the shared post status."),content:e.jsx(W,{value:t,onChange:i=>o({postStatus:i}),valueRender:i=>{var a;return(a=s.find(r=>r.value===i))==null?void 0:a.label},options:s.map(i=>e.jsx(W.Option,{value:i.value,children:i.label},i.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})})}),cr=j.memo(()=>{const t=je(o=>o.sendCategories),s=je(o=>o.setSettings);return e.jsx(O,{label:n("Share WordPress categories as Blogger hashtags"),description:n("Enable the option to add the WordPress categories as Blogger hashtags."),content:e.jsx(G,{checked:t,onChange:o=>{s({sendCategories:o.currentTarget.checked})}})})}),dr=j.memo(()=>{const t=je(o=>o.sendTags),s=je(o=>o.setSettings);return e.jsx(O,{label:n("Share WordPress tags as Blogger labels"),description:n("Enable the option to add the WordPress tags as Blogger labels. Note that the combined length of all the labels must be at most 200 characters so that FS Poster will cut the exceeding part of the Tags."),content:e.jsx(G,{checked:t,onChange:o=>{s({sendTags:o.currentTarget.checked})}})})}),ur=j.memo(()=>{const t=je(o=>o.sendPagesAsPage),s=je(o=>o.setSettings);return e.jsx(O,{label:n("Share WP pages as Blogger pages"),description:n("WordPress pages will be shared as Blogger pages."),content:e.jsx(G,{checked:t,onChange:o=>{s({sendPagesAsPage:o.currentTarget.checked})}}),withoutDivider:!0})}),pr=j.memo(()=>{const t=M(),s=je(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/blogger/settings",{},a=>{s({postTitle:a.post_title,postText:a.post_text,postStatus:a.post_status,postStatusOptions:a.post_status_options,sendCategories:a.send_categories,sendTags:a.send_tags,sendPagesAsPage:a.send_pages_as_page}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(ir,{}),e.jsx(rr,{}),e.jsx(lr,{}),e.jsx(cr,{}),e.jsx(dr,{}),e.jsx(ur,{})]})}),la={Actions:ar,Body:pr},hr=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),mr=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=ca(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},gr=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=ca(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},xr=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(gr,{}),e.jsx(mr,{})]}),ca=x.createUseActivePostPayloadHook(),jr="fs-poster-eIxeuKu",fr="fs-poster-eKpWGVx",kr="fs-poster-adykrHm",xo={mediaAdd:jr,mediaImg:fr,mediaImg_remove:kr},X=t=>{const[s,o]=[t.multi?t.images||[]:t.image?[t.image]:[],t.multi?t.setImages:a=>t.setImage(a.find(()=>!0))],i=()=>{if(!t.multi&&s.length<1||t.multi)if(window.wp&&window.wp.media){const a=window.wp.media({title:n("Select or Upload Media"),button:{text:n("Use this media")},multiple:t.multi,library:{post__not_in:s.length>0?s.map(r=>r.id):[]}});a.on("select",()=>{const c=a.state().get("selection").toJSON().map(l=>({id:l.id,url:l.url}));o(t.multi?[...s,...c]:c)}),a.open()}else console.error("The WordPress media uploader is not available.")};return e.jsx(Ro,{w:"100%",offsetScrollbars:!0,children:e.jsxs(ot,{className:xo.media,gap:6,children:[e.jsx(ot,{className:xo.mediaAdd,justify:"center",align:"center",onClick:i,style:{cursor:s.length===1&&!t.multi?"not-allowed":"pointer"},children:e.jsx(Si,{size:24,color:"#98A2B3",stroke:2})}),s.map((a,r)=>e.jsxs(ot,{className:xo.mediaImg,children:[e.jsx(_r,{id:a.id}),e.jsx(ot,{className:xo.mediaImg_remove,justify:"center",align:"center",onClick:()=>o(s.filter(c=>c.id!==a.id)),children:e.jsx(vo,{size:12,color:"#FFFFFF"})})]},r))]})})};function _r(t){const[s,o]=p.useState(null);return p.useEffect(()=>{window.wp.media.attachment(t.id).fetch().then(o)},[t.id]),s?e.jsx(gi,{src:s.url,ignore:s.type!=="video",children:i=>e.jsx("img",{src:i.src,width:78,height:78,alt:"media",style:{objectFit:"cover"}})}):null}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customizationData.images,setImages:s=>{t.setCustomizationData(I(A({},t.customizationData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:"post_content",value:t.customizationData.post_content,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{post_content:s}))}})]}));me.push({key:"blogger",title:"Blogger",accentColor:"#F06A3514",icon:e.jsx(Wo,{}),iconColorful:e.jsx(Zt,{}),composerContent:e.jsx(xr,{}),composer:{syncKeys:{postTitle:"postTitle",postContent:"postContent"},initialState:()=>({postTitle:"",postContent:"",is_draft:!1,kind:"post",send_pages_as_page:!1,custom_labels:[],send_categories:!1,send_tags:!1}),loadState:t=>({postTitle:t.post_title||"",postContent:t.post_content||"",is_draft:t.is_draft,kind:t.kind,send_pages_as_page:t.send_pages_as_page,custom_labels:t.custom_labels,send_categories:t.send_categories,send_tags:t.send_tags}),saveState:t=>({post_title:t.postTitle,post_content:t.postContent,is_draft:t.is_draft,kind:t.kind,send_pages_as_page:t.send_pages_as_page,custom_labels:t.custom_labels,send_categories:t.send_categories,send_tags:t.send_tags})}});const He={slug:"blogger",label:"Blogger",Icon:Wo};h.registerHookListener("social_networks",t=>[...t,He.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:He.slug,label:"Blogger",icon:e.jsx(Zt,{})}],19);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:He.slug,label:"Blogger",icon:e.jsx(Wo,{})}],19);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==He.slug?t:e.jsx(qi,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===He.slug)?[...t,{slug:"blogger",icon:e.jsx(Zt,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===He.slug)?[...t,{slug:"blogger",icon:e.jsx(Zt,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===He.slug)?[...t,{slug:"blogger",icon:e.jsx(Zt,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:He.slug,label:"Blogger",icon:e.jsx(Zt,{})}],19);h.registerHookListener("add_app.content",(t,s,o)=>s!==He.slug?t:e.jsx(nr,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===He.slug?"Blogger":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===He.slug?e.jsx(Zt,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===He.slug?"#f57d00":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===He.slug?"#F06A3514":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"blogger",label:"Blogger",icon:e.jsx(Wo,{})}],19);h.registerHookListener("settings.actions",(t,s)=>s===He.slug?e.jsx(la.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===He.slug?e.jsx(la.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===He.slug?e.jsx(hr,{customPostData:o,setCustomPostData:i}):t);const Ds=He,As=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#637AC7"}),e.jsx("path",{d:"M18.0183 7.47394C16.9174 6.54303 15.5963 6.07758 14.2018 6L13.9817 6.23273C15.2294 6.54303 16.3303 7.16364 17.3578 8.01697C16.1101 7.31879 14.7156 6.85333 13.2477 6.69818C12.8073 6.62061 12.4404 6.62061 12 6.62061C11.5596 6.62061 11.1927 6.62061 10.7523 6.69818C9.2844 6.85333 7.88991 7.31879 6.6422 8.01697C7.66972 7.16364 8.77064 6.54303 10.0183 6.23273L9.79817 6C8.40367 6.07758 7.08257 6.54303 5.98165 7.47394C4.73394 9.95636 4.07339 12.7491 4 15.6194C5.10092 16.8606 6.6422 17.6364 8.25688 17.6364C8.25688 17.6364 8.77064 17.0158 9.13761 16.4727C8.18349 16.24 7.30275 15.697 6.7156 14.8436C7.22936 15.1539 7.74312 15.4642 8.25688 15.697C8.91743 16.0073 9.57798 16.1624 10.2385 16.3176C10.8257 16.3952 11.4128 16.4727 12 16.4727C12.5872 16.4727 13.1743 16.3952 13.7615 16.3176C14.422 16.1624 15.0826 16.0073 15.7431 15.697C16.2569 15.4642 16.7706 15.1539 17.2844 14.8436C16.6972 15.697 15.8165 16.24 14.8624 16.4727C15.2294 17.0158 15.7431 17.6364 15.7431 17.6364C17.3578 17.6364 18.8991 16.8606 20 15.6194C19.9266 12.7491 19.2661 9.95636 18.0183 7.47394ZM9.57798 14.223C8.84404 14.223 8.18349 13.5248 8.18349 12.6715C8.18349 11.8182 8.84404 11.12 9.57798 11.12C10.3119 11.12 10.9725 11.8182 10.9725 12.6715C10.9725 13.5248 10.3119 14.223 9.57798 14.223ZM14.422 14.223C13.6881 14.223 13.0275 13.5248 13.0275 12.6715C13.0275 11.8182 13.6881 11.12 14.422 11.12C15.156 11.12 15.8165 11.8182 15.8165 12.6715C15.8165 13.5248 15.156 14.223 14.422 14.223Z",fill:"white"})]}),Cr=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:_o.slug,name:r,app_id:l,bot_token:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Discord App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Bot Token"),size:"sm",placeholder:n("Enter bot token"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},yr=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),[a,r]=p.useState(!1),[c,l]=p.useState(""),[d,g]=p.useState([]),[y,f]=p.useState(),C=p.useMemo(()=>d.find(H=>H.id===y),[y]),T=()=>{if(a&&!c){s.error(n("Please enter the proxy"));return}if(!y){s.error(n("Please select an app"));return}const H=window.open("about:blank","_blank","width=700,height=650");if(!H){s.error(n("Window could not open"));return}i(!0),H.onpagehide=()=>i(!1),t.post("v1/channels/get-auth-url",{social_network:_o.slug,app_id:y,proxy:a?c:""},k=>{H.location.href=k.auth_url},()=>i(!1))},m=Je(()=>{t.get("v1/settings/apps",{},H=>{const k=H.apps.filter(b=>b.social_network===_o.slug);g(k),k.length===1&&f(k[0].id)})});return p.useEffect(()=>m(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:_o.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-discord"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[d.length>0?e.jsx(W,{value:C==null?void 0:C.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:H=>f(H),options:d.map(H=>e.jsx(W.Option,{value:H.id,children:H.name},H.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App'.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:a,onChange:H=>r(H.currentTarget.checked)}),a&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:c,onChange:H=>l(H.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:T,loading:o,children:n("Continue")})})]})]})}),wr=t=>{const s=M(),o=R(),i=te();return p.useEffect(()=>(window.FSPosterAddChannels=a=>i.show(le,{sourceChannels:a.filter(r=>!r.id),destinationChannels:a.filter(r=>!!r.id),onAdd:r=>{s.post("v1/channels",{channels:r},c=>{t.onAdd(),t.onClose(),o.success(r.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(r.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),e.jsx(yr,{})},Qn=x.createUseActivePostPayloadHook();function be(){const t=x.useStore(),s=Qn(r=>r.uploadMediaType),o=Qn(r=>r.aiTemplateId),{imageTemplates:i}=An(),a=i.find(r=>r.id===o);return e.jsx(u,{gap:"xs",children:e.jsx(L,{value:"ai_image",label:e.jsxs(q,{children:[e.jsx(w,{size:"sm",children:n("Use AI template")}),s==="ai_image"&&e.jsx(Pn,{type:"image",target:e.jsx(Kt,{h:20,variant:"light",color:"#F23B6B",size:"compact-xs",rightSection:e.jsx(No,{size:14}),styles:{section:{marginLeft:"0.4rem"}},radius:"lg",children:a?a.title:n("Select template")}),onSelect:r=>{t.mergeActivePostPayload({aiTemplateId:r})}})]})})})}function Ve(t){const{useStore:s}=t,o=s(l=>l.mediaTypeToUpload),i=s(l=>l.aiTemplateId),a=s(l=>l.setSettings),{imageTemplates:r}=An(),c=r.find(l=>l.id===i);return e.jsx(u,{gap:"xs",children:e.jsx(L,{value:"ai_image",label:e.jsxs(q,{children:[e.jsx(w,{size:"sm",children:n("Use AI template")}),o==="ai_image"&&e.jsx(Pn,{type:"image",target:e.jsx(Kt,{h:20,variant:"light",color:"#F23B6B",size:"compact-xs",rightSection:e.jsx(No,{size:14}),styles:{section:{marginLeft:"0.4rem"}},radius:"lg",children:c?c.title:n("Select template")}),onSelect:l=>{a({aiTemplateId:l})}})]})})})}const bt=xe(t=>({postText:"",cutPostText:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),vr=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=bt.getState();t.post("v1/social-networks/discord/settings",{post_text:r.postText,cut_post_text:r.cutPostText,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),br=j.memo(()=>{const t=bt(o=>o.postText),s=bt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"discord_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Tr=j.memo(()=>{const t=bt(o=>o.cutPostText),s=bt(o=>o.setSettings);return e.jsx(O,{label:n("Limit custom message characters"),description:n("Discord limits a message length to a maximum of 2000 characters. By enabling the option, the first 2000 characters of your custom message will be shared; otherwise, the message won't be shared because of the limit."),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})}),withoutDivider:!0})}),Ar=j.memo(()=>{const t=bt(i=>i.uploadMedia),s=bt(i=>i.mediaTypeToUpload),o=bt(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:bt})]})})]})})}),Pr=j.memo(()=>{const t=M(),s=bt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/discord/settings",{},a=>{s({postText:a.post_text,cutPostText:a.cut_post_text,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(br,{}),e.jsx(Ar,{}),e.jsx(Tr,{})]})}),da={Actions:vr,Body:Pr},Sr=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Lr=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=ko(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Ir=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Mr,{}),e.jsx(Lr,{})]}),ko=x.createUseActivePostPayloadHook();function Mr(){const t=x.useStore(),s=x.useSelector(r=>r.wpPostType==="fsp_post"),o=ko(r=>r.uploadMedia),i=ko(r=>r.uploadMediaType),a=ko(r=>r.mediaIds);return e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o,onChange:r=>t.mergeActivePostPayload({uploadMedia:r.target.checked})}),o&&!s&&e.jsx(L.Group,{size:"sm",value:i,onChange:r=>t.mergeActivePostPayload({uploadMediaType:r}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),i==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:a.map(r=>({id:r,url:""})),setImages:r=>{t.mergeActivePostPayload({mediaIds:r.map(c=>c.id)})},multi:!0})})]})]})})}),o&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:a.map(r=>({id:r,url:""})),setImages:r=>{t.mergeActivePostPayload({mediaIds:r.map(c=>c.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"discord",title:"Discord",accentColor:"#657CC814",icon:e.jsx(Vo,{}),iconColorful:e.jsx(As,{}),composerContent:e.jsx(Ir,{}),composer:{syncKeys:{postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const De={slug:"discord",label:"Discord",Icon:Vo};h.registerHookListener("social_networks",t=>[...t,De.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:De.slug,label:"Discord",icon:e.jsx(As,{})}],22);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:De.slug,label:"Discord",icon:e.jsx(Vo,{})}],22);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==De.slug?t:e.jsx(wr,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===De.slug)?[...t,{slug:"discord",icon:e.jsx(As,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===De.slug)?[...t,{slug:"discord",icon:e.jsx(As,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===De.slug)?[...t,{slug:"discord",icon:e.jsx(As,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:De.slug,label:"Discord",icon:e.jsx(As,{})}],22);h.registerHookListener("add_app.content",(t,s,o)=>s!==De.slug?t:e.jsx(Cr,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===De.slug?"Discord":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===De.slug?e.jsx(As,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===De.slug?"#5865f2":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===De.slug?"#657CC814":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"discord",label:"Discord",icon:e.jsx(Vo,{})}],22);h.registerHookListener("settings.actions",(t,s)=>s===De.slug?e.jsx(da.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===De.slug?e.jsx(da.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===De.slug?e.jsx(Sr,{customPostData:o,setCustomPostData:i}):t);const _o=De,zr=t=>{const s=M(),[o,i]=p.useState([]),[a,r]=p.useState(!1),c=()=>{r(!0),s.post("v1/social-networks/fb/get-pages",{group_id:t.channel.id},l=>{i(l.pages),r(!1)})};return e.jsxs(u,{children:[e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize content"),checked:t.customizationData.use_custom_post_content,onChange:l=>t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_content:l.currentTarget.checked}))}),t.customizationData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customizationData.post_content,onChange:l=>{t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_content:!0,post_content:l}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),t.channel.channel_type==="group"&&e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post to group as")}),e.jsx(W,{value:t.customizationData.group_poster,placeholder:n("Select pages"),onChange:l=>t.setCustomizationData(I(A({},t.customizationData),{group_poster:l})),onOpen:c,loading:a,valueRender:l=>l,options:o.map(l=>e.jsx(W.Option,{value:l.id,children:l.name},l.id)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{miw:120}})]})]})},Hr=j.memo(t=>{var k,b,B,F;const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(((k=t.initialData)==null?void 0:k.useProxy)||!1),[d,g]=p.useState(((b=t.initialData)==null?void 0:b.proxy)||""),[y,f]=p.useState(((B=t.initialData)==null?void 0:B.cookieCUser)||""),[C,T]=p.useState(((F=t.initialData)==null?void 0:F.cookieXS)||""),m=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/fb/channel-via-cookies",{cookie_c_user:y,cookie_xs:C,proxy:c?d:""},$=>{r(!1),i.show(le,{sourceChannels:$.channels.filter(U=>!U.id),destinationChannels:$.channels.filter(U=>!!U.id),onAdd:U=>{s.post("v1/channels",{channels:U},D=>{t.onAdd(),t.onClose(),o.success(U.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(U.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},H=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:$=>l($.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:$=>g($.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:cs.slug,docLink:"https://www.fs-poster.com/documentation/how-to-schedule-and-auto-publish-to-facebook-from-wordpress"}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("Supports groups, including member groups, managed pages, and account profiles. You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{size:"sm",label:n("Cookie: {{cookie}}",{cookie:"c_user"}),placeholder:n('Enter cookie "{{cookie}}"',{cookie:"c_user"}),value:y,onChange:$=>f($.currentTarget.value)}),e.jsx(P,{size:"sm",label:n("Cookie: xs"),placeholder:n('Enter cookie "{{cookie}}"',{cookie:"xs"}),value:C,onChange:$=>T($.currentTarget.value)})]}),H]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:m,loading:a,children:n("Continue")})})]})]})}),Dr=t=>e.jsx(Hr,A({},t)),Br=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(Dr,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,cookieCUser:s.session_data.fbUserId,cookieXS:s.session_data.fbSess}})]})})]}),Er=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Tt(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Ur=()=>{const t=x.useStore(),s=Tt(c=>c.attachLink),o=Tt(c=>c.customLink),i=Tt(c=>c.uploadMedia),a=x.useSelector(c=>c.wpPostType==="fsp_post");return x.useSelector(c=>c.wpPostType==="attachment")&&t.mergeActivePostPayload({attachLink:!1,customLink:""}),e.jsxs(u,{styles:{root:{display:"inline-grid"}},children:[e.jsx(fe,{label:i?n("Attach link is not possible when media upload is enabled"):"",disabled:!i,refProp:"rootRef",children:e.jsx(E,{label:n("Attach link"),checked:s,onChange:c=>{i||t.mergeActivePostPayload({attachLink:c.target.checked})},disabled:i})}),a&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:c=>t.mergeActivePostPayload({customLink:c.currentTarget.value})})]})},Fr=()=>{const t=x.useStore(),s=x.useSelector(c=>c.posts.find(l=>l.active)),o=Tt(c=>c.firstComment),i=Tt(c=>c.enableComment),a=x.useSelector(c=>c.wpPostType==="fsp_post"),r=s.channel.method==="app";return e.jsxs(u,{gap:"xs",styles:{root:{display:"inline-grid"}},children:[e.jsx(fe,{label:r?"":n("This feature is only for channels added by 'app' method"),disabled:r,refProp:"rootRef",children:e.jsx(E,{label:n("First comment"),checked:r&&i,onChange:c=>{r&&t.mergeActivePostPayload({enableComment:c.currentTarget.checked})},disabled:!r})}),r&&i&&e.jsx(u,{w:"700px",children:a?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:c=>{t.mergeActivePostPayload({firstComment:c})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:c=>{t.mergeActivePostPayload({firstComment:c})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},$r=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Ur,{}),e.jsx(Or,{}),e.jsx(Fr,{}),e.jsx(Er,{})]}),Tt=x.createUseActivePostPayloadHook();function Or(){const t=x.useStore(),s=x.useSelector(d=>d.wpPostType==="fsp_post"),o=x.useSelector(d=>d.wpPostType==="attachment"),i=x.useSelector(d=>d.wpPostId),a=Tt(d=>d.attachLink),r=Tt(d=>d.uploadMedia),c=Tt(d=>d.uploadMediaType),l=Tt(d=>d.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(u,{gap:"lg",styles:{root:{display:"inline-grid"}},children:e.jsx(fe,{label:a?n("Media upload is not possible when attach link is enabled"):"",disabled:!a,refProp:"rootRef",children:e.jsx(E,{label:n("Upload media"),checked:o||r,onChange:d=>{a||t.mergeActivePostPayload({uploadMedia:d.target.checked})},disabled:a||o})})}),r&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:c,onChange:d=>t.mergeActivePostPayload({uploadMediaType:d}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),c==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})]})})}),r&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})}const Rr=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Featured media")}),e.jsx(X,{images:t.customizationData.images,setImages:s=>{t.setCustomizationData(I(A({},t.customizationData),{images:s}))},multi:!0})]})),Nr=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(E,{size:"sm",label:n("Share to feed"),checked:t.customizationData.share_to_feed,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_feed:s.currentTarget.checked}))}),t.customizationData.share_to_feed&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_post_text",value:t.customizationData.custom_post_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{custom_post_text:s}))}})})]})),Kr=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Story")}),e.jsx(E,{size:"sm",label:n("Share to story"),checked:t.customizationData.share_to_story,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_story:s.currentTarget.checked}))}),t.customizationData.share_to_story&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_story_text",value:t.customizationData.custom_story_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{custom_story_text:s}))}})})]})),Wr=t=>e.jsxs(u,{p:"xs",gap:"xl",children:[e.jsx(Rr,A({},t)),e.jsx(Nr,A({},t)),e.jsx(Kr,A({},t))]}),Vr=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:cs.slug,name:r,app_id:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Facebook App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},Yt=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_44960)",children:[e.jsx("path",{d:"M24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 17.9895 4.3882 22.954 10.125 23.8542V15.4688H7.07812V12H10.125V9.35625C10.125 6.34875 11.9166 4.6875 14.6576 4.6875C15.9701 4.6875 17.3438 4.92188 17.3438 4.92188V7.875H15.8306C14.34 7.875 13.875 8.80008 13.875 9.75V12H17.2031L16.6711 15.4688H13.875V23.8542C19.6118 22.954 24 17.9895 24 12Z",fill:"url(#paint0_linear_7247_44960)"}),e.jsx("path",{d:"M16.6711 15.4688L17.2031 12H13.875V9.75C13.875 8.80102 14.34 7.875 15.8306 7.875H17.3438V4.92188C17.3438 4.92188 15.9705 4.6875 14.6576 4.6875C11.9166 4.6875 10.125 6.34875 10.125 9.35625V12H7.07812V15.4688H10.125V23.8542C11.3674 24.0486 12.6326 24.0486 13.875 23.8542V15.4688H16.6711Z",fill:"white"})]}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_7247_44960",x1:"12",y1:"0",x2:"12",y2:"23.8542",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#18ACFE"}),e.jsx("stop",{offset:"1",stopColor:"#0163E0"})]}),e.jsx("clipPath",{id:"clip0_7247_44960",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),Qr=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:cs.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:cs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(Yt,{})}),onClick:l,children:n("Sign in with Facebook")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Gr=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState([]),[C,T]=p.useState(),m=p.useMemo(()=>y.find(K=>K.id===C),[C]),[H,k]=p.useState(""),[b,B]=p.useState(""),F=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}if(!C){o.error(n("Please select an app"));return}const K=window.open("about:blank","_blank","width=700,height=500");if(!K){o.error(n("Window could not open"));return}r(!0),K.onpagehide=()=>r(!1),s.post("v1/channels/get-auth-url",{social_network:cs.slug,app_id:C,proxy:c?d:""},J=>{K.location.href=J.auth_url},()=>r(!1))},$=Je(()=>{s.get("v1/settings/apps",{},K=>{const J=K.apps.filter(ue=>ue.social_network===cs.slug);f(J),J.length===1&&T(J[0].id)})});p.useEffect(()=>$(),[]);const U=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/fb/channel-via-cookies",{cookie_c_user:H,cookie_xs:b,proxy:c?d:""},K=>{r(!1),i.show(le,{sourceChannels:K.channels.filter(J=>!J.id),destinationChannels:K.channels.filter(J=>!!J.id),onAdd:J=>{s.post("v1/channels",{channels:J},()=>{t.onAdd(),t.onClose(),o.success(J.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(J.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},D=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:K=>l(K.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:K=>g(K.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:cs.slug,docLink:"https://www.fs-poster.com/documentation/how-to-schedule-and-auto-publish-to-facebook-from-wordpress"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the simplest, safest, and has a longer authorization time. Supports pages and doesn't support groups and account profiles."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[y.length>0?e.jsx(W,{value:m==null?void 0:m.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:K=>T(K),options:y.map(K=>e.jsx(W.Option,{value:K.id,children:K.name},K.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or select a different method.")}),D]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:F,loading:a,children:n("Continue")})]})]}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("Supports groups, including member groups, managed pages, and account profiles. You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{size:"sm",label:n("Cookie: {{cookie}}",{cookie:"c_user"}),placeholder:n('Enter cookie "{{cookie}}"',{cookie:"c_user"}),value:H,onChange:K=>k(K.currentTarget.value)}),e.jsx(P,{size:"sm",label:n("Cookie: xs"),placeholder:n('Enter cookie "{{cookie}}"',{cookie:"xs"}),value:b,onChange:K=>B(K.currentTarget.value)})]}),D]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:U,loading:a,children:n("Continue")})]})]})]})}),Zr=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},()=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Gr,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(Qr,{setIsAdvancedMode:r})},Yr=t=>e.jsxs(e.Fragment,{children:[t.channel.channel_type,t.channel.poster_name&&` | ${t.channel.poster_name}`]}),Xr="fs-poster-dVSHp1-",qr="fs-poster-dzWd0of",Jr="fs-poster--gvgDIW",bn={preview:Xr,previewInner:qr,title:Jr};function ua(t){return function(s){const o=t(s.selector);return s.children(o)}}const oe=xe(t=>({importComments:!1,importCommentsPublishedIn:"",importCommentsPublishedInOptions:[],postText:"",postAttachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,aiTemplateId:void 0,shareToFirstComment:!1,firstCommentText:"",storyText:"",storyAttachLink:!1,storyBgColor:"",storyTitleBgColor:"",storyTitleBgOpacity:0,storyTitleColor:"",storyTitleTopOffset:0,storyTitleLeftOffset:0,storyTitleWidth:0,storyTitleFontSize:0,storyIsRtl:!1,storyTitleFontFamily:void 0,setSettings:s=>t(s)})),wt=ua(oe),el=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{var c;i(!0);const r=oe.getState();t.post("v1/social-networks/fb/settings",{import_comments:r.importComments,import_comments_published_in:r.importCommentsPublishedIn,post_text:r.postText,post_attach_link:r.postAttachLink,post_upload_media:r.uploadMedia,post_media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId,share_to_first_comment:r.shareToFirstComment,first_comment_text:r.firstCommentText,story_text:r.storyText,story_attach_link:r.storyAttachLink,story_customization_bg_color:r.storyBgColor.substring(1),story_customization_title_bg_color:r.storyTitleBgColor.substring(1),story_customization_title_bg_opacity:r.storyTitleBgOpacity,story_customization_title_color:r.storyTitleColor.substring(1),story_customization_title_top_offset:r.storyTitleTopOffset,story_customization_title_left_offset:r.storyTitleLeftOffset,story_customization_title_width:r.storyTitleWidth,story_customization_title_font_size:r.storyTitleFontSize,story_customization_is_rtl:r.storyIsRtl,story_customization_title_font_family:(c=r.storyTitleFontFamily)==null?void 0:c.id},l=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),tl=j.memo(()=>{const t=oe(a=>a.importComments),s=oe(a=>a.importCommentsPublishedIn),o=oe(a=>a.importCommentsPublishedInOptions),i=oe(a=>a.setSettings);return e.jsx(O,{label:n("Import Facebook Comments"),description:n("Activate the feature to fetch Facebook comments as WordPress post comments. This feature is supported by the Official App method, and comments are fetched every 12 hours."),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:a=>i({importComments:a.currentTarget.checked})}),t&&e.jsx(W,{label:n("Fetch the post comments published in"),value:s,onChange:a=>i({importCommentsPublishedIn:a}),valueRender:a=>{var r;return(r=o.find(c=>c.value===a))==null?void 0:r.label},options:o.map(a=>e.jsx(W.Option,{value:a.value,children:a.label},a.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:360},position:"bottom-end"})]}),withoutDivider:!0})}),sl=j.memo(()=>{const t=oe(o=>o.postText),s=oe(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"postText",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),ol=j.memo(()=>{const t=oe(i=>i.postAttachLink),s=oe(i=>i.uploadMedia),o=oe(i=>i.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(u,{styles:{root:{display:"inline-flex"}},children:e.jsx(fe,{label:s?n("Attach post link is not possible when media upload is enabled"):"",disabled:!s,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:i=>{s||o({postAttachLink:i.currentTarget.checked})},disabled:s})})})})}),nl=j.memo(()=>{const t=oe(a=>a.uploadMedia),s=oe(a=>a.mediaTypeToUpload),o=oe(a=>a.postAttachLink),i=oe(a=>a.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",styles:{root:{display:"inline-flex"}},children:[e.jsx(fe,{label:o?n("Media upload is not possible when attach post link is enabled"):"",disabled:!o,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:a=>{o||i({uploadMedia:a.currentTarget.checked})},disabled:o})}),t&&e.jsx(L.Group,{value:s,onChange:a=>i({mediaTypeToUpload:a}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:oe})]})})]})})}),al=j.memo(()=>{const t=oe(i=>i.shareToFirstComment),s=oe(i=>i.firstCommentText),o=oe(i=>i.setSettings);return e.jsx(O,{label:n("Post a first comment"),description:n("Enable the option to share a customized message as a first comment. The feature is supported by the app method only."),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({shareToFirstComment:i.currentTarget.checked})}),t&&e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"firstComment",value:s,onChange:i=>{o({firstCommentText:i})},withAI:!0,keywords:N("keywords",[],v.content)})})]}),withoutDivider:!0})}),il=j.memo(()=>{const t=oe(o=>o.storyText),s=oe(o=>o.setSettings);return e.jsx(O,{label:n("Story text"),description:n("Customize the shared story content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"storyText",value:t,onChange:o=>{s({storyText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),rl=j.memo(()=>{const t=oe(o=>o.storyAttachLink),s=oe(o=>o.setSettings);return e.jsx(O,{label:n("Attach story link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({storyAttachLink:o.currentTarget.checked})})})}),ll=j.memo(()=>{const t=M(),s=oe(l=>l.setSettings),[o,i]=p.useState([]),[a,r]=p.useState("");p.useEffect(()=>{t.get("v1/fonts",{},l=>{i(l.fonts)})},[]);const c=p.useMemo(()=>o.filter(l=>l.name.toLowerCase().includes(a.toLowerCase().trim())).map(l=>e.jsx(W.Option,{value:l.id,children:e.jsx("div",{style:{fontFamily:`${l.name}, ${l.category}`,fontWeight:l.variant},children:l.name})},l.id)),[o,a]);return e.jsxs(u,{gap:"lg",children:[e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"md",c:"dark",fw:600,children:n("Appearances")}),e.jsx(w,{size:"sm",c:"dimmed",children:n("Customize story appearances")})]}),e.jsxs(Hs,{gutter:"xl",align:"flex-start",mt:"xl",children:[e.jsx(Hs.Col,{span:{base:12,md:8},children:e.jsx(_,{maw:"400px",children:e.jsxs(u,{gap:"lg",children:[e.jsx(wt,{selector:l=>l.storyBgColor,children:l=>e.jsx(xt,{label:n("Story background color"),value:l,onChange:d=>s({storyBgColor:d})})}),e.jsx(wt,{selector:l=>l.storyTitleBgColor,children:l=>e.jsx(xt,{label:n("Title background color"),value:l,onChange:d=>s({storyTitleBgColor:d})})}),e.jsxs(_,{children:[e.jsx(w,{fw:500,size:"sm",children:n("Title background opacity")}),e.jsx(wt,{selector:l=>l.storyTitleBgOpacity,children:l=>e.jsx(qs,{value:l,onChange:d=>s({storyTitleBgOpacity:d}),labelAlwaysOn:!0})})]}),e.jsx(wt,{selector:l=>l.storyTitleColor,children:l=>e.jsx(xt,{label:n("Title color"),value:l,onChange:d=>s({storyTitleColor:d})})}),e.jsx(wt,{selector:l=>l.storyTitleTopOffset,children:l=>e.jsx(Ie,{value:l,onChange:d=>s({storyTitleTopOffset:d}),label:n("Title top offset")})}),e.jsx(wt,{selector:l=>l.storyTitleLeftOffset,children:l=>e.jsx(Ie,{value:l,onChange:d=>s({storyTitleLeftOffset:d}),label:n("Title left offset")})}),e.jsx(wt,{selector:l=>l.storyTitleWidth,children:l=>e.jsx(Ie,{value:l,onChange:d=>s({storyTitleWidth:d}),label:n("Title width")})}),e.jsx(wt,{selector:l=>l.storyTitleFontSize,children:l=>e.jsx(Ie,{value:l,onChange:d=>s({storyTitleFontSize:d}),label:n("Title font size")})}),e.jsx(wt,{selector:l=>l.storyTitleFontFamily,children:l=>e.jsx(W,{label:n("Title font family"),placeholder:n("Select font"),value:l==null?void 0:l.id,onChange:d=>{s({storyTitleFontFamily:o.find(g=>g.id===d)}),r("")},onSearchChange:d=>r(d),valueRender:d=>{var g;return(g=o.find(y=>y.id===d))==null?void 0:g.name},options:c,dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})}),e.jsx(wt,{selector:l=>l.storyIsRtl,children:l=>e.jsx(E,{checked:l,onChange:d=>s({storyIsRtl:d.currentTarget.checked}),label:e.jsx(w,{size:"sm",fw:500,children:n("Title RTL mode")})})})]})})}),e.jsx(Hs.Col,{span:{base:12,md:4},className:bn.preview,children:e.jsx(cl,{})})]})]})});function cl(){const t=oe(f=>f.storyBgColor),s=oe(f=>f.storyTitleBgColor),o=oe(f=>f.storyTitleBgOpacity),i=oe(f=>f.storyTitleColor),a=oe(f=>f.storyTitleTopOffset),r=oe(f=>f.storyTitleLeftOffset),c=oe(f=>f.storyTitleWidth),l=oe(f=>f.storyTitleFontSize),d=oe(f=>f.storyIsRtl),g=oe(f=>f.storyTitleFontFamily),y=(f,C)=>`rgba(${parseInt(f.slice(1,3),16)}, ${parseInt(f.slice(3,5),16)}, ${parseInt(f.slice(5,7),16)}, ${C/100})`;return e.jsx(q,{className:bn.previewInner,style:{backgroundColor:t},children:e.jsx("div",{className:bn.title,style:{backgroundColor:y(s,o),color:i,top:a+"px",left:r+"px",width:c+"px",fontSize:l+"px",fontFamily:g==null?void 0:g.name,direction:d?"rtl":"ltr"},children:"{title}"})})}const dl=j.memo(()=>{const t=M(),s=oe(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/fb/settings",{},a=>{s({importComments:a.import_comments,importCommentsPublishedIn:a.import_comments_published_in,importCommentsPublishedInOptions:a.import_comments_published_in_options,postText:a.post_text,postAttachLink:a.post_attach_link,uploadMedia:a.post_upload_media,mediaTypeToUpload:a.post_media_type_to_upload,aiTemplateId:a.ai_template_id,shareToFirstComment:a.share_to_first_comment,firstCommentText:a.first_comment_text,storyText:a.story_text,storyAttachLink:a.story_attach_link,storyBgColor:"#"+a.story_customization_bg_color,storyTitleBgColor:"#"+a.story_customization_title_bg_color,storyTitleBgOpacity:a.story_customization_title_bg_opacity,storyTitleColor:"#"+a.story_customization_title_color,storyTitleTopOffset:a.story_customization_title_top_offset,storyTitleLeftOffset:a.story_customization_title_left_offset,storyTitleWidth:a.story_customization_title_width,storyTitleFontSize:a.story_customization_title_font_size,storyIsRtl:a.story_customization_is_rtl,storyTitleFontFamily:a.story_customization_title_font_family}),i(!1)})},[]),e.jsxs(he,{defaultValue:"general",w:"100%",h:"100%",color:"#7061EF",styles:{root:{display:"flex",flexDirection:"column",overflow:"hidden"},panel:{overflow:"hidden",height:"100%"}},children:[e.jsxs(he.List,{mb:"xs",style:{padding:"15px 24px 0"},children:[e.jsx(he.Tab,{value:"general",children:n("General")}),e.jsx(he.Tab,{value:"feed",children:n("Post Customization")}),e.jsx(he.Tab,{value:"story",children:n("Story Customization")})]}),e.jsx(he.Panel,{value:"general",children:e.jsx(pe,{loading:o,children:e.jsx(tl,{})})}),e.jsx(he.Panel,{value:"feed",children:e.jsxs(pe,{loading:o,children:[e.jsx(sl,{}),e.jsx(nl,{}),e.jsx(ol,{}),e.jsx(al,{})]})}),e.jsx(he.Panel,{value:"story",children:e.jsxs(pe,{loading:o,children:[e.jsx(il,{}),e.jsx(rl,{}),e.jsx(ll,{})]})})]})}),pa={Actions:el,Body:dl};me.push({key:"fb",title:"Facebook",accentColor:"#1877F214",icon:e.jsx(Qo,{}),iconColorful:e.jsx(Yt,{}),composerContent:e.jsx($r,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId",enableComment:"enableComment",firstComment:"firstComment"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],enableComment:!1,firstComment:""}),loadState:t=>{var s;return{attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,enableComment:((s=t.first_comment)==null?void 0:s.length)>0,firstComment:t.first_comment||""}},saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,first_comment:t.enableComment&&t.firstComment.length>0?t.firstComment:""})}});const Ce={slug:"fb",label:"Facebook",Icon:Qo,channelComponent:t=>e.jsx(Yr,{channel:t})};h.registerHookListener("social_networks",t=>[...t,Ce.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ce.slug,label:"Facebook",icon:e.jsx(Yt,{})}],2);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ce.slug,label:"Facebook",icon:e.jsx(Qo,{})}],2);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ce.slug?t:e.jsx(Zr,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ce.slug)?[...t,{slug:"fb",icon:e.jsx(Yt,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ce.slug)?[...t,{slug:"fb",icon:e.jsx(Yt,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ce.slug)?[...t,{slug:"fb",icon:e.jsx(Yt,{})}]:t);h.registerHookListener("content",(t,s,o,i,a)=>{if(o.social_network!==Ce.slug)return t;switch(s){case To.WpPost:case To.CustomPost:return e.jsx(Wr,{customizationData:i,setCustomizationData:a})}});h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ce.slug,label:"Facebook",icon:e.jsx(Yt,{})}],2);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==Ce.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(Br,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ce.slug?t:e.jsx(Vr,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ce.slug?"Facebook":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ce.slug?e.jsx(Yt,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Ce.slug?"#1877f2":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ce.slug?"#1877F214":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"fb",label:"Facebook",icon:e.jsx(Qo,{})}],2);h.registerHookListener("settings.actions",(t,s)=>s===Ce.slug?e.jsx(pa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ce.slug?e.jsx(pa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ce.slug?e.jsx(zr,{customizationData:o,setCustomizationData:i,channel:s}):t);const cs=Ce,Xt=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#B1CFFF"}),e.jsxs("g",{clipPath:"url(#clip0_7253_106692)",children:[e.jsx("path",{d:"M18.2491 8.50641H5.3583C5.05201 8.50641 4.80371 8.7547 4.80371 9.06099V18.4201C4.80371 18.7264 5.05201 18.9747 5.3583 18.9747H18.2491C18.5554 18.9747 18.8037 18.7264 18.8037 18.4201V9.06099C18.8037 8.7547 18.5554 8.50641 18.2491 8.50641Z",fill:"#4989F5"}),e.jsx("path",{d:"M18.0873 8.42773H5.50461C5.11483 8.42773 4.81152 11.4443 4.81152 11.834L11.7022 18.9746H18.0873C18.4783 18.9736 18.795 18.6569 18.796 18.2659V9.1363C18.7949 8.74539 18.4782 8.4288 18.0873 8.42773Z",fill:"url(#paint0_linear_7253_106692)"}),e.jsx("path",{d:"M8.00049 10.2594H12.0005V5.00952H8.59944L8.00049 10.2594Z",fill:"#3C4BA6"}),e.jsx("path",{d:"M16.0005 10.2594H12.0005V5.00952H15.4015L16.0005 10.2594ZM18.8038 6.00471L18.8088 6.0226C18.8076 6.01629 18.8052 6.01042 18.8038 6.00471Z",fill:"#7BABF7"}),e.jsx("path",{d:"M18.8086 6.02248L18.8036 6.00459C18.6768 5.42388 18.1628 5.00978 17.5684 5.0094H15.4014L15.9999 10.2595H19.9999L18.8086 6.02248Z",fill:"#3F51B5"}),e.jsx("path",{d:"M5.19735 6.00476L5.19238 6.02266C5.19359 6.01634 5.19599 6.01048 5.19735 6.00476Z",fill:"#7BABF7"}),e.jsx("path",{d:"M5.19203 6.02248L5.19699 6.00459C5.3238 5.42388 5.83779 5.00978 6.43218 5.0094H8.5994L8 10.2595H4L5.19203 6.02248Z",fill:"#7BABF7"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00702 10.2581C8.00702 11.3621 7.11209 12.257 6.00815 12.257C4.90421 12.257 4.00928 11.3621 4.00928 10.2581H8.00702Z",fill:"#709BE0"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0051 10.2581C12.0051 11.3621 11.1101 12.257 10.0062 12.257C8.90226 12.257 8.00732 11.3621 8.00732 10.2581H12.0051Z",fill:"#3C4BA6"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0026 10.2581C16.0026 11.3621 15.1077 12.257 14.0038 12.257C12.8998 12.257 12.0049 11.3621 12.0049 10.2581H16.0026Z",fill:"#709BE0"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0002 10.2581C20.0002 11.3621 19.1053 12.257 18.0013 12.257C16.8974 12.257 16.0024 11.3621 16.0024 10.2581H20.0002Z",fill:"#3C4BA6"}),e.jsx("path",{d:"M18.001 15.6736C17.9939 15.5784 17.9822 15.4915 17.9655 15.3805H15.785C15.785 15.6855 15.785 16.0183 15.7838 16.3234H17.047C17.0202 16.4656 16.9655 16.6011 16.8861 16.7221C16.8068 16.8431 16.7043 16.9472 16.5846 17.0285C16.5846 17.0285 16.5846 17.0232 16.5837 17.0231C16.4291 17.1246 16.2549 17.1926 16.0724 17.2226C15.8894 17.2561 15.7018 17.2553 15.5192 17.2202C15.3337 17.1818 15.1581 17.1057 15.0032 16.9966C14.7747 16.8345 14.5984 16.6093 14.496 16.3485C14.4882 16.3282 14.481 16.3077 14.4736 16.287V16.2847L14.4756 16.2832C14.3762 15.9915 14.3759 15.6752 14.4748 15.3834C14.5445 15.1786 14.6591 14.9921 14.8103 14.8375C15.165 14.4706 15.6949 14.3326 16.1835 14.4799C16.3709 14.5374 16.5421 14.6381 16.6832 14.7741L17.1094 14.3479C17.1846 14.2719 17.2626 14.1984 17.335 14.1199C17.1189 13.9184 16.8652 13.7613 16.5885 13.6577C16.0849 13.475 15.5339 13.4702 15.0271 13.644C15.0095 13.65 14.992 13.6563 14.9745 13.6628C14.4278 13.8683 13.978 14.2714 13.7141 14.7924C13.6208 14.9768 13.553 15.173 13.5123 15.3756C13.2709 16.5751 14.0028 17.7559 15.1846 18.0733C15.5709 18.1768 15.9816 18.1742 16.3709 18.0858C16.7246 18.0059 17.0517 17.8359 17.3204 17.5924C17.6007 17.3345 17.8016 16.9909 17.9068 16.6259C17.9949 16.3167 18.0267 15.9941 18.001 15.6736Z",fill:"white"})]}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_7253_106692",x1:"4.81152",y1:"4905.73",x2:"14884.2",y2:"4905.73",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0.03",stopColor:"#4079D8"}),e.jsx("stop",{offset:"1",stopColor:"#4989F5"})]}),e.jsx("clipPath",{id:"clip0_7253_106692",children:e.jsx("rect",{width:"16",height:"13.984",fill:"white",transform:"translate(4 5)"})})]})]}),ul=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Es.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Es.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(Xt,{})}),onClick:l,children:n("Sign in with Google Business Profile")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),pl=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(b=>b.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please select an app"));return}if(!f){o.error(n("Please select an app"));return}const b=window.open("about:blank","_blank","width=700,height=500");if(!b){o.error(n("Window could not open"));return}a(!0),b.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Es.slug,app_id:f,proxy:r?l:""},B=>{b.location.href=B.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},b=>{const B=b.apps.filter(F=>F.social_network===Es.slug);y(B),B.length===1&&C(B[0].id)})});p.useEffect(()=>H(),[]);const k=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:b=>c(b.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),size:"sm",value:l,onChange:b=>d(b.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Es.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-google-my-business"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("This is small text about official method. We recommend this method."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:b=>C(b),options:g.map(b=>e.jsx(W.Option,{value:b.id,children:b.name},b.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),k]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),hl=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(pl,{setIsAdvancedMode:r}):e.jsx(ul,{setIsAdvancedMode:r})},ml=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Es.slug,name:r,client_id:l,client_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Google Business App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Client ID"),size:"sm",placeholder:n("Enter client id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Client Secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},at=xe(t=>({postText:"",cutPostText:!1,addBtn:!1,btnType:"",btnTypeOptions:[],uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),gl=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=at.getState();t.post("v1/social-networks/google_b/settings",{post_text:r.postText,cut_post_text:r.cutPostText,add_button:r.addBtn,button_type:r.btnType,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),xl=j.memo(()=>{const t=at(o=>o.postText),s=at(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"gbp_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),jl=j.memo(()=>{const t=at(o=>o.cutPostText),s=at(o=>o.setSettings);return e.jsx(O,{label:n("Limit the custom message characters count"),description:n(`Google Business Profile limits a post length to a maximum of 360 characters. By
                                    enabling the option, the first 360 characters of your custom message will be shared;
                                    otherwise, the post won't be shared because of the limit. Note that the image links
                                    are also counted.`),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})})})}),fl=j.memo(()=>{const t=at(a=>a.addBtn),s=at(a=>a.btnType),o=at(a=>a.btnTypeOptions),i=at(a=>a.setSettings);return e.jsx(O,{label:n("Add a button"),description:n("Select a post link button."),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:a=>i({addBtn:a.currentTarget.checked})}),t&&e.jsx(W,{value:s,onChange:a=>i({btnType:a}),valueRender:a=>{var r;return(r=o.find(c=>c.value===a))==null?void 0:r.label},options:o.map(a=>e.jsx(W.Option,{value:a.value,children:a.label},a.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})]}),withoutDivider:!0})}),kl=j.memo(()=>{const t=at(i=>i.uploadMedia),s=at(i=>i.mediaTypeToUpload),o=at(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(Ve,{useStore:at})]})})]})})}),_l=j.memo(()=>{const t=M(),s=at(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/google_b/settings",{},a=>{s({postText:a.post_text,cutPostText:a.cut_post_text,addBtn:a.add_button,btnType:a.button_type,btnTypeOptions:a.button_type_options,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(xl,{}),e.jsx(jl,{}),e.jsx(kl,{}),e.jsx(fl,{})]})}),ha={Actions:gl,Body:_l},Cl=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:"Customize post content",checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),yl=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Bs(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},wl=()=>{const t=x.useStore(),s=Bs(a=>a.attachLink),o=Bs(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},vl=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(wl,{}),e.jsx(bl,{}),e.jsx(yl,{})]}),Bs=x.createUseActivePostPayloadHook();function bl(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Bs(l=>l.uploadMedia),r=Bs(l=>l.uploadMediaType),c=Bs(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"google_b",title:"Google Business",accentColor:"#4989F514",icon:e.jsx(Go,{}),iconColorful:e.jsx(Xt,{}),composerContent:e.jsx(vl,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],attachLinkType:"LEARN_MORE"}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,attachLinkType:t.attach_link_type||""}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,attach_link_type:t.attachLinkType})}});const Be={slug:"google_b",label:"Google Business",Icon:Go};h.registerHookListener("social_networks",t=>[...t,Be.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Be.slug,label:"Google Business",icon:e.jsx(Xt,{})}],15);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Be.slug,label:"Google Business",icon:e.jsx(Go,{})}],15);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Be.slug?t:e.jsx(hl,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Be.slug)?[...t,{slug:"google_b",icon:e.jsx(Xt,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Be.slug)?[...t,{slug:"google_b",icon:e.jsx(Xt,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Be.slug)?[...t,{slug:"google_b",icon:e.jsx(Xt,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Be.slug,label:"Google Business",icon:e.jsx(Xt,{})}],15);h.registerHookListener("add_app.content",(t,s,o)=>s!==Be.slug?t:e.jsx(ml,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Be.slug?"Google Business":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Be.slug?e.jsx(Xt,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Be.slug?"#4285f4":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Be.slug?"#4989F514":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"google_b",label:"Google Business",icon:e.jsx(Go,{})}],15);h.registerHookListener("settings.actions",(t,s)=>s===Be.slug?e.jsx(ha.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Be.slug?e.jsx(ha.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Be.slug?e.jsx(Cl,{customPostData:o,setCustomPostData:i}):t);const Es=Be,Tl=t=>e.jsx(u,{children:e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize content"),checked:t.customizationData.use_custom_post_content,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_content:s.currentTarget.checked}))}),t.customizationData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customizationData.post_content,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})}),e.jsx(E,{size:"sm",label:n("Pin the post"),checked:t.customizationData.pin_the_post,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{pin_the_post:s.currentTarget.checked}))})]})]})}),Al=j.memo(t=>{var F,$,U,D,K;const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(((F=t.initialData)==null?void 0:F.useProxy)||!1),[d,g]=p.useState((($=t.initialData)==null?void 0:$.proxy)||""),[y,f]=p.useState(((U=t.initialData)==null?void 0:U.cookieCsrfToken)||""),[C,T]=p.useState(((D=t.initialData)==null?void 0:D.cookieDsUserId)||""),[m,H]=p.useState(((K=t.initialData)==null?void 0:K.cookieSessionId)||""),k=J=>{i.show(le,{sourceChannels:J.filter(ue=>!ue.id),destinationChannels:J.filter(ue=>!!ue.id),onAdd:ue=>{s.post("v1/channels",{channels:ue},pt=>{t.onAdd(),t.onClose(),o.success(ue.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(ue.length)}):n("Channel added successfully"))})}})},b=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/instagram/channel-via-cookie",{cookie_csrf_token:y,cookie_ds_user_id:C,cookie_sessionid:m,proxy:c?d:""},J=>{r(!1),k(J.channels)},()=>{r(!1)})},B=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:J=>l(J.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:J=>g(J.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:ds.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-instagram"}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("Can share posts on stories without links. You might need to add the account to the plugin occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_csrf_token"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_csrf_token"}),value:y,onChange:J=>f(J.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_ds_user_id"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_ds_user_id"}),value:C,onChange:J=>T(J.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_sessionid"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_sessionid"}),value:m,onChange:J=>H(J.currentTarget.value)})]}),B]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:b,loading:a,children:n("Continue")})})]})]})}),Pl=t=>e.jsx(Al,A({},t)),Sl=({onClose:t,channel:s,onAdd:o})=>{var l,d,g;const{session_data:i}=s,a=((l=i.cookies.find(y=>y.Name==="csrftoken"))==null?void 0:l.Value)||"",r=((d=i.cookies.find(y=>y.Name==="ds_user_id"))==null?void 0:d.Value)||"",c=((g=i.cookies.find(y=>y.Name==="sessionid"))==null?void 0:g.Value)||"";return e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(Pl,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,cookieCsrfToken:a,cookieDsUserId:r,cookieSessionId:c}})]})})]})},Ll=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Ut(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Il=()=>{const t=x.useStore(),s=Ut(i=>i.attachLink),o=Ut(i=>i.customLink);return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:i=>t.mergeActivePostPayload({attachLink:i.target.checked})}),s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:i=>t.mergeActivePostPayload({customLink:i.currentTarget.value})})]})},Ml=()=>{const t=x.useStore(),s=Ut(o=>o.storyHashtag);return e.jsx(si,{label:n("Story hashtag"),value:s,onChange:o=>{t.mergeActivePostPayload({storyHashtag:o.currentTarget.value})}})},zl=()=>{const t=x.useStore(),s=x.useSelector(r=>r.posts.find(c=>c.active)),o=Ut(r=>r.firstComment),i=Ut(r=>r.enableComment),a=x.useSelector(r=>r.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("First comment"),checked:i,onChange:r=>t.mergeActivePostPayload({enableComment:r.currentTarget.checked})}),i&&e.jsx(u,{children:a?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Hl=()=>{const t=x.useStore(),s=Ut(i=>i.pinThePost);return x.useSelector(i=>i.wpPostType==="fsp_post")?e.jsx(e.Fragment,{}):e.jsx(E,{label:n("Pin the post"),checked:s,onChange:i=>t.mergeActivePostPayload({pinThePost:i.target.checked})})},Dl=()=>{const t=x.useSelector(s=>s.posts.find(o=>o.active));return e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Bl,{}),t.channel.channel_type==="account"&&e.jsxs(e.Fragment,{children:[e.jsx(zl,{}),t.channel.method==="login_pass"&&e.jsx(Hl,{})]}),t.channel.channel_type==="account_story"&&t.channel.method==="login_pass"&&e.jsxs(e.Fragment,{children:[e.jsx(Il,{}),e.jsx(Ml,{})]}),e.jsx(Ll,{})]})},Ut=x.createUseActivePostPayloadHook();function Bl(){const t=x.useStore(),s=x.useSelector(l=>l.posts.find(d=>d.active)),o=x.useSelector(l=>l.wpPostType==="fsp_post"),i=x.useSelector(l=>l.wpPostType==="attachment"),a=x.useSelector(l=>l.wpPostId),r=Ut(l=>l.uploadMediaType),c=Ut(l=>l.mediaIds);return i&&t.mergeActivePostPayload({uploadMediaType:"custom",mediaIds:[a]}),e.jsx(e.Fragment,{children:!i&&e.jsxs(u,{gap:"xs",children:[!o&&e.jsx(L.Group,{size:"sm",label:n("Upload media"),value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"md",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:s.channel.channel_type==="account"?e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0}):e.jsx(X,{image:c.length>0?{id:c[0],url:""}:void 0,setImage:l=>{t.mergeActivePostPayload({mediaIds:l?[l.id]:[]})},multi:!1})})]})]})})}),o&&e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Upload media")}),e.jsx(_,{ml:"md",children:s.channel.channel_type==="account"?e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0}):e.jsx(X,{image:c.length>0?{id:c[0],url:""}:void 0,setImage:l=>{t.mergeActivePostPayload({mediaIds:l?[l.id]:[]})},multi:!1})})]})]})})}const Gn=[{label:n("All images"),value:"all_images"},{label:n("Featured image"),value:"featured_image"}],El=j.memo(t=>e.jsxs(u,{gap:"xs",ml:"xl",children:[e.jsx(w,{size:"sm",fw:600,children:n("Posting type")}),e.jsx(W,{inputStyleProps:{maw:400},value:t.customizationData.posting_type,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{posting_type:s})),valueRender:s=>Gn.find(o=>o.value===s).label,options:Gn.map(s=>e.jsx(W.Option,{value:s.value,children:s.label},s.value))})]})),Ul=j.memo(t=>{const{imageTemplates:s,loading:o}=An(),i=p.useMemo(()=>t.customizationData.ai_template_id?s.find(a=>a.id===+t.customizationData.ai_template_id):void 0,[o,t.customizationData.ai_template_id]);return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Featured media")}),e.jsx(L.Group,{size:"sm",value:t.customizationData.featured_image_type,onChange:a=>t.setCustomizationData(I(A({},t.customizationData),{featured_image_type:a,ai_template_id:t.customizationData.featured_image_type==="ai"?t.customizationData.ai_template_id:void 0,custom_featured_image:t.customizationData.featured_image_type==="custom"?t.customizationData.custom_featured_image:void 0})),children:e.jsxs(u,{gap:"sm",children:[e.jsx(L,{value:"original",label:n("Keep original")}),e.jsx(u,{gap:"xs",children:e.jsx(L,{value:"ai",label:e.jsxs(q,{children:[e.jsx(w,{size:"sm",children:n("Use AI template")}),t.customizationData.featured_image_type==="ai"&&e.jsx(Pn,{type:"image",target:e.jsx(Kt,{h:20,variant:"light",color:"#F23B6B",size:"compact-xs",rightSection:e.jsx(No,{size:14}),styles:{section:{marginLeft:"0.4rem"}},radius:"lg",children:i?i.title:n("Select template")}),onSelect:a=>t.setCustomizationData(I(A({},t.customizationData),{ai_template_id:a}))})]})})}),e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"custom",label:n("Select custom images")}),t.customizationData.featured_image_type==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{image:t.customizationData.custom_featured_image,setImage:a=>{t.setCustomizationData(I(A({},t.customizationData),{custom_featured_image:a}))},multi:!1})})]})]})})]})}),Fl=j.memo(t=>e.jsxs(u,{children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(E,{size:"sm",label:n("Share to feed"),checked:t.customizationData.share_to_feed,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_feed:s.currentTarget.checked,use_custom_post_text:s.currentTarget.checked?t.customizationData.use_custom_post_text:!1}))}),t.customizationData.share_to_feed&&e.jsx(El,A({},t)),e.jsxs(u,{ml:"xl",children:[e.jsx(E,{disabled:!t.customizationData.share_to_feed,size:"sm",label:n("Customize post content"),checked:t.customizationData.use_custom_post_text,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_text:s.currentTarget.checked}))}),t.customizationData.use_custom_post_text&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_post_text",value:t.customizationData.custom_post_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{use_custom_post_text:!0,custom_post_text:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]}),e.jsx(E,{disabled:!t.customizationData.share_to_feed,size:"sm",ml:"xl",label:n("Pin the post"),checked:t.customizationData.pin_the_post,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{pin_the_post:s.currentTarget.checked}))})]})),$l=j.memo(t=>e.jsxs(u,{children:[e.jsx(w,{size:"sm",fw:600,children:n("Story")}),e.jsx(E,{size:"sm",label:n("Share to story"),checked:t.customizationData.share_to_story,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_story:s.currentTarget.checked,use_custom_story_text:s.currentTarget.checked?t.customizationData.use_custom_story_text:!1}))}),e.jsxs(u,{ml:"xl",children:[e.jsx(E,{disabled:!t.customizationData.share_to_story,size:"sm",label:n("Customize story content"),checked:t.customizationData.use_custom_story_text,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{use_custom_story_text:s.currentTarget.checked}))}),t.customizationData.use_custom_story_text&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_story_text",value:t.customizationData.custom_story_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{use_custom_story_text:!0,custom_story_text:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]})),Ol=t=>e.jsxs(u,{p:"xs",gap:"xl",children:[e.jsx(Ul,A({},t)),e.jsx(Fl,A({},t)),e.jsx($l,A({},t))]}),Rl=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Featured media")}),e.jsx(X,{images:t.customizationData.images,setImages:s=>{t.setCustomizationData(I(A({},t.customizationData),{images:s}))},multi:!0})]})),Nl=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(E,{size:"sm",label:n("Share to feed"),checked:t.customizationData.share_to_feed,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_feed:s.currentTarget.checked}))}),t.customizationData.share_to_feed&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_post_text",value:t.customizationData.custom_post_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{custom_post_text:s}))}})}),e.jsx(E,{disabled:!t.customizationData.share_to_feed,size:"sm",label:n("Pin the post"),checked:t.customizationData.pin_the_post,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{pin_the_post:s.currentTarget.checked}))})]})),Kl=j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Story")}),e.jsx(E,{size:"sm",label:n("Share to story"),checked:t.customizationData.share_to_story,onChange:s=>t.setCustomizationData(I(A({},t.customizationData),{share_to_story:s.currentTarget.checked}))}),t.customizationData.share_to_story&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"custom_story_text",value:t.customizationData.custom_story_text,onChange:s=>{t.setCustomizationData(I(A({},t.customizationData),{custom_story_text:s}))}})})]})),Wl=t=>e.jsxs(u,{p:"xs",gap:"xl",children:[e.jsx(Rl,A({},t)),e.jsx(Nl,A({},t)),e.jsx(Kl,A({},t))]}),Vl=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:ds.slug,name:r,app_id:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Instagram App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},qt=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_103658)",children:[e.jsx("rect",{width:"24",height:"24",rx:"5.14286",fill:"url(#paint0_radial_7247_103658)"}),e.jsx("rect",{width:"24",height:"24",rx:"5.14286",fill:"url(#paint1_radial_7247_103658)"}),e.jsx("rect",{width:"24",height:"24",rx:"5.14286",fill:"url(#paint2_radial_7247_103658)"}),e.jsx("path",{d:"M17.25 7.875C17.25 8.49632 16.7463 9 16.125 9C15.5037 9 15 8.49632 15 7.875C15 7.25368 15.5037 6.75 16.125 6.75C16.7463 6.75 17.25 7.25368 17.25 7.875Z",fill:"white"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15.75C14.0711 15.75 15.75 14.0711 15.75 12C15.75 9.92893 14.0711 8.25 12 8.25C9.92893 8.25 8.25 9.92893 8.25 12C8.25 14.0711 9.92893 15.75 12 15.75ZM12 14.25C13.2426 14.25 14.25 13.2426 14.25 12C14.25 10.7574 13.2426 9.75 12 9.75C10.7574 9.75 9.75 10.7574 9.75 12C9.75 13.2426 10.7574 14.25 12 14.25Z",fill:"white"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 11.7C4.5 9.17976 4.5 7.91965 4.99047 6.95704C5.4219 6.11031 6.11031 5.4219 6.95704 4.99047C7.91965 4.5 9.17976 4.5 11.7 4.5H12.3C14.8202 4.5 16.0804 4.5 17.043 4.99047C17.8897 5.4219 18.5781 6.11031 19.0095 6.95704C19.5 7.91965 19.5 9.17976 19.5 11.7V12.3C19.5 14.8202 19.5 16.0804 19.0095 17.043C18.5781 17.8897 17.8897 18.5781 17.043 19.0095C16.0804 19.5 14.8202 19.5 12.3 19.5H11.7C9.17976 19.5 7.91965 19.5 6.95704 19.0095C6.11031 18.5781 5.4219 17.8897 4.99047 17.043C4.5 16.0804 4.5 14.8202 4.5 12.3V11.7ZM11.7 6H12.3C13.5849 6 14.4583 6.00117 15.1334 6.05633C15.7911 6.11006 16.1274 6.20745 16.362 6.32698C16.9265 6.6146 17.3854 7.07354 17.673 7.63803C17.7926 7.87263 17.8899 8.20893 17.9437 8.86656C17.9988 9.54169 18 10.4151 18 11.7V12.3C18 13.5849 17.9988 14.4583 17.9437 15.1334C17.8899 15.7911 17.7926 16.1274 17.673 16.362C17.3854 16.9265 16.9265 17.3854 16.362 17.673C16.1274 17.7926 15.7911 17.8899 15.1334 17.9437C14.4583 17.9988 13.5849 18 12.3 18H11.7C10.4151 18 9.54169 17.9988 8.86656 17.9437C8.20893 17.8899 7.87263 17.7926 7.63803 17.673C7.07354 17.3854 6.6146 16.9265 6.32698 16.362C6.20745 16.1274 6.11006 15.7911 6.05633 15.1334C6.00117 14.4583 6 13.5849 6 12.3V11.7C6 10.4151 6.00117 9.54169 6.05633 8.86656C6.11006 8.20893 6.20745 7.87263 6.32698 7.63803C6.6146 7.07354 7.07354 6.6146 7.63803 6.32698C7.87263 6.20745 8.20893 6.11006 8.86656 6.05633C9.54169 6.00117 10.4151 6 11.7 6Z",fill:"white"})]}),e.jsxs("defs",{children:[e.jsxs("radialGradient",{id:"paint0_radial_7247_103658",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8.57143 18) rotate(-55.3758) scale(21.8739)",children:[e.jsx("stop",{stopColor:"#B13589"}),e.jsx("stop",{offset:"0.79309",stopColor:"#C62F94"}),e.jsx("stop",{offset:"1",stopColor:"#8A3AC8"})]}),e.jsxs("radialGradient",{id:"paint1_radial_7247_103658",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.71429 24.8571) rotate(-65.1363) scale(19.3665)",children:[e.jsx("stop",{stopColor:"#E0E8B7"}),e.jsx("stop",{offset:"0.444662",stopColor:"#FB8A2E"}),e.jsx("stop",{offset:"0.71474",stopColor:"#E2425C"}),e.jsx("stop",{offset:"1",stopColor:"#E2425C",stopOpacity:"0"})]}),e.jsxs("radialGradient",{id:"paint2_radial_7247_103658",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-1.28571 0.857143) rotate(-8.1301) scale(33.335 7.13002)",children:[e.jsx("stop",{offset:"0.156701",stopColor:"#406ADC"}),e.jsx("stop",{offset:"0.467799",stopColor:"#6A45BE"}),e.jsx("stop",{offset:"1",stopColor:"#6A45BE",stopOpacity:"0"})]}),e.jsx("clipPath",{id:"clip0_7247_103658",children:e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"white"})})]})]}),Ql=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:ds.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:ds.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(qt,{})}),onClick:l,children:n("Sign in with Instagram Business")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Gl=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState([]),[C,T]=p.useState(),m=p.useMemo(()=>y.find(se=>se.id===C),[C]),[H,k]=p.useState(""),[b,B]=p.useState(""),[F,$]=p.useState(""),[U,D]=p.useState(""),[K,J]=p.useState(""),[ue,pt]=p.useState(!1),[jt,zt]=p.useState(""),[Y,ls]=p.useState([]),oo=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}if(!C){o.error(n("Please select an app"));return}const se=window.open("about:blank","_blank","width=700,height=500");if(!se){o.error(n("Window could not open"));return}r(!0),se.onpagehide=()=>r(!1),s.post("v1/channels/get-auth-url",{social_network:ds.slug,app_id:C,proxy:c?d:""},ne=>{se.location.href=ne.auth_url},()=>r(!1))},Ht=Je(()=>{s.get("v1/settings/apps",{},se=>{const ne=se.apps.filter(ft=>ft.social_network===ds.slug);f(ne),ne.length===1&&T(ne[0].id)})});p.useEffect(()=>Ht(),[]);const yt=se=>{i.show(le,{sourceChannels:se.filter(ne=>!ne.id),destinationChannels:se.filter(ne=>!!ne.id),onAdd:ne=>{s.post("v1/channels",{channels:ne},ft=>{t.onAdd(),t.onClose(),o.success(ne.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(ne.length)}):n("Channel added successfully"))})}})},Dt=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/instagram/channel-via-cookie",{cookie_csrf_token:H,cookie_ds_user_id:b,cookie_sessionid:F,proxy:c?d:""},se=>{r(!1),yt(se.channels)},()=>{r(!1)})},ht=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/instagram/channel-via-password",{username:U,password:K,proxy:c?d:""},se=>{se.channels?(r(!1),yt(se.channels)):(pt(!0),ls(se.options),r(!1))},()=>{r(!1)})},Ze=()=>{r(!0),s.post("v1/social-networks/instagram/confirm-two-factor",{options:Y,code:jt},se=>{r(!1),yt(se.channels)},()=>{r(!1)})},$t=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:se=>l(se.currentTarget.checked),disabled:ue}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:se=>g(se.currentTarget.value),disabled:ue})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:ds.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-instagram"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the safest and has a longer authorization time."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[y.length>0?e.jsx(W,{value:m==null?void 0:m.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:se=>T(se),options:y.map(se=>e.jsx(W.Option,{value:se.id,children:se.name},se.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or select a different method.")}),$t]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:oo,loading:a,children:n("Continue")})]})]}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("Can share posts on stories without links. You might need to add the account to the plugin occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_csrf_token"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_csrf_token"}),value:H,onChange:se=>k(se.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_ds_user_id"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_ds_user_id"}),value:b,onChange:se=>B(se.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"cookie_sessionid"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"cookie_sessionid"}),value:F,onChange:se=>$(se.currentTarget.value)})]}),$t]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:Dt,loading:a,children:n("Continue")})]})]}),e.jsxs(z.Method,{slug:"password",label:n("Login method"),description:n("Can share posts on stories with links. You might need to add the account to the plugin occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Username"),size:"sm",placeholder:n('Enter the "{{username}}"',{username:"username"}),value:U,onChange:se=>D(se.target.value),disabled:ue}),e.jsx(P,{label:"Password",size:"sm",placeholder:n('Enter the "{{pass}}"',{pass:"password"}),value:K,onChange:se=>J(se.target.value),disabled:ue}),ue&&e.jsx(P,{autoFocus:!0,label:n("Code: (sent to {{code}})",{code:`xxx${Y.obfuscated_phone_number}`}),size:"sm",placeholder:n('Enter the "{{code}}"',{code:"confirmation code"}),value:jt,onChange:se=>zt(se.target.value)})]}),$t]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),ue?e.jsx(V,{size:"sm",onClick:Ze,loading:a,children:n("Confirm & Continue")}):e.jsx(V,{size:"sm",onClick:ht,loading:a,children:n("Continue")})]})]})]})}),Zl=t=>{const s=M(),o=te(),i=R(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>o.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),i.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Gl,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(Ql,{setIsAdvancedMode:r})},Yl="fs-poster-6A-0ls0",Xl="fs-poster-j5-GY1I",ql="fs-poster-BRJWKfq",Jl="fs-poster-FRS3Dd6",ec="fs-poster-Ho9dcIn",ro={preview:Yl,previewInner:Xl,title:ql,hashtag:Jl,link:ec},ee=xe(t=>({updateBioLink:!1,postText:"",cutPostText:!1,mediaTypeToUpload:Q.FeaturedImage,aiTemplateId:void 0,shareToFirstComment:!1,firstCommentText:"",pinThePost:!1,storyText:"",storySendLink:!1,storyBgColor:"",storyTitleBgColor:"",storyTitleBgOpacity:0,storyTitleColor:"",storyTitleTopOffset:0,storyTitleLeftOffset:0,storyTitleWidth:0,storyTitleFontSize:0,storyTitleFontFamily:void 0,storyIsRtl:!1,storyLinkBgColor:"",storyLinkBgOpacity:0,storyLinkColor:"",storyLinkTopOffset:0,storyLinkLeftOffset:0,storyLinkWidth:0,storyLinkFontSize:0,storyLinkFontFamily:void 0,storyAddHashtag:!1,storyHashtagText:"",storyHashtagBgColor:"",storyHashtagBgOpacity:0,storyHashtagColor:"",storyHashtagTopOffset:0,storyHashtagLeftOffset:0,storyHashtagWidth:0,storyHashtagFontSize:0,storyHashtagFontFamily:void 0,setSettings:s=>t(s)})),ce=ua(ee),tc=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{var c,l,d;i(!0);const r=ee.getState();t.post("v1/social-networks/instagram/settings",{post_text:r.postText,cut_post_text:r.cutPostText,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId,share_to_first_comment:r.shareToFirstComment,first_comment_text:r.firstCommentText,pin_the_post:r.pinThePost,story_text:r.storyText,story_send_link:r.storySendLink,story_customization_bg_color:r.storyBgColor.substring(1),story_customization_title_bg_color:r.storyTitleBgColor.substring(1),story_customization_title_bg_opacity:r.storyTitleBgOpacity,story_customization_title_color:r.storyTitleColor.substring(1),story_customization_title_top_offset:r.storyTitleTopOffset,story_customization_title_left_offset:r.storyTitleLeftOffset,story_customization_title_width:r.storyTitleWidth,story_customization_title_font_size:r.storyTitleFontSize,story_customization_title_font_family:(c=r.storyTitleFontFamily)==null?void 0:c.id,story_customization_is_rtl:r.storyIsRtl,story_customization_link_bg_color:r.storyLinkBgColor.substring(1),story_customization_link_bg_opacity:r.storyLinkBgOpacity,story_customization_link_color:r.storyLinkColor.substring(1),story_customization_link_top_offset:r.storyLinkTopOffset,story_customization_link_left_offset:r.storyLinkLeftOffset,story_customization_link_width:r.storyLinkWidth,story_customization_link_font_size:r.storyLinkFontSize,story_customization_link_font_family:(l=r.storyLinkFontFamily)==null?void 0:l.id,story_customization_add_hashtag:r.storyAddHashtag,story_customization_hashtag_text:r.storyHashtagText,story_customization_hashtag_bg_color:r.storyHashtagBgColor.substring(1),story_customization_hashtag_bg_opacity:r.storyHashtagBgOpacity,story_customization_hashtag_color:r.storyHashtagColor.substring(1),story_customization_hashtag_top_offset:r.storyHashtagTopOffset,story_customization_hashtag_left_offset:r.storyHashtagLeftOffset,story_customization_hashtag_width:r.storyHashtagWidth,story_customization_hashtag_font_size:r.storyHashtagFontSize,story_customization_hashtag_font_family:(d=r.storyHashtagFontFamily)==null?void 0:d.id},g=>{i(!1),s.success(n("Successfully saved"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),sc=j.memo(()=>{const t=ee(o=>o.postText),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"postText",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),oc=j.memo(()=>{const t=ee(o=>o.cutPostText),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Limit characters"),description:n("To adhere to Instagram's content length limit of 2200 characters, enable this option. Doing so ensures that only the first 2200 characters of your custom message will be shared. If left disabled, the post won't be shared due to exceeding the character limit."),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})})})}),nc=j.memo(()=>{const t=ee(o=>o.mediaTypeToUpload),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsx(L.Group,{value:t,onChange:o=>s({mediaTypeToUpload:o}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:ee})]})})})}),ac=j.memo(()=>{const t=ee(i=>i.shareToFirstComment),s=ee(i=>i.firstCommentText),o=ee(i=>i.setSettings);return e.jsx(O,{label:n("Post a first comment"),description:n(`Enable the option to share a customized message as a first comment. The login&pass and cookie
                    methods support the first comment feature`),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({shareToFirstComment:i.currentTarget.checked})}),t&&e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"firstComment",value:s,onChange:i=>{o({firstCommentText:i})},withAI:!0,keywords:N("keywords",[],v.content)})})]})})}),ic=j.memo(()=>{const t=ee(o=>o.pinThePost),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Pin the post"),description:n("The feature is supported by the Login&password method only."),content:e.jsx(G,{checked:t,onChange:o=>s({pinThePost:o.currentTarget.checked})}),withoutDivider:!0})}),rc=j.memo(()=>{const t=ee(o=>o.storyText),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Story text"),description:n("Customize the shared story content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"storyText",value:t,onChange:o=>{s({storyText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),lc=j.memo(()=>{const t=ee(o=>o.storySendLink),s=ee(o=>o.setSettings);return e.jsx(O,{label:n("Add post link to story"),description:n("You can share the post link to the Story. The feature is supported by the Login&password method only."),content:e.jsx(G,{checked:t,onChange:o=>s({storySendLink:o.currentTarget.checked})})})}),cc=j.memo(()=>{const t=ee(i=>i.storyAddHashtag),s=ee(i=>i.storyHashtagText),o=ee(i=>i.setSettings);return e.jsx(O,{label:n("Add hashtag to story"),description:"The feature is supported by the Login&password method only.",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({storyAddHashtag:i.currentTarget.checked})}),t&&e.jsx(_,{maw:"400px",children:e.jsx(P,{label:e.jsx(w,{size:"sm",fw:500,children:"Hashtag text"}),size:"sm",value:s,onChange:i=>o({storyHashtagText:i.currentTarget.value})})})]})})}),dc=j.memo(({fonts:t})=>{const s=ee(r=>r.setSettings),[o,i]=p.useState(""),a=p.useMemo(()=>t.filter(r=>r.name.toLowerCase().includes(o.toLowerCase().trim())).map(r=>e.jsx(W.Option,{value:r.id,children:e.jsx("div",{style:{fontFamily:`${r.name}, ${r.category}`,fontWeight:r.variant},children:r.name})},r.id)),[t,o]);return e.jsx(_,{maw:"400px",children:e.jsxs(u,{gap:"lg",children:[e.jsx(ce,{selector:r=>r.storyBgColor,children:r=>e.jsx(xt,{label:n("Story background color"),value:r,onChange:c=>s({storyBgColor:c})})}),e.jsx(ce,{selector:r=>r.storyTitleBgColor,children:r=>e.jsx(xt,{label:n("Title background color"),value:r,onChange:c=>s({storyTitleBgColor:c})})}),e.jsxs(_,{children:[e.jsx(w,{fw:500,size:"sm",children:n("Title background opacity")}),e.jsx(ce,{selector:r=>r.storyTitleBgOpacity,children:r=>e.jsx(qs,{value:r,onChange:c=>s({storyTitleBgOpacity:c}),labelAlwaysOn:!0})})]}),e.jsx(ce,{selector:r=>r.storyTitleColor,children:r=>e.jsx(xt,{label:n("Title color"),value:r,onChange:c=>s({storyTitleColor:c})})}),e.jsx(ce,{selector:r=>r.storyTitleTopOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyTitleTopOffset:c}),label:n("Title top offset")})}),e.jsx(ce,{selector:r=>r.storyTitleLeftOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyTitleLeftOffset:c}),label:n("Title left offset")})}),e.jsx(ce,{selector:r=>r.storyTitleWidth,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyTitleWidth:c}),label:n("Title width")})}),e.jsx(ce,{selector:r=>r.storyTitleFontSize,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyTitleFontSize:c}),label:n("Title font size")})}),e.jsx(ce,{selector:r=>r.storyTitleFontFamily,children:r=>e.jsx(W,{label:n("Title font family"),placeholder:n("Select font"),value:r==null?void 0:r.id,onChange:c=>{s({storyTitleFontFamily:t.find(l=>l.id===c)}),i("")},onSearchChange:c=>i(c),valueRender:c=>{var l;return(l=t.find(d=>d.id===c))==null?void 0:l.name},options:a,dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})}),e.jsx(ce,{selector:r=>r.storyIsRtl,children:r=>e.jsx(E,{checked:r,onChange:c=>s({storyIsRtl:c.currentTarget.checked}),label:e.jsx(w,{size:"sm",fw:500,children:n("Title RTL mode")})})})]})})}),uc=j.memo(({fonts:t})=>{const s=ee(r=>r.setSettings),[o,i]=p.useState(""),a=p.useMemo(()=>t.filter(r=>r.name.toLowerCase().includes(o.toLowerCase().trim())).map(r=>e.jsx(W.Option,{value:r.id,children:e.jsx("div",{style:{fontFamily:`${r.name}, ${r.category}`,fontWeight:r.variant},children:r.name})},r.id)),[t,o]);return e.jsx(_,{maw:"400px",children:e.jsxs(u,{gap:"lg",children:[e.jsx(ce,{selector:r=>r.storyLinkBgColor,children:r=>e.jsx(xt,{label:n("Link background color"),value:r,onChange:c=>s({storyLinkBgColor:c})})}),e.jsxs(_,{children:[e.jsx(w,{fw:500,size:"sm",children:n("Link background opacity")}),e.jsx(ce,{selector:r=>r.storyLinkBgOpacity,children:r=>e.jsx(qs,{value:r,onChange:c=>s({storyLinkBgOpacity:c}),labelAlwaysOn:!0})})]}),e.jsx(ce,{selector:r=>r.storyLinkColor,children:r=>e.jsx(xt,{label:n("Link color"),value:r,onChange:c=>s({storyLinkColor:c})})}),e.jsx(ce,{selector:r=>r.storyLinkTopOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyLinkTopOffset:c}),label:n("Link top offset")})}),e.jsx(ce,{selector:r=>r.storyLinkLeftOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyLinkLeftOffset:c}),label:n("Link left offset")})}),e.jsx(ce,{selector:r=>r.storyLinkWidth,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyLinkWidth:c}),label:n("Link width")})}),e.jsx(ce,{selector:r=>r.storyLinkFontSize,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyLinkFontSize:c}),label:n("Link font size")})}),e.jsx(ce,{selector:r=>r.storyLinkFontFamily,children:r=>e.jsx(W,{label:n("Link font family"),placeholder:n("Select font"),value:r==null?void 0:r.id,onChange:c=>{s({storyLinkFontFamily:t.find(l=>l.id===c)}),i("")},onSearchChange:c=>i(c),valueRender:c=>{var l;return(l=t.find(d=>d.id===c))==null?void 0:l.name},options:a,dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})})]})})}),pc=j.memo(({fonts:t})=>{const s=ee(r=>r.setSettings),[o,i]=p.useState(""),a=p.useMemo(()=>t.filter(r=>r.name.toLowerCase().includes(o.toLowerCase().trim())).map(r=>e.jsx(W.Option,{value:r.id,children:e.jsx("div",{style:{fontFamily:`${r.name}, ${r.category}`,fontWeight:r.variant},children:r.name})},r.id)),[t,o]);return e.jsx(_,{maw:"400px",children:e.jsxs(u,{gap:"lg",children:[e.jsx(ce,{selector:r=>r.storyHashtagBgColor,children:r=>e.jsx(xt,{label:n("Hashtag background color"),value:r,onChange:c=>s({storyHashtagBgColor:c})})}),e.jsxs(_,{children:[e.jsx(w,{size:"sm",fw:500,children:n("Hashtag background opacity")}),e.jsx(ce,{selector:r=>r.storyHashtagBgOpacity,children:r=>e.jsx(qs,{value:r,onChange:c=>s({storyHashtagBgOpacity:c}),labelAlwaysOn:!0})})]}),e.jsx(ce,{selector:r=>r.storyHashtagColor,children:r=>e.jsx(xt,{label:n("Hashtag color"),value:r,onChange:c=>s({storyHashtagColor:c})})}),e.jsx(ce,{selector:r=>r.storyHashtagTopOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyHashtagTopOffset:c}),label:n("Hashtag top offset")})}),e.jsx(ce,{selector:r=>r.storyHashtagLeftOffset,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyHashtagLeftOffset:c}),label:n("Hashtag left offset")})}),e.jsx(ce,{selector:r=>r.storyHashtagWidth,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyHashtagWidth:c}),label:n("Hashtag width")})}),e.jsx(ce,{selector:r=>r.storyHashtagFontSize,children:r=>e.jsx(Ie,{value:r,onChange:c=>s({storyHashtagFontSize:c}),label:n("Hashtag font size")})}),e.jsx(ce,{selector:r=>r.storyHashtagFontFamily,children:r=>e.jsx(W,{label:n("Hashtag font family"),placeholder:n("Select font"),value:r==null?void 0:r.id,onChange:c=>{s({storyHashtagFontFamily:t.find(l=>l.id===c)}),i("")},onSearchChange:c=>i(c),valueRender:c=>r==null?void 0:r.name,options:a,dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})})]})})}),hc=j.memo(({fonts:t})=>e.jsxs(u,{gap:"lg",children:[e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"md",c:"dark",fw:600,children:n("Appearances")}),e.jsx(w,{size:"sm",c:"dimmed",children:n("Customize story appearances")})]}),e.jsxs(Hs,{gutter:"xl",align:"flex-start",children:[e.jsx(Hs.Col,{span:{base:12,md:8},children:e.jsxs(he,{defaultValue:"title-appearance",children:[e.jsxs(he.List,{mb:"md",justify:"space-between",children:[e.jsx(he.Tab,{value:"title-appearance",children:n("Title appearance")}),e.jsx(he.Tab,{value:"link-appearance",children:n("Link appearance")}),e.jsx(he.Tab,{value:"hashtag-appearance",children:n("Hashtag appearance")})]}),e.jsx(he.Panel,{value:"title-appearance",children:e.jsx(dc,{fonts:t})}),e.jsx(he.Panel,{value:"link-appearance",children:e.jsx(uc,{fonts:t})}),e.jsx(he.Panel,{value:"hashtag-appearance",children:e.jsx(pc,{fonts:t})})]})}),e.jsx(Hs.Col,{span:{base:12,md:4},className:ro.preview,children:e.jsx(mc,{})})]})]}));function mc(){const t=ee(Y=>Y.storyBgColor),s=ee(Y=>Y.storyTitleBgColor),o=ee(Y=>Y.storyTitleBgOpacity),i=ee(Y=>Y.storyTitleColor),a=ee(Y=>Y.storyTitleTopOffset),r=ee(Y=>Y.storyTitleLeftOffset),c=ee(Y=>Y.storyTitleWidth),l=ee(Y=>Y.storyTitleFontSize),d=ee(Y=>Y.storyTitleFontFamily),g=ee(Y=>Y.storyIsRtl),y=ee(Y=>Y.storyAddHashtag),f=ee(Y=>Y.storyHashtagText),C=ee(Y=>Y.storyLinkBgColor),T=ee(Y=>Y.storyLinkBgOpacity),m=ee(Y=>Y.storyLinkColor),H=ee(Y=>Y.storyLinkTopOffset),k=ee(Y=>Y.storyLinkLeftOffset),b=ee(Y=>Y.storyLinkWidth),B=ee(Y=>Y.storyLinkFontSize),F=ee(Y=>Y.storyLinkFontFamily),$=ee(Y=>Y.storyHashtagBgColor),U=ee(Y=>Y.storyHashtagBgOpacity),D=ee(Y=>Y.storyHashtagColor),K=ee(Y=>Y.storyHashtagTopOffset),J=ee(Y=>Y.storyHashtagLeftOffset),ue=ee(Y=>Y.storyHashtagWidth),pt=ee(Y=>Y.storyHashtagFontSize),jt=ee(Y=>Y.storyHashtagFontFamily),zt=(Y,ls)=>`rgba(${parseInt(Y.slice(1,3),16)}, ${parseInt(Y.slice(3,5),16)}, ${parseInt(Y.slice(5,7),16)}, ${ls/100})`;return e.jsxs(q,{className:ro.previewInner,style:{backgroundColor:t},children:[e.jsx("div",{className:ro.title,style:{backgroundColor:zt(s,o),color:i,top:a+"px",left:r+"px",width:c+"px",fontSize:l+"px",fontFamily:d==null?void 0:d.name,direction:g?"rtl":"ltr"},children:"{title}"}),e.jsxs("div",{className:ro.hashtag,style:{display:y&&f?"block":"none",backgroundColor:zt($,U),color:D,top:K+"px",left:J+"px",width:ue+"px",fontSize:pt+"px",fontFamily:jt==null?void 0:jt.name},children:["#",f]}),e.jsx("div",{className:ro.link,style:{backgroundColor:zt(C,T),color:m,top:H+"px",left:k+"px",width:b+"px",fontSize:B+"px",fontFamily:F==null?void 0:F.name},children:"{link}"})]})}const gc=j.memo(()=>{const t=M(),[s,o]=p.useState([]),i=ee(c=>c.setSettings),[a,r]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/instagram/settings",{},c=>{i({postText:c.post_text,cutPostText:c.cut_post_text,mediaTypeToUpload:c.media_type_to_upload,aiTemplateId:c.ai_template_id,shareToFirstComment:c.share_to_first_comment,firstCommentText:c.first_comment_text,pinThePost:c.pin_the_post,storyText:c.story_text,storySendLink:c.story_send_link,storyBgColor:"#"+c.story_customization_bg_color,storyTitleBgColor:"#"+c.story_customization_title_bg_color,storyTitleBgOpacity:c.story_customization_title_bg_opacity,storyTitleColor:"#"+c.story_customization_title_color,storyTitleTopOffset:c.story_customization_title_top_offset,storyTitleLeftOffset:c.story_customization_title_left_offset,storyTitleWidth:c.story_customization_title_width,storyTitleFontSize:c.story_customization_title_font_size,storyTitleFontFamily:c.story_customization_title_font_family,storyIsRtl:c.story_customization_is_rtl,storyLinkBgColor:"#"+c.story_customization_link_bg_color,storyLinkBgOpacity:c.story_customization_link_bg_opacity,storyLinkColor:"#"+c.story_customization_link_color,storyLinkTopOffset:c.story_customization_link_top_offset,storyLinkLeftOffset:c.story_customization_link_left_offset,storyLinkWidth:c.story_customization_link_width,storyLinkFontSize:c.story_customization_link_font_size,storyLinkFontFamily:c.story_customization_link_font_family,storyAddHashtag:c.story_customization_add_hashtag,storyHashtagText:c.story_customization_hashtag_text,storyHashtagBgColor:"#"+c.story_customization_hashtag_bg_color,storyHashtagBgOpacity:c.story_customization_hashtag_bg_opacity,storyHashtagColor:"#"+c.story_customization_hashtag_color,storyHashtagTopOffset:c.story_customization_hashtag_top_offset,storyHashtagLeftOffset:c.story_customization_hashtag_left_offset,storyHashtagWidth:c.story_customization_hashtag_width,storyHashtagFontSize:c.story_customization_hashtag_font_size,storyHashtagFontFamily:c.story_customization_hashtag_font_family}),r(!1)}),t.get("v1/fonts",{},c=>{o(c.fonts)})},[]),e.jsxs(he,{defaultValue:"general",w:"100%",h:"100%",color:"#7061EF",styles:{root:{display:"flex",flexDirection:"column",overflow:"hidden"},panel:{overflow:"hidden",height:"100%"}},children:[e.jsxs(he.List,{mb:"xs",style:{padding:"15px 24px 0"},children:[e.jsx(he.Tab,{value:"general",children:n("Post settings")}),e.jsx(he.Tab,{value:"story-settings",children:n("Story settings")})]}),e.jsx(he.Panel,{value:"general",children:e.jsxs(pe,{loading:a,children:[e.jsx(sc,{}),e.jsx(oc,{}),e.jsx(nc,{}),e.jsx(ac,{}),e.jsx(ic,{})]})}),e.jsx(he.Panel,{value:"story-settings",children:e.jsxs(pe,{loading:a,children:[e.jsx(rc,{}),e.jsx(lc,{}),e.jsx(cc,{}),e.jsx(hc,{fonts:s})]})})]})}),ma={Actions:tc,Body:gc};me.push({key:"instagram",title:"Instagram",accentColor:"#C4328B14",icon:e.jsx(Zo,{}),iconColorful:e.jsx(qt,{}),composerContent:e.jsx(Dl,{}),composer:{syncKeys:{attachLink:"attachLink",postContent:"postContent",customLink:"customLink",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",enableComment:"enableComment",firstComment:"firstComment",storyHashtag:"storyHashtag",pinThePost:"pinThePost",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,postContent:"",customLink:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],enableComment:!1,firstComment:"",storyHashtag:"",pinThePost:!1}),loadState:t=>{var s;return{attachLink:t.attach_link||!1,postContent:t.post_content||"",customLink:t.custom_link||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],enableComment:((s=t.first_comment)==null?void 0:s.length)>0,firstComment:t.first_comment||"",storyHashtag:t.story_hashtag||"",pinThePost:t.pin_the_post||!1,aiTemplateId:t.ai_template_id}},saveState:t=>({attach_link:t.attachLink,post_content:t.postContent,custom_link:t.attachLink?t.customLink:"",upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],first_comment:t.enableComment&&t.firstComment.length>0?t.firstComment:"",story_hashtag:t.storyHashtag,pin_the_post:t.pinThePost,ai_template_id:t.aiTemplateId})}});const ye={slug:"instagram",label:"Instagram",Icon:Zo};h.registerHookListener("social_networks",t=>[...t,ye.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:ye.slug,label:"Instagram",icon:e.jsx(qt,{})}],3);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:ye.slug,label:"Instagram",icon:e.jsx(Zo,{})}],3);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==ye.slug?t:e.jsx(Zl,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===ye.slug)?[...t,{slug:"instagram",icon:e.jsx(qt,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===ye.slug)?[...t,{slug:"instagram",icon:e.jsx(qt,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===ye.slug)?[...t,{slug:"instagram",icon:e.jsx(qt,{})}]:t);h.registerHookListener("content",(t,s,o,i,a)=>{if(o.social_network!==ye.slug)return t;switch(s){case To.WpPost:return e.jsx(Ol,{customizationData:i,setCustomizationData:a});case To.CustomPost:return e.jsx(Wl,{customizationData:i,setCustomizationData:a})}});h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:ye.slug,label:"Instagram",icon:e.jsx(qt,{})}],3);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==ye.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(Sl,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("add_app.content",(t,s,o)=>s!==ye.slug?t:e.jsx(Vl,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===ye.slug?"Instagram":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===ye.slug?e.jsx(qt,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===ye.slug?"#c13584":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===ye.slug?"#C4328B14":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"instagram",label:"Instagram",icon:e.jsx(Zo,{})}],3);h.registerHookListener("settings.actions",(t,s)=>s===ye.slug?e.jsx(ma.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===ye.slug?e.jsx(ma.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===ye.slug?e.jsx(Tl,{customizationData:o,setCustomizationData:i}):t);const ds=ye,Jt=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#0A66C2"}),e.jsx("path",{d:"M8.37732 6.57934C8.37732 7.45158 7.62128 8.15868 6.68866 8.15868C5.75604 8.15868 5 7.45158 5 6.57934C5 5.70709 5.75604 5 6.68866 5C7.62128 5 8.37732 5.70709 8.37732 6.57934Z",fill:"white"}),e.jsx("path",{d:"M5.23093 9.31956H8.11753V18.0667H5.23093V9.31956Z",fill:"white"}),e.jsx("path",{d:"M12.7649 9.31956H9.87835V18.0667H12.7649C12.7649 18.0667 12.7649 15.3129 12.7649 13.5912C12.7649 12.5578 13.1178 11.5198 14.5258 11.5198C16.1169 11.5198 16.1074 12.8722 16.0999 13.92C16.0902 15.2895 16.1134 16.6871 16.1134 18.0667H19V13.4501C18.9756 10.5024 18.2074 9.14408 15.6804 9.14408C14.1797 9.14408 13.2495 9.82539 12.7649 10.4418V9.31956Z",fill:"white"})]}),xc=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Fs.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Fs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(Jt,{})}),onClick:l,children:n("Sign in with Linkedin")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),jc=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(k=>k.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const k=window.open("about:blank","_blank","width=700,height=500");if(!k){o.error(n("Window could not open"));return}a(!0),k.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Fs.slug,app_id:f,proxy:r?l:""},b=>{k.location.href=b.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},k=>{const b=k.apps.filter(B=>B.social_network===Fs.slug);y(b),b.length===1&&C(b[0].id)})});return p.useEffect(()=>H(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Fs.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-linkedin"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:k=>C(k),options:g.map(k=>e.jsx(W.Option,{value:k.id,children:k.name},k.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),fc=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(jc,{setIsAdvancedMode:r}):e.jsx(xc,{setIsAdvancedMode:r})},kc=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Fs.slug,name:r,client_id:l,client_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Linkedin App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Client ID"),size:"sm",placeholder:n("Enter client id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Client Secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},gt=xe(t=>({postText:"",cutPostText:!1,attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),_c=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=gt.getState();t.post("v1/social-networks/linkedin/settings",{post_text:r.postText,cut_post_text:r.cutPostText,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),Cc=j.memo(()=>{const t=gt(o=>o.postText),s=gt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"linkedin_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),yc=j.memo(()=>{const t=gt(o=>o.cutPostText),s=gt(o=>o.setSettings);return e.jsx(O,{label:n("Cut the exceeded part of the custom message"),description:n(`LinkedIn limits the post content length to a maximum of 3000 characters. By enabling
                                    the option, the first 3000 characters of your custom message will be shared;
                                    otherwise, the post won't be shared because of the limit.`),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})})})}),wc=j.memo(()=>{const t=gt(o=>o.attachLink),s=gt(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),vc=j.memo(()=>{const t=gt(i=>i.uploadMedia),s=gt(i=>i.mediaTypeToUpload),o=gt(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:gt})]})})]})})}),bc=j.memo(()=>{const t=M(),s=gt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/linkedin/settings",{},a=>{s({postText:a.post_text,cutPostText:a.cut_post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Cc,{}),e.jsx(yc,{}),e.jsx(vc,{}),e.jsx(wc,{})]})}),ga={Actions:_c,Body:bc},Tc=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Ac=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Us(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Pc=()=>{const t=x.useStore(),s=Us(a=>a.attachLink),o=Us(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},Sc=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Pc,{}),e.jsx(Lc,{}),e.jsx(Ac,{})]}),Us=x.createUseActivePostPayloadHook();function Lc(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Us(l=>l.uploadMedia),r=Us(l=>l.uploadMediaType),c=Us(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:"Custom"}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"linkedin",title:"Linkedin",accentColor:"#1275B114",icon:e.jsx(Yo,{}),iconColorful:e.jsx(Jt,{}),composerContent:e.jsx(Sc,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Ee={slug:"linkedin",label:"Linkedin",Icon:Yo};h.registerHookListener("social_networks",t=>[...t,Ee.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ee.slug,label:"Linkedin",icon:e.jsx(Jt,{})}],7);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ee.slug,label:"Linkedin",icon:e.jsx(Yo,{})}],7);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ee.slug?t:e.jsx(fc,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ee.slug)?[...t,{slug:"linkedin",icon:e.jsx(Jt,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ee.slug)?[...t,{slug:"linkedin",icon:e.jsx(Jt,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ee.slug)?[...t,{slug:"linkedin",icon:e.jsx(Jt,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ee.slug,label:"Linkedin",icon:e.jsx(Jt,{})}],7);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ee.slug?t:e.jsx(kc,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ee.slug?"Linkedin":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ee.slug?e.jsx(Jt,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Ee.slug?"#0a66c2":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ee.slug?"#1275B114":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"linkedin",label:"Linkedin",icon:e.jsx(Yo,{})}],7);h.registerHookListener("settings.actions",(t,s)=>s===Ee.slug?e.jsx(ga.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ee.slug?e.jsx(ga.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ee.slug?e.jsx(Tc,{customPostData:o,setCustomPostData:i}):t);const Fs=Ee,Ps=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#2B90D9"}),e.jsxs("g",{clipPath:"url(#clip0_7253_103819)",children:[e.jsx("path",{d:"M19.6594 13.7065C19.4242 14.9165 17.5529 16.2407 15.4037 16.4974C14.2829 16.6311 13.1795 16.754 12.0029 16.7C10.0786 16.6119 8.56022 16.2407 8.56022 16.2407C8.56022 16.4281 8.57177 16.6064 8.59488 16.7732C8.84505 18.6723 10.4779 18.7861 12.0247 18.8391C13.5859 18.8925 14.976 18.4542 14.976 18.4542L15.0401 19.8656C15.0401 19.8656 13.9481 20.4519 12.0029 20.5598C10.9302 20.6187 9.59832 20.5328 8.04704 20.1222C4.68257 19.2317 4.10396 15.6453 4.01542 12.0064C3.98844 10.9259 4.00507 9.90715 4.00507 9.05507C4.00507 5.33406 6.44308 4.24337 6.44308 4.24337C7.67239 3.67881 9.78177 3.44139 11.9747 3.42346H12.0286C14.2215 3.44139 16.3323 3.67881 17.5615 4.24337C17.5615 4.24337 19.9994 5.33406 19.9994 9.05507C19.9994 9.05507 20.03 11.8005 19.6594 13.7065Z",fill:"white"}),e.jsx("path",{d:"M17.1238 9.34377V13.8493H15.3388V9.4762C15.3388 8.55436 14.951 8.08646 14.1751 8.08646C13.3173 8.08646 12.8874 8.6415 12.8874 9.73903V12.1327H11.113V9.73903C11.113 8.6415 10.683 8.08646 9.82516 8.08646C9.04933 8.08646 8.66147 8.55436 8.66147 9.4762V13.8493H6.87646V9.34377C6.87646 8.42294 7.11092 7.6912 7.58187 7.14983C8.06751 6.60846 8.70352 6.33093 9.49302 6.33093C10.4065 6.33093 11.0982 6.68202 11.5555 7.38428L12.0002 8.12961L12.4449 7.38428C12.9021 6.68202 13.5939 6.33093 14.5074 6.33093C15.2968 6.33093 15.9328 6.60846 16.4185 7.14983C16.8894 7.6912 17.1238 8.42294 17.1238 9.34377Z",fill:"#2B90D9"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7253_103819",children:e.jsx("rect",{width:"16",height:"17.153",fill:"white",transform:"translate(4 3.42346)"})})})]}),Ic=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),[a,r]=p.useState(!1),[c,l]=p.useState(""),[d,g]=p.useState([]),[y,f]=p.useState(),C=p.useMemo(()=>d.find(H=>H.id===y),[y]),T=()=>{if(a&&!c){s.error(n("Please enter the proxy"));return}if(!y){s.error(n("Please select an app"));return}const H=window.open("about:blank","_blank","width=700,height=500");if(!H){s.error(n("Window could not open"));return}i(!0),H.onpagehide=()=>i(!1),t.post("v1/channels/get-auth-url",{social_network:Co.slug,app_id:y,proxy:a?c:""},k=>{H.location.href=k.auth_url},()=>i(!1))},m=Je(()=>{t.get("v1/settings/apps",{},H=>{const k=H.apps.filter(b=>b.social_network===Co.slug);g(k),k.length===1&&f(k[0].id)})});return p.useEffect(()=>m(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Co.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-mastodon"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[d.length>0?e.jsx(W,{value:C==null?void 0:C.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:H=>f(H),options:d.map(H=>e.jsx(W.Option,{value:H.id,children:H.name},H.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App'.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:a,onChange:H=>r(H.currentTarget.checked)}),a&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:c,onChange:H=>l(H.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:T,loading:o,children:n("Continue")})})]})]})}),Mc=t=>{const s=M(),o=R(),i=te();return p.useEffect(()=>(window.FSPosterAddChannels=a=>i.show(le,{sourceChannels:a.filter(r=>!r.id),destinationChannels:a.filter(r=>!!r.id),onAdd:r=>{s.post("v1/channels",{channels:r},c=>{t.onAdd(),t.onClose(),o.success(r.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(r.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),e.jsx(Ic,{})},zc=t=>{const s=M(),o=te(),i=R(),a=Me(k=>k.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(""),[T,m]=p.useState(!1),H=()=>{m(!0),s.post("v1/settings/apps",{social_network:Co.slug,name:r,client_key:l,client_secret:g,server:f},k=>{"app"in k?(m(!1),a(k.app),t.onClose(),i.success(n("App added successfully"))):(m(!1),o.show(ze,{infoText:k.info.text,infoCode:k.info.code,loading:T,onDone:()=>H()}))},()=>m(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Mastodon App"),value:r,onChange:k=>c(k.currentTarget.value)}),e.jsx(P,{label:n("Client Key"),size:"sm",placeholder:n("Enter client key"),value:l,onChange:k=>d(k.currentTarget.value)}),e.jsx(P,{label:n("Client Secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:k=>y(k.currentTarget.value)}),e.jsx(P,{label:n("Server"),size:"sm",placeholder:n("Enter server"),value:f,onChange:k=>C(k.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:H,loading:T,children:n("Add app")})]})},At=xe(t=>({postText:"",attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),Hc=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=At.getState();t.post("v1/social-networks/mastodon/settings",{post_text:r.postText,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),Dc=j.memo(()=>{const t=At(o=>o.postText),s=At(o=>o.setSettings);return e.jsx(O,{label:n("Custom message"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"mastodon_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Bc=j.memo(()=>{const t=At(o=>o.attachLink),s=At(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),Ec=j.memo(()=>{const t=At(i=>i.uploadMedia),s=At(i=>i.mediaTypeToUpload),o=At(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:At})]})})]})})}),Uc=j.memo(()=>{const t=M(),s=At(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/mastodon/settings",{},a=>{s({postText:a.post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Dc,{}),e.jsx(Ec,{}),e.jsx(Bc,{})]})}),xa={Actions:Hc,Body:Uc},Fc=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:"Customize post content",checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),$c=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=$s(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Oc=()=>{const t=x.useStore(),s=$s(a=>a.attachLink),o=$s(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},Rc=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Oc,{}),e.jsx(Nc,{}),e.jsx($c,{})]}),$s=x.createUseActivePostPayloadHook();function Nc(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=$s(l=>l.uploadMedia),r=$s(l=>l.uploadMediaType),c=$s(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"mastodon",title:"Mastodon",accentColor:"#2B90D914",icon:e.jsx(Xo,{}),iconColorful:e.jsx(Ps,{}),composerContent:e.jsx(Rc,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Ue={slug:"mastodon",label:"Mastodon",Icon:Xo};h.registerHookListener("social_networks",t=>[...t,Ue.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ue.slug,label:"Mastodon",icon:e.jsx(Ps,{})}],23);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ue.slug,label:"Mastodon",icon:e.jsx(Xo,{})}],23);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ue.slug?t:e.jsx(Mc,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ue.slug)?[...t,{slug:"mastodon",icon:e.jsx(Ps,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ue.slug)?[...t,{slug:"mastodon",icon:e.jsx(Ps,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ue.slug)?[...t,{slug:"mastodon",icon:e.jsx(Ps,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ue.slug,label:"Mastodon",icon:e.jsx(Ps,{})}],23);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ue.slug?t:e.jsx(zc,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ue.slug?"Mastodon":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ue.slug?e.jsx(Ps,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Ue.slug?"#6364FF":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ue.slug?"#2B90D914":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"mastodon",label:"Mastodon",icon:e.jsx(Xo,{})}],23);h.registerHookListener("settings.actions",(t,s)=>s===Ue.slug?e.jsx(xa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ue.slug?e.jsx(xa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ue.slug?e.jsx(Fc,{customPostData:o,setCustomPostData:i}):t);const Co=Ue,Kc=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=ja(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Wc=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=ja(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Vc=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Wc,{}),e.jsx(Kc,{})]}),ja=x.createUseActivePostPayloadHook();j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const Qc=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Gc=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:us.slug,name:r,client_id:l,client_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Medium App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Client ID"),size:"sm",placeholder:n("Enter client id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Client Secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},es=()=>e.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9626 12C23.9626 5.39789 18.6025 0.0377808 12.0004 0.0377808H11.9998C5.39771 0.0377808 0.0375977 5.39789 0.0375977 12C0.0375977 18.6021 5.39771 23.9622 11.9998 23.9622H12.0004C18.6025 23.9622 23.9626 18.6021 23.9626 12ZM13.2012 12.0001C13.2012 14.9406 10.8337 17.3243 7.91325 17.3243C4.99285 17.3243 2.6251 14.94 2.6251 12.0001C2.6251 9.06009 4.99266 6.67566 7.91325 6.67566C10.8338 6.67566 13.2012 9.05958 13.2012 12.0001ZM19.0023 12.0001C19.0023 14.768 17.8185 17.0126 16.3583 17.0126C14.898 17.0126 13.7142 14.768 13.7142 12.0001C13.7142 9.23222 14.8978 6.98752 16.3581 6.98752C17.8184 6.98752 19.0021 9.23152 19.0021 12.0001H19.0023ZM21.3751 12.0001C21.3751 14.4794 20.9588 16.4905 20.4452 16.4905C19.9315 16.4905 19.5154 14.48 19.5154 12.0001C19.5154 9.52022 19.9317 7.50966 20.4452 7.50966C20.9587 7.50966 21.3751 9.52003 21.3751 12.0001Z",fill:"black"})}),Zc=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:us.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:us.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(es,{})}),onClick:l,children:n("Sign in with Medium")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Yc=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState([]),[C,T]=p.useState(),m=p.useMemo(()=>y.find(U=>U.id===C),[C]),[H,k]=p.useState(""),b=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}if(!C){o.error(n("Please select an app"));return}const U=window.open("about:blank","_blank","width=700,height=500");if(!U){o.error(n("Window could not open"));return}r(!0),U.onpagehide=()=>r(!1),s.post("v1/channels/get-auth-url",{social_network:us.slug,app_id:C,proxy:c?d:""},D=>{U.location.href=D.auth_url},()=>r(!1))},B=Je(()=>{s.get("v1/settings/apps",{},U=>{const D=U.apps.filter(K=>K.social_network===us.slug);f(D),D.length===1&&T(D[0].id)})});p.useEffect(()=>B(),[]);const F=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/medium/channel-via-token",{access_token:H,proxy:c?d:""},U=>{r(!1),i.show(le,{sourceChannels:U.channels.filter(D=>!D.id),destinationChannels:U.channels.filter(D=>!!D.id),onAdd:D=>{s.post("v1/channels",{channels:D},K=>{t.onAdd(),t.onClose(),o.success(D.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(D.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},$=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:U=>l(U.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:U=>g(U.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:us.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-medium"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the simplest, safest, and has a longer authorization time."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[y.length>0?e.jsx(W,{value:m==null?void 0:m.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:U=>T(U),options:y.map(U=>e.jsx(W.Option,{value:U.id,children:U.name},U.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or select a different method.")}),$]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:b,loading:a,children:n("Continue")})]})]}),e.jsxs(z.Method,{slug:"integration_token",label:n("Token"),description:n("Medium integration token"),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:"Enter the token",size:"sm",placeholder:n('Enter the "{{token}}"',{token:"token"}),value:H,onChange:U=>k(U.currentTarget.value)})}),$]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:F,loading:a,children:n("Continue")})})]})]})}),Xc=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Yc,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(Zc,{setIsAdvancedMode:r})},qc=j.memo(t=>{var m,H,k;const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(((m=t.initialData)==null?void 0:m.useProxy)||!1),[d,g]=p.useState(((H=t.initialData)==null?void 0:H.proxy)||""),[y,f]=p.useState(((k=t.initialData)==null?void 0:k.accessToken)||""),C=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/medium/channel-via-token",{access_token:y,proxy:c?d:""},b=>{r(!1),i.show(le,{sourceChannels:b.channels.filter(B=>!B.id),destinationChannels:b.channels.filter(B=>!!B.id),onAdd:B=>{s.post("v1/channels",{channels:B},F=>{t.onAdd(),t.onClose(),o.success(B.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(B.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},T=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:b=>l(b.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:b=>g(b.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:us.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-medium"}),e.jsxs(z.Method,{slug:"integration_token",label:n("Token"),description:n("Medium integration token"),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:"Enter the token",size:"sm",placeholder:n('Enter the "{{token}}"',{token:"token"}),value:y,onChange:b=>f(b.currentTarget.value)})}),T]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:C,loading:a,children:n("Continue")})})]})]})}),Jc=t=>e.jsx(qc,A({},t)),ed=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(Jc,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,accessToken:s.session_data.accessToken}})]})})]}),Lt=xe(t=>({postTitle:"",postText:"",sendTags:!1,setSettings:s=>t(s)})),td=j.memo(()=>{const t=M(),s=R(),o=Lt(d=>d.postTitle),i=Lt(d=>d.postText),a=Lt(d=>d.sendTags),[r,c]=p.useState(!1),l=()=>{c(!0),t.post("v1/social-networks/medium/settings",{post_title:o,post_text:i,send_tags:a},d=>{c(!1),s.success(n("Saved successfully"))},()=>c(!1))};return e.jsx(V,{size:"md",onClick:l,loading:r,children:n("Save changes")})}),sd=j.memo(()=>{const t=Lt(o=>o.postTitle),s=Lt(o=>o.setSettings);return e.jsx(O,{label:n("Post title"),description:n("You can customize the Post title as you like by using the keywords."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"medium_post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),od=j.memo(()=>{const t=Lt(o=>o.postText),s=Lt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),nd=j.memo(()=>{const t=Lt(o=>o.sendTags),s=Lt(o=>o.setSettings);return e.jsx(O,{label:n("Share WordPress tags as Medium tags"),description:n("Enable the option to add the WordPress tags to the Medium tag section."),content:e.jsx(G,{checked:t,onChange:o=>s({sendTags:o.currentTarget.checked})}),withoutDivider:!0})}),ad=j.memo(()=>{const t=M(),s=Lt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/medium/settings",{},a=>{s({postTitle:a.post_title,postText:a.post_text,sendTags:a.send_tags}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(sd,{}),e.jsx(od,{}),e.jsx(nd,{})]})}),fa={Actions:td,Body:ad};me.push({key:"medium",title:"Medium",accentColor:"#00000014",icon:e.jsx(qo,{}),iconColorful:e.jsx(es,{}),composerContent:e.jsx(Vc,{}),composer:{syncKeys:{postTitle:"postTitle",postContent:"postContent"},initialState:()=>({postTitle:"",postContent:"",sendTags:!1,customTags:[]}),loadState:t=>({postTitle:t.post_title||"",postContent:t.post_content||"",sendTags:t.send_tags||!1,customTags:t.custom_tags||[]}),saveState:t=>({post_title:t.postTitle,post_content:t.postContent,send_tags:t.sendTags,custom_tags:t.customTags})}});const Fe={slug:"medium",label:"Medium",Icon:qo};h.registerHookListener("social_networks",t=>[...t,Fe.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Fe.slug,label:"Medium",icon:e.jsx(es,{})}],16);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Fe.slug,label:"Medium",icon:e.jsx(qo,{})}],16);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Fe.slug?t:e.jsx(Xc,{onAdd:o,onClose:i}));h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Fe.slug,label:"Medium",icon:e.jsx(es,{})}],7);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==Fe.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(ed,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update token")})},"update_token")]);h.registerHookListener("add_app.content",(t,s,o)=>s!==Fe.slug?t:e.jsx(Gc,{onClose:o}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Fe.slug)?[...t,{slug:"medium",icon:e.jsx(es,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Fe.slug)?[...t,{slug:"medium",icon:e.jsx(es,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Fe.slug)?[...t,{slug:"medium",icon:e.jsx(es,{})}]:t);h.registerHookListener("social_network.label",(t,s)=>s===Fe.slug?"Medium":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Fe.slug?e.jsx(es,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Fe.slug?"#00000014":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"medium",label:"Medium",icon:e.jsx(qo,{})}],16);h.registerHookListener("settings.actions",(t,s)=>s===Fe.slug?e.jsx(fa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Fe.slug?e.jsx(fa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Fe.slug?e.jsx(Qc,{customPostData:o,setCustomPostData:i}):t);const us=Fe,ts=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{clipPath:"url(#clip0_7247_45022)",children:e.jsxs("g",{clipPath:"url(#clip1_7247_45022)",children:[e.jsx("path",{d:"M23.9385 20.3834C23.9385 22.3133 22.3741 23.8776 20.4443 23.8776H3.43262C1.50284 23.8776 -0.0615234 22.3133 -0.0615234 20.3834V3.49415C-0.0615234 1.56436 1.50284 0 3.43262 0H20.4443C22.3741 0 23.9385 1.56436 23.9385 3.49415V20.3834Z",fill:"#FAAB62"}),e.jsx("path",{d:"M23.815 20.2967C23.815 22.2066 22.2667 23.7549 20.3567 23.7549H3.51973C1.6098 23.7549 0.0615234 22.2066 0.0615234 20.2967V3.58083C0.0615234 1.6709 1.60986 0.12262 3.51973 0.12262H20.3567C22.2667 0.12262 23.815 1.67096 23.815 3.58083V20.2967Z",fill:"#F7931E"}),e.jsx("path",{d:"M11.9249 3.5686C9.54634 3.5686 7.61816 5.49685 7.61816 7.87538C7.61816 10.254 9.54634 12.1823 11.9249 12.1823C14.3035 12.1823 16.2317 10.254 16.2317 7.87538C16.2317 5.49685 14.3035 3.5686 11.9249 3.5686ZM11.9249 9.65583C10.9417 9.65583 10.1446 8.85867 10.1446 7.87544C10.1446 6.89221 10.9417 6.09512 11.9249 6.09512C12.9082 6.09512 13.7053 6.89221 13.7053 7.87544C13.7053 8.85867 12.9082 9.65583 11.9249 9.65583Z",fill:"white"}),e.jsx("path",{d:"M13.4454 15.6092C15.1695 15.258 16.2027 14.4415 16.2574 14.3977C16.7619 13.9931 16.843 13.256 16.4384 12.7515C16.0338 12.2469 15.2969 12.1659 14.7922 12.5704C14.7815 12.5791 13.6796 13.4244 11.8664 13.4257C10.0533 13.4244 8.92799 12.5791 8.91733 12.5704C8.41268 12.1659 7.67574 12.2469 7.27118 12.7515C6.86656 13.256 6.94761 13.9931 7.45213 14.3977C7.50754 14.4421 8.5834 15.2799 10.3559 15.6229L7.8856 18.2045C7.43666 18.6701 7.45016 19.4114 7.91573 19.8604C8.14297 20.0795 8.43585 20.1884 8.72848 20.1884C9.03529 20.1884 9.34179 20.0685 9.57156 19.8302L11.8664 17.3855L14.3931 19.846C14.8509 20.3031 15.5923 20.3023 16.0492 19.8447C16.5062 19.387 16.5056 18.6456 16.0479 18.1886L13.4454 15.6092Z",fill:"white"}),e.jsx("path",{d:"M11.8666 13.4255C11.8637 13.4255 11.8694 13.4256 11.8666 13.4257C11.8637 13.4256 11.8695 13.4255 11.8666 13.4255Z",fill:"white"})]})}),e.jsxs("defs",{children:[e.jsx("clipPath",{id:"clip0_7247_45022",children:e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"white"})}),e.jsx("clipPath",{id:"clip1_7247_45022",children:e.jsx("rect",{width:"24",height:"23.8776",fill:"white",transform:"translate(-0.0615234)"})})]})]}),id=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Rs.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Rs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(ts,{})}),onClick:l,children:n("Sign in with {{name}}",{name:"Odnoklassniki"})}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),rd=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(k=>k.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const k=window.open("about:blank","_blank","width=700,height=500");if(!k){o.error(n("Window could not open"));return}a(!0),k.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Rs.slug,app_id:f,proxy:r?l:""},b=>{k.location.href=b.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},k=>{const b=k.apps.filter(B=>B.social_network===Rs.slug);y(b),b.length===1&&C(b[0].id)})});return p.useEffect(()=>H(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Rs.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-odnoklassniki"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:k=>C(k),options:g.map(k=>e.jsx(W.Option,{value:k.id,children:k.name},k.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),ld=t=>{const s=M(),o=te(),i=R(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>{o.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),i.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}})},()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(rd,{setIsAdvancedMode:r}):e.jsx(id,{setIsAdvancedMode:r})},cd=t=>{const s=M(),o=te(),i=R(),a=Me(k=>k.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(""),[T,m]=p.useState(!1),H=()=>{m(!0),s.post("v1/settings/apps",{social_network:Rs.slug,name:r,app_id:l,public_key:g,secret_key:f},k=>{"app"in k?(m(!1),a(k.app),t.onClose(),i.success(n("App added successfully"))):(m(!1),o.show(ze,{infoText:k.info.text,infoCode:k.info.code,loading:T,onDone:()=>H()}))},()=>m(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Odnoklassniki App"),value:r,onChange:k=>c(k.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:k=>d(k.currentTarget.value)}),e.jsx(P,{label:n("Public Key"),size:"sm",placeholder:n("Enter public key"),value:g,onChange:k=>y(k.currentTarget.value)}),e.jsx(P,{label:n("Secret Key"),size:"sm",placeholder:n("Enter secret key"),value:f,onChange:k=>C(k.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:H,loading:T,children:n("Add app")})]})},Pt=xe(t=>({postText:"",attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),dd=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=Pt.getState();t.post("v1/social-networks/ok/settings",{post_text:r.postText,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:"Save changes"})}),ud=j.memo(()=>{const t=Pt(o=>o.postText),s=Pt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"ok_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),pd=j.memo(()=>{const t=Pt(o=>o.attachLink),s=Pt(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),hd=j.memo(()=>{const t=Pt(i=>i.uploadMedia),s=Pt(i=>i.mediaTypeToUpload),o=Pt(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:Pt})]})})]})})}),md=j.memo(()=>{const t=M(),s=Pt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/ok/settings",{},a=>{s({postText:a.post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(ud,{}),e.jsx(hd,{}),e.jsx(pd,{})]})}),ka={Actions:dd,Body:md},gd=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),xd=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Os(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},jd=()=>{const t=x.useStore(),s=Os(a=>a.attachLink),o=Os(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},fd=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(jd,{}),e.jsx(kd,{}),e.jsx(xd,{})]}),Os=x.createUseActivePostPayloadHook();function kd(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Os(l=>l.uploadMedia),r=Os(l=>l.uploadMediaType),c=Os(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"ok",title:"Odnoklassniki",accentColor:"#EE820814",icon:e.jsx(Jo,{}),iconColorful:e.jsx(ts,{}),composerContent:e.jsx(fd,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const $e={slug:"ok",label:"Odnoklassniki",Icon:Jo};h.registerHookListener("social_networks",t=>[...t,$e.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:$e.slug,label:"Odnoklassniki",icon:e.jsx(ts,{})}],13);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:$e.slug,label:"Odnoklassniki",icon:e.jsx(Jo,{})}],13);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==$e.slug?t:e.jsx(ld,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===$e.slug)?[...t,{slug:"ok",icon:e.jsx(ts,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===$e.slug)?[...t,{slug:"ok",icon:e.jsx(ts,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===$e.slug)?[...t,{slug:"ok",icon:e.jsx(ts,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:$e.slug,label:"Odnoklassniki",icon:e.jsx(ts,{})}],13);h.registerHookListener("add_app.content",(t,s,o)=>s!==$e.slug?t:e.jsx(cd,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===$e.slug?"Odnoklassniki":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===$e.slug?e.jsx(ts,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===$e.slug?"#ed812b":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===$e.slug?"#EE820814":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"ok",label:"Odnoklassniki",icon:e.jsx(Jo,{})}],13);h.registerHookListener("settings.actions",(t,s)=>s===$e.slug?e.jsx(ka.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===$e.slug?e.jsx(ka.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===$e.slug?e.jsx(gd,{customPostData:o,setCustomPostData:i}):t);const Rs=$e,_d=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Xs(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Cd=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Xs(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},yd=()=>{const t=x.useStore(),s=Xs(a=>a.attachLink),o=Xs(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},wd=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(yd,{}),e.jsx(vd,{}),e.jsx(Cd,{}),e.jsx(_d,{})]}),Xs=x.createUseActivePostPayloadHook();function vd(){const t=x.useStore(),s=x.useSelector(c=>c.wpPostType==="fsp_post"),o=x.useSelector(c=>c.wpPostType==="attachment"),i=x.useSelector(c=>c.wpPostId),a=Xs(c=>c.uploadMediaType),r=Xs(c=>c.mediaIds);return o&&t.mergeActivePostPayload({uploadMediaType:"custom",mediaIds:[i]}),e.jsx(e.Fragment,{children:!o&&e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images to upload")}),!s&&e.jsx(L.Group,{size:"sm",value:a,onChange:c=>t.mergeActivePostPayload({uploadMediaType:c}),children:e.jsx(_,{children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),a==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:r.map(c=>({id:c,url:""})),setImages:c=>{t.mergeActivePostPayload({mediaIds:c.map(l=>l.id)})},multi:!0})})]})]})})}),s&&e.jsx(_,{children:e.jsx(X,{images:r.map(c=>({id:c,url:""})),setImages:c=>{t.mergeActivePostPayload({mediaIds:c.map(l=>l.id)})},multi:!0})})]})})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const bd=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Td=j.memo(t=>{var m,H,k;const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(((m=t.initialData)==null?void 0:m.useProxy)||!1),[d,g]=p.useState(((H=t.initialData)==null?void 0:H.proxy)||""),[y,f]=p.useState(((k=t.initialData)==null?void 0:k.cookieSess)||""),C=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/pinterest/channel-via-cookie",{cookie_pinterest_sess:y,proxy:c?d:""},b=>{r(!1),i.show(le,{sourceChannels:b.channels.filter(B=>!B.id),destinationChannels:b.channels.filter(B=>!!B.id),onAdd:B=>{s.post("v1/channels",{channels:B},F=>{t.onAdd(),t.onClose(),o.success(B.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(B.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},T=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:b=>l(b.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:b=>g(b.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:ps.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-pinterest"}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"_pinterest_sess"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"_pinterest_sess"}),value:y,onChange:b=>f(b.currentTarget.value)})}),T]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:C,loading:a,children:n("Continue")})})]})]})}),Ad=t=>e.jsx(Td,A({},t)),Pd=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(Ad,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,cookieSess:s.session_data.cookieSess}})]})})]}),Sd=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:ps.slug,name:r,app_id:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Pinterest App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},ss=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_44980)",children:[e.jsx("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"white"}),e.jsx("path",{d:"M12 0C5.37284 0 0 5.37284 0 12C0 17.0864 3.16049 21.4321 7.62469 23.1802C7.51605 22.2321 7.42716 20.7704 7.6642 19.7333C7.88148 18.7951 9.06667 13.7679 9.06667 13.7679C9.06667 13.7679 8.71111 13.0469 8.71111 11.9901C8.71111 10.321 9.67901 9.07654 10.884 9.07654C11.9111 9.07654 12.4049 9.84691 12.4049 10.7654C12.4049 11.7926 11.7531 13.3333 11.4074 14.7654C11.121 15.9605 12.0099 16.9383 13.1852 16.9383C15.3185 16.9383 16.958 14.6864 16.958 11.4469C16.958 8.57284 14.8938 6.5679 11.9407 6.5679C8.52346 6.5679 6.51852 9.12593 6.51852 11.7728C6.51852 12.8 6.91358 13.9062 7.40741 14.5086C7.50617 14.6272 7.51605 14.7358 7.48642 14.8543C7.39753 15.2296 7.19012 16.0494 7.15062 16.2173C7.10123 16.4346 6.97284 16.484 6.74568 16.3753C5.24444 15.6741 4.30617 13.4914 4.30617 11.7235C4.30617 7.94074 7.05185 4.4642 12.237 4.4642C16.3951 4.4642 19.6346 7.42716 19.6346 11.3975C19.6346 15.5358 17.0272 18.8642 13.4123 18.8642C12.1975 18.8642 11.0519 18.2321 10.6667 17.4815C10.6667 17.4815 10.0642 19.7728 9.91605 20.3358C9.64938 21.3827 8.91852 22.6864 8.42469 23.4864C9.55062 23.8321 10.7358 24.0198 11.9802 24.0198C18.6074 24.0198 23.9802 18.6469 23.9802 12.0198C24 5.37284 18.6272 0 12 0Z",fill:"#E60019"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_44980",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})})]});j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error("Please enter the proxy");return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:ps.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:ps.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(ss,{})}),onClick:l,children:n("Sign in with Pinterest")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})});const Ld=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState([]),[C,T]=p.useState(),m=p.useMemo(()=>y.find(U=>U.id===C),[C]),[H,k]=p.useState(""),b=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}if(!C){o.error(n("Please select an app"));return}const U=window.open("about:blank","_blank","width=700,height=500");if(!U){o.error(n("Window could not open"));return}r(!0),U.onpagehide=()=>r(!1),s.post("v1/channels/get-auth-url",{social_network:ps.slug,app_id:C,proxy:c?d:""},D=>{U.location.href=D.auth_url},()=>r(!1))},B=Je(()=>{s.get("v1/settings/apps",{},U=>{const D=U.apps.filter(K=>K.social_network===ps.slug);f(D),D.length===1&&T(D[0].id)})});p.useEffect(()=>B(),[]);const F=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/pinterest/channel-via-cookie",{cookie_pinterest_sess:H,proxy:c?d:""},U=>{r(!1),i.show(le,{sourceChannels:U.channels.filter(D=>!D.id),destinationChannels:U.channels.filter(D=>!!D.id),onAdd:D=>{s.post("v1/channels",{channels:D},K=>{t.onAdd(),t.onClose(),o.success(D.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(D.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})},$=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:U=>l(U.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:U=>g(U.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:ps.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-pinterest"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the simplest, safest, and has a longer authorization time."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[y.length>0?e.jsx(W,{value:m==null?void 0:m.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:U=>T(U),options:y.map(U=>e.jsx(W.Option,{value:U.id,children:U.name},U.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or select a different method.")}),$]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:b,loading:a,children:n("Continue")})})]}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"_pinterest_sess"}),size:"sm",placeholder:n('Enter cookie "{{cookie}}"',{cookie:"_pinterest_sess"}),value:H,onChange:U=>k(U.currentTarget.value)})}),$]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:F,loading:a,children:n("Continue")})})]})]})}),Id=t=>{const s=M(),o=R(),i=te();return p.useEffect(()=>(window.FSPosterAddChannels=a=>i.show(le,{sourceChannels:a.filter(r=>!r.id),destinationChannels:a.filter(r=>!!r.id),onAdd:r=>{s.post("v1/channels",{channels:r},c=>{t.onAdd(),t.onClose(),o.success(r.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(r.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),e.jsx(Ld,{onAdd:t.onAdd,onClose:t.onClose})},Ke=xe(t=>({postTitle:"",postText:"",maxImagesCount:1,altText:"",attachLink:!1,setSettings:s=>t(s)})),Md=j.memo(()=>{const t=M(),s=R(),o=Ke(y=>y.postTitle),i=Ke(y=>y.postText),a=Ke(y=>y.maxImagesCount),r=Ke(y=>y.altText),c=Ke(y=>y.attachLink),[l,d]=p.useState(!1),g=()=>{d(!0),t.post("v1/social-networks/pinterest/settings",{post_title:o,post_text:i,max_images_count:a,alt_text:r,attach_link:c},y=>{d(!1),s.success(n("Saved successfully"))},()=>d(!1))};return e.jsx(V,{size:"md",onClick:g,loading:l,children:n("Save changes")})}),zd=j.memo(()=>{const t=Ke(o=>o.postTitle),s=Ke(o=>o.setSettings);return e.jsx(O,{label:n("Pin title"),description:n("You can customize the Pin title as you like by using the keywords."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"pinterest_post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Hd=j.memo(()=>{const t=Ke(o=>o.attachLink),s=Ke(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})})})}),Dd=j.memo(()=>{const t=Ke(o=>o.altText),s=Ke(o=>o.setSettings);return e.jsx(O,{label:n("Custom alt text"),description:n(`You can customize and share alt text for Pins, and the alt text length limit is 500
                                    characters. Pinterest doesn't accept the Pin if the alt text exceeds the limit. That
                                    is why FS Poster cuts the exceeding part of the text automatically.`),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"pinterest_alt_text",value:t,onChange:o=>{s({altText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Bd=j.memo(()=>{const t=Ke(o=>o.postText),s=Ke(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"pinterest_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Ed=j.memo(()=>{const t=Ke(o=>o.maxImagesCount),s=Ke(o=>o.setSettings);return e.jsx(O,{label:n("Share multiple images"),description:n("Enter how many images from the post you want to pin (max 10 images)"),content:e.jsx(_,{maw:"400px",children:e.jsx(xi,{fullWidth:!0,value:t.toString(),onChange:o=>s({maxImagesCount:Number(o)}),data:[{label:1,value:"1"},{label:2,value:"2"},{label:3,value:"3"},{label:4,value:"4"},{label:5,value:"5"},{label:6,value:"6"},{label:7,value:"7"},{label:8,value:"8"},{label:9,value:"9"},{label:10,value:"10"}]})}),withoutDivider:!0})}),Ud=j.memo(()=>{const t=M(),s=Ke(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/pinterest/settings",{},a=>{s({postTitle:a.post_title,postText:a.post_text,maxImagesCount:a.max_images_count,altText:a.alt_text,attachLink:a.attach_link}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(zd,{}),e.jsx(Bd,{}),e.jsx(Dd,{}),e.jsx(Hd,{}),e.jsx(Ed,{})]})}),_a={Actions:Md,Body:Ud};me.push({key:"pinterest",title:"Pinterest",accentColor:"#BB0F2314",icon:e.jsx(en,{}),iconColorful:e.jsx(ss,{}),composerContent:e.jsx(wd,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postTitle:"postTitle",postContent:"postContent",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!0,customLink:"",postTitle:"",postContent:"",uploadMediaType:"custom",mediaIds:[],alt_text:""}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postTitle:t.post_title||"",postContent:t.post_content||"",uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,alt_text:t.alt_text}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_title:t.postTitle,post_content:t.postContent,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,alt_text:t.alt_text})}});const Te={slug:"pinterest",label:"Pinterest",Icon:en};h.registerHookListener("social_networks",t=>[...t,Te.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Te.slug,label:"Pinterest",icon:e.jsx(ss,{})}],8);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Te.slug,label:"Pinterest",icon:e.jsx(en,{})}],8);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Te.slug?t:e.jsx(Id,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Te.slug)?[...t,{slug:"pinterest",icon:e.jsx(ss,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Te.slug)?[...t,{slug:"pinterest",icon:e.jsx(ss,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Te.slug)?[...t,{slug:"pinterest",icon:e.jsx(ss,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Te.slug,label:"Pinterest",icon:e.jsx(ss,{})}],8);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==Te.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(Pd,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("add_app.content",(t,s,o)=>s!==Te.slug?t:e.jsx(Sd,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Te.slug?"Pinterest":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Te.slug?e.jsx(ss,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Te.slug?"#e60023":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Te.slug?"#BB0F2314":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"pinterest",label:"Pinterest",icon:e.jsx(en,{})}],8);h.registerHookListener("settings.actions",(t,s)=>s===Te.slug?e.jsx(_a.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Te.slug?e.jsx(_a.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Te.slug?e.jsx(bd,{customPostData:o,setCustomPostData:i}):t);const ps=Te,Mn=()=>e.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("mask",{id:"path-1-inside-1_8249_1926",fill:"white",children:e.jsx("path",{d:"M12.8268 2.80002C9.70925 2.80002 7.16 4.17227 5.34317 6.49143C5.62458 6.31268 5.28817 6.4456 6.05725 6.06335C6.33133 5.9616 6.60908 5.92952 6.88225 5.9836C8.20225 6.24577 8.88975 8.35226 8.41767 10.6898C7.51567 15.1548 3.86367 15.8652 3.51075 11.7311V11.7265C3.5355 13.1657 3.65833 14.4178 4.45675 16.0202L4.43292 15.967C4.63825 16.3932 3.56025 16.5152 3.8435 17.3878L3.84167 17.3823C3.86458 17.4437 3.86733 17.4621 3.90308 17.5308L3.90033 17.5262L4.20833 17.4667L3.87726 17.4775C4.20833 17.925 3.96184 17.6549 4.18817 17.9048C5.14608 18.9627 5.27167 19.5218 5.91242 19.5218C6.11133 19.5218 6.29467 19.4531 6.43767 19.3376L6.43583 19.3403C6.53117 19.2991 6.76217 18.9517 7.01608 19.1497H7.01517C8.711 20.4944 10.8533 21.1975 13.012 21.1297H12.9992C14.9196 21.0811 16.6842 20.4577 18.1353 19.4265L18.1077 19.4457C18.2141 19.3687 18.3617 19.3788 18.4561 19.4687C18.5487 19.5365 18.7439 19.8353 19.1775 19.8353C19.37 19.8353 19.5469 19.7712 19.6881 19.6621L19.6863 19.6639C20.0996 19.3266 19.9703 19.1995 20.0619 19.2847C19.7917 19.0334 19.7917 19.7547 20.0245 19.3266C20.9934 18.2394 21.4068 18.0937 21.4068 17.5556C21.4068 16.8635 20.6359 16.792 20.8596 16.4033L20.8587 16.4042C21.9238 14.537 22.1646 12.3856 21.7805 10.346H21.8707C22.1466 10.0939 22.6526 9.59801 22.8506 9.17268C23.0623 8.71709 23.1164 8.24684 22.5545 8.45309C22.1182 8.61351 21.7827 8.71709 21.3757 8.62543C20.0208 5.22368 16.6787 2.82386 12.8305 2.80094H12.8278L12.8268 2.80002ZM3.07533 6.74168C2.243 6.75818 1.72508 7.62993 2.08625 8.34951L2.0835 8.34401C1.47942 8.36693 1 8.85826 1 9.45959C1 10.3735 2.04408 10.8878 2.77833 10.3717L2.77467 10.3744C2.93692 10.2617 3.05517 10.1123 3.13675 9.94726C3.30725 10.258 3.55842 10.5165 3.84992 10.6943C3.84533 10.8703 3.849 11.0482 3.86642 11.2581L3.8655 11.2388C4.13408 14.4453 6.96567 13.8761 7.65958 10.4358C8.02625 8.63001 7.49458 7.00018 6.4725 6.79851C5.46508 6.59868 4.60892 7.80685 4.23767 8.76201C4.10383 8.73451 4.00758 8.63459 3.92417 8.61718C4.586 7.91043 4.08275 6.74168 3.09642 6.74168C3.08908 6.74168 3.08267 6.74168 3.07533 6.74168ZM5.69883 7.87101C6.60817 7.87101 6.82083 9.25793 6.61917 10.2525C6.17733 12.4443 4.37242 12.8769 4.15517 10.8447C4.71342 11.0583 5.32942 10.9978 5.7135 10.4899C6.03067 10.0673 5.7905 8.89768 5.37067 8.74643C5.04433 8.62818 4.85092 8.77118 4.56033 8.79226C4.79592 8.35776 5.20842 7.87651 5.69883 7.87101Z"})}),e.jsx("path",{d:"M12.8268 2.80002C9.70925 2.80002 7.16 4.17227 5.34317 6.49143C5.62458 6.31268 5.28817 6.4456 6.05725 6.06335C6.33133 5.9616 6.60908 5.92952 6.88225 5.9836C8.20225 6.24577 8.88975 8.35226 8.41767 10.6898C7.51567 15.1548 3.86367 15.8652 3.51075 11.7311V11.7265C3.5355 13.1657 3.65833 14.4178 4.45675 16.0202L4.43292 15.967C4.63825 16.3932 3.56025 16.5152 3.8435 17.3878L3.84167 17.3823C3.86458 17.4437 3.86733 17.4621 3.90308 17.5308L3.90033 17.5262L4.20833 17.4667L3.87726 17.4775C4.20833 17.925 3.96184 17.6549 4.18817 17.9048C5.14608 18.9627 5.27167 19.5218 5.91242 19.5218C6.11133 19.5218 6.29467 19.4531 6.43767 19.3376L6.43583 19.3403C6.53117 19.2991 6.76217 18.9517 7.01608 19.1497H7.01517C8.711 20.4944 10.8533 21.1975 13.012 21.1297H12.9992C14.9196 21.0811 16.6842 20.4577 18.1353 19.4265L18.1077 19.4457C18.2141 19.3687 18.3617 19.3788 18.4561 19.4687C18.5487 19.5365 18.7439 19.8353 19.1775 19.8353C19.37 19.8353 19.5469 19.7712 19.6881 19.6621L19.6863 19.6639C20.0996 19.3266 19.9703 19.1995 20.0619 19.2847C19.7917 19.0334 19.7917 19.7547 20.0245 19.3266C20.9934 18.2394 21.4068 18.0937 21.4068 17.5556C21.4068 16.8635 20.6359 16.792 20.8596 16.4033L20.8587 16.4042C21.9238 14.537 22.1646 12.3856 21.7805 10.346H21.8707C22.1466 10.0939 22.6526 9.59801 22.8506 9.17268C23.0623 8.71709 23.1164 8.24684 22.5545 8.45309C22.1182 8.61351 21.7827 8.71709 21.3757 8.62543C20.0208 5.22368 16.6787 2.82386 12.8305 2.80094H12.8278L12.8268 2.80002ZM3.07533 6.74168C2.243 6.75818 1.72508 7.62993 2.08625 8.34951L2.0835 8.34401C1.47942 8.36693 1 8.85826 1 9.45959C1 10.3735 2.04408 10.8878 2.77833 10.3717L2.77467 10.3744C2.93692 10.2617 3.05517 10.1123 3.13675 9.94726C3.30725 10.258 3.55842 10.5165 3.84992 10.6943C3.84533 10.8703 3.849 11.0482 3.86642 11.2581L3.8655 11.2388C4.13408 14.4453 6.96567 13.8761 7.65958 10.4358C8.02625 8.63001 7.49458 7.00018 6.4725 6.79851C5.46508 6.59868 4.60892 7.80685 4.23767 8.76201C4.10383 8.73451 4.00758 8.63459 3.92417 8.61718C4.586 7.91043 4.08275 6.74168 3.09642 6.74168C3.08908 6.74168 3.08267 6.74168 3.07533 6.74168ZM5.69883 7.87101C6.60817 7.87101 6.82083 9.25793 6.61917 10.2525C6.17733 12.4443 4.37242 12.8769 4.15517 10.8447C4.71342 11.0583 5.32942 10.9978 5.7135 10.4899C6.03067 10.0673 5.7905 8.89768 5.37067 8.74643C5.04433 8.62818 4.85092 8.77118 4.56033 8.79226C4.79592 8.35776 5.20842 7.87651 5.69883 7.87101Z",stroke:"#98A2B3",strokeWidth:"3.66666",mask:"url(#path-1-inside-1_8249_1926)"})]}),Fd=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("mask",{id:"path-1-inside-1_8249_1926",fill:"white",children:e.jsx("path",{d:"M12.8268 2.80002C9.70925 2.80002 7.16 4.17227 5.34317 6.49143C5.62458 6.31268 5.28817 6.4456 6.05725 6.06335C6.33133 5.9616 6.60908 5.92952 6.88225 5.9836C8.20225 6.24577 8.88975 8.35226 8.41767 10.6898C7.51567 15.1548 3.86367 15.8652 3.51075 11.7311V11.7265C3.5355 13.1657 3.65833 14.4178 4.45675 16.0202L4.43292 15.967C4.63825 16.3932 3.56025 16.5152 3.8435 17.3878L3.84167 17.3823C3.86458 17.4437 3.86733 17.4621 3.90308 17.5308L3.90033 17.5262L4.20833 17.4667L3.87726 17.4775C4.20833 17.925 3.96184 17.6549 4.18817 17.9048C5.14608 18.9627 5.27167 19.5218 5.91242 19.5218C6.11133 19.5218 6.29467 19.4531 6.43767 19.3376L6.43583 19.3403C6.53117 19.2991 6.76217 18.9517 7.01608 19.1497H7.01517C8.711 20.4944 10.8533 21.1975 13.012 21.1297H12.9992C14.9196 21.0811 16.6842 20.4577 18.1353 19.4265L18.1077 19.4457C18.2141 19.3687 18.3617 19.3788 18.4561 19.4687C18.5487 19.5365 18.7439 19.8353 19.1775 19.8353C19.37 19.8353 19.5469 19.7712 19.6881 19.6621L19.6863 19.6639C20.0996 19.3266 19.9703 19.1995 20.0619 19.2847C19.7917 19.0334 19.7917 19.7547 20.0245 19.3266C20.9934 18.2394 21.4068 18.0937 21.4068 17.5556C21.4068 16.8635 20.6359 16.792 20.8596 16.4033L20.8587 16.4042C21.9238 14.537 22.1646 12.3856 21.7805 10.346H21.8707C22.1466 10.0939 22.6526 9.59801 22.8506 9.17268C23.0623 8.71709 23.1164 8.24684 22.5545 8.45309C22.1182 8.61351 21.7827 8.71709 21.3757 8.62543C20.0208 5.22368 16.6787 2.82386 12.8305 2.80094H12.8278L12.8268 2.80002ZM3.07533 6.74168C2.243 6.75818 1.72508 7.62993 2.08625 8.34951L2.0835 8.34401C1.47942 8.36693 1 8.85826 1 9.45959C1 10.3735 2.04408 10.8878 2.77833 10.3717L2.77467 10.3744C2.93692 10.2617 3.05517 10.1123 3.13675 9.94726C3.30725 10.258 3.55842 10.5165 3.84992 10.6943C3.84533 10.8703 3.849 11.0482 3.86642 11.2581L3.8655 11.2388C4.13408 14.4453 6.96567 13.8761 7.65958 10.4358C8.02625 8.63001 7.49458 7.00018 6.4725 6.79851C5.46508 6.59868 4.60892 7.80685 4.23767 8.76201C4.10383 8.73451 4.00758 8.63459 3.92417 8.61718C4.586 7.91043 4.08275 6.74168 3.09642 6.74168C3.08908 6.74168 3.08267 6.74168 3.07533 6.74168ZM5.69883 7.87101C6.60817 7.87101 6.82083 9.25793 6.61917 10.2525C6.17733 12.4443 4.37242 12.8769 4.15517 10.8447C4.71342 11.0583 5.32942 10.9978 5.7135 10.4899C6.03067 10.0673 5.7905 8.89768 5.37067 8.74643C5.04433 8.62818 4.85092 8.77118 4.56033 8.79226C4.79592 8.35776 5.20842 7.87651 5.69883 7.87101Z"})}),e.jsx("path",{d:"M12.8268 2.80002C9.70925 2.80002 7.16 4.17227 5.34317 6.49143C5.62458 6.31268 5.28817 6.4456 6.05725 6.06335C6.33133 5.9616 6.60908 5.92952 6.88225 5.9836C8.20225 6.24577 8.88975 8.35226 8.41767 10.6898C7.51567 15.1548 3.86367 15.8652 3.51075 11.7311V11.7265C3.5355 13.1657 3.65833 14.4178 4.45675 16.0202L4.43292 15.967C4.63825 16.3932 3.56025 16.5152 3.8435 17.3878L3.84167 17.3823C3.86458 17.4437 3.86733 17.4621 3.90308 17.5308L3.90033 17.5262L4.20833 17.4667L3.87726 17.4775C4.20833 17.925 3.96184 17.6549 4.18817 17.9048C5.14608 18.9627 5.27167 19.5218 5.91242 19.5218C6.11133 19.5218 6.29467 19.4531 6.43767 19.3376L6.43583 19.3403C6.53117 19.2991 6.76217 18.9517 7.01608 19.1497H7.01517C8.711 20.4944 10.8533 21.1975 13.012 21.1297H12.9992C14.9196 21.0811 16.6842 20.4577 18.1353 19.4265L18.1077 19.4457C18.2141 19.3687 18.3617 19.3788 18.4561 19.4687C18.5487 19.5365 18.7439 19.8353 19.1775 19.8353C19.37 19.8353 19.5469 19.7712 19.6881 19.6621L19.6863 19.6639C20.0996 19.3266 19.9703 19.1995 20.0619 19.2847C19.7917 19.0334 19.7917 19.7547 20.0245 19.3266C20.9934 18.2394 21.4068 18.0937 21.4068 17.5556C21.4068 16.8635 20.6359 16.792 20.8596 16.4033L20.8587 16.4042C21.9238 14.537 22.1646 12.3856 21.7805 10.346H21.8707C22.1466 10.0939 22.6526 9.59801 22.8506 9.17268C23.0623 8.71709 23.1164 8.24684 22.5545 8.45309C22.1182 8.61351 21.7827 8.71709 21.3757 8.62543C20.0208 5.22368 16.6787 2.82386 12.8305 2.80094H12.8278L12.8268 2.80002ZM3.07533 6.74168C2.243 6.75818 1.72508 7.62993 2.08625 8.34951L2.0835 8.34401C1.47942 8.36693 1 8.85826 1 9.45959C1 10.3735 2.04408 10.8878 2.77833 10.3717L2.77467 10.3744C2.93692 10.2617 3.05517 10.1123 3.13675 9.94726C3.30725 10.258 3.55842 10.5165 3.84992 10.6943C3.84533 10.8703 3.849 11.0482 3.86642 11.2581L3.8655 11.2388C4.13408 14.4453 6.96567 13.8761 7.65958 10.4358C8.02625 8.63001 7.49458 7.00018 6.4725 6.79851C5.46508 6.59868 4.60892 7.80685 4.23767 8.76201C4.10383 8.73451 4.00758 8.63459 3.92417 8.61718C4.586 7.91043 4.08275 6.74168 3.09642 6.74168C3.08908 6.74168 3.08267 6.74168 3.07533 6.74168ZM5.69883 7.87101C6.60817 7.87101 6.82083 9.25793 6.61917 10.2525C6.17733 12.4443 4.37242 12.8769 4.15517 10.8447C4.71342 11.0583 5.32942 10.9978 5.7135 10.4899C6.03067 10.0673 5.7905 8.89768 5.37067 8.74643C5.04433 8.62818 4.85092 8.77118 4.56033 8.79226C4.79592 8.35776 5.20842 7.87651 5.69883 7.87101Z",stroke:"#344054",strokeWidth:"3.66666",mask:"url(#path-1-inside-1_8249_1926)"})]}),os=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_45092)",children:[e.jsx("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"#EF473B"}),e.jsx("path",{d:"M12.5 4.5C8.91602 4.5 6 7.32489 6 10.7969V16.6094C6 18.4788 7.57031 20 9.5 20C11.2656 20 12.7305 18.7266 12.9668 17.0776C16.334 16.8454 19 14.117 19 10.7969C19 7.32489 16.084 4.5 12.5 4.5ZM12.5 15.1562H11V16.6094C11 17.4106 10.3271 18.0625 9.5 18.0625C8.67285 18.0625 8 17.4106 8 16.6094V10.7969C8 8.39294 10.0186 6.4375 12.5 6.4375C14.9814 6.4375 17 8.39294 17 10.7969C17 13.2007 14.9814 15.1562 12.5 15.1562Z",fill:"white"}),e.jsx("path",{opacity:"0.1",d:"M12.5 15.1562H11V16.6094C11 17.4106 10.3271 18.0625 9.5 18.0625C8.67285 18.0625 8 17.4106 8 16.6094V10.7969C8 8.39294 10.0186 6.4375 12.5 6.4375C14.9814 6.4375 17 8.39294 17 10.7969C17 13.2007 14.9814 15.1562 12.5 15.1562Z",fill:"#010101"}),e.jsx("path",{opacity:"0.1",d:"M12.5 6.6875C14.9373 6.6875 16.9168 8.57697 16.9869 10.9219C16.9882 10.8794 17 10.8397 17 10.7969C17 8.39294 14.9814 6.4375 12.5 6.4375C10.0186 6.4375 8 8.39294 8 10.7969V11.0469C8 8.64294 10.0186 6.6875 12.5 6.6875Z",fill:"#010101"}),e.jsx("path",{d:"M12.5 8.85938C11.3975 8.85938 10.5 9.72832 10.5 10.7969V12.7344H12.5C13.6025 12.7344 14.5 11.8654 14.5 10.7969C14.5 9.72832 13.6025 8.85938 12.5 8.85938Z",fill:"white"}),e.jsx("path",{opacity:"0.2",d:"M11.9999 0.25C17.3284 0.25 21.8439 3.69226 23.4705 8.47076C21.9631 3.56598 17.3987 0 11.9999 0C6.60107 0 2.03668 3.56598 0.529297 8.47064C2.15582 3.69226 6.67126 0.25 11.9999 0.25Z",fill:"white"}),e.jsx("path",{opacity:"0.1",d:"M12.0001 23.75C7.25496 23.75 3.16261 21.0514 1.1747 17.086C0.930267 16.5984 0.717651 16.0917 0.539551 15.5685C0.700366 16.0917 0.895865 16.5993 1.12337 17.0887C3.02829 21.1856 7.17725 24 12.0001 24C16.6759 24 20.7215 21.3441 22.7004 17.4464C23.0064 16.8438 23.263 16.2115 23.4648 15.5547C23.3362 15.9325 23.1896 16.3018 23.0259 16.6616C21.12 20.8521 16.9073 23.75 12.0001 23.75Z",fill:"#010101"}),e.jsx("path",{d:"M17.1826 6.4375L17.1811 6.43927C18.3047 7.57166 19 9.1059 19 10.7969C19 14.117 16.334 16.8454 12.9668 17.0776C12.7305 18.7266 11.2656 20 9.5 20C8.41064 20 7.44806 19.5051 6.8056 18.7466L6.75 18.8125L11.9342 23.9967C11.9564 23.9968 11.9778 24 12 24C18.2241 24 23.34 19.261 23.9397 13.1946L17.1826 6.4375Z",fill:"url(#paint0_linear_7247_45092)"}),e.jsx("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"url(#paint1_linear_7247_45092)"})]}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_7247_45092",x1:"11.4807",y1:"12.1394",x2:"20.1554",y2:"20.8141",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#010101",stopOpacity:"0.1"}),e.jsx("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})]}),e.jsxs("linearGradient",{id:"paint1_linear_7247_45092",x1:"1.12171",y1:"6.92737",x2:"22.8783",y2:"17.0726",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"white",stopOpacity:"0.2"}),e.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),e.jsx("clipPath",{id:"clip0_7247_45092",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),$d=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Ns.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Ns.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(os,{})}),onClick:l,children:n("Sign in with Plurk")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Od=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(k=>k.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const k=window.open("about:blank","_blank","width=700,height=500");if(!k){o.error(n("Window could not open"));return}a(!0),k.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Ns.slug,app_id:f,proxy:r?l:""},b=>{k.location.href=b.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},k=>{const b=k.apps.filter(B=>B.social_network===Ns.slug);y(b),b.length===1&&C(b[0].id)})});return p.useEffect(()=>H(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Ns.slug,docLink:"https://www.fs-poster.com/documentation/share-wordpress-posts-to-plurk-automatically"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:k=>C(k),options:g.map(k=>e.jsx(W.Option,{value:k.id,children:k.name},k.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),Rd=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Od,{setIsAdvancedMode:r}):e.jsx($d,{setIsAdvancedMode:r})},Nd=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Ns.slug,name:r,app_key:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Plurk App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App Key"),size:"sm",placeholder:n("Enter app key"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},Ct=xe(t=>({postContent:"",cutPostContent:!1,qualifier:"",qualifierOptions:[],setSettings:s=>t(s)})),Kd=j.memo(()=>{const t=M(),s=R(),o=Ct(d=>d.postContent),i=Ct(d=>d.cutPostContent),a=Ct(d=>d.qualifier),[r,c]=p.useState(!1),l=()=>{c(!0),t.post("v1/social-networks/plurk/settings",{post_content:o,cut_post_content:i,qualifier:a},d=>{c(!1),s.success(n("Saved successfully"))},()=>c(!1))};return e.jsx(V,{size:"md",onClick:l,loading:r,children:n("Save changes")})}),Wd=j.memo(()=>{const t=Ct(o=>o.postContent),s=Ct(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"postContent",value:t,onChange:o=>{s({postContent:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Vd=j.memo(()=>{const t=Ct(o=>o.cutPostContent),s=Ct(o=>o.setSettings);return e.jsx(O,{label:n("Limit the custom message characters count"),description:n("Plurk limits a post length to a maximum of 360 characters. By enabling the option, the first 360 characters of your custom message will be shared; otherwise, the post won't be shared because of the limit. Note that the image links are also counted."),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostContent:o.currentTarget.checked})})})}),Qd=j.memo(()=>{const t=Ct(i=>i.qualifier),s=Ct(i=>i.qualifierOptions),o=Ct(i=>i.setSettings);return e.jsx(O,{label:n("Plurk qualifiers"),description:n("The Qualifier comes before the post content."),content:e.jsx(W,{value:t,onChange:i=>o({qualifier:i}),valueRender:i=>{var a;return(a=s.find(r=>r.value===i))==null?void 0:a.label},options:s.map(i=>e.jsx(W.Option,{value:i.value,children:i.label},i.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"}),withoutDivider:!0})}),Gd=j.memo(()=>{const t=M(),s=Ct(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/plurk/settings",{},a=>{s({postContent:a.post_content,cutPostContent:a.cut_post_content,qualifier:a.qualifier,qualifierOptions:a.qualifier_options}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Wd,{}),e.jsx(Vd,{}),e.jsx(Qd,{})]})}),Ca={Actions:Kd,Body:Gd},Zd=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Yd=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=qd(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Xd=()=>e.jsx(u,{p:"xs",gap:"xl",mt:"xs",children:e.jsx(Yd,{})}),qd=x.createUseActivePostPayloadHook();j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"plurk",title:"Plurk",accentColor:"#DB4F4514",icon:e.jsx(Mn,{}),iconColorful:e.jsx(os,{}),composerContent:e.jsx(Xd,{}),composer:{syncKeys:{postContent:"postContent"},initialState:()=>({postContent:"",qualifier:""}),loadState:t=>({postContent:t.post_content||"",qualifier:t.qualifier||""}),saveState:t=>({post_content:t.postContent,qualifier:t.qualifier})}});const Oe={slug:"plurk",label:"Plurk",Icon:Mn};h.registerHookListener("social_networks",t=>[...t,Oe.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Oe.slug,label:"Plurk",icon:e.jsx(os,{})}],20);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Oe.slug,label:"Plurk",icon:e.jsx(Fd,{})}],20);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Oe.slug?t:e.jsx(Rd,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Oe.slug)?[...t,{slug:"plurk",icon:e.jsx(os,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Oe.slug)?[...t,{slug:"plurk",icon:e.jsx(os,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Oe.slug)?[...t,{slug:"plurk",icon:e.jsx(os,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Oe.slug,label:"Plurk",icon:e.jsx(os,{})}],20);h.registerHookListener("add_app.content",(t,s,o)=>s!==Oe.slug?t:e.jsx(Nd,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Oe.slug?"Plurk":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Oe.slug?e.jsx(os,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Oe.slug?"#FF574C":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Oe.slug?"#DB4F4514":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"plurk",label:"Plurk",icon:e.jsx(Mn,{})}],20);h.registerHookListener("settings.actions",(t,s)=>s===Oe.slug?e.jsx(Ca.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Oe.slug?e.jsx(Ca.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Oe.slug?e.jsx(Zd,{customPostData:o,setCustomPostData:i}):t);const Ns=Oe,Ft=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_44994)",children:[e.jsx("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"#FF4500"}),e.jsx("path",{d:"M20.0002 12C20.0002 11.0316 19.2143 10.2456 18.2459 10.2456C17.7687 10.2456 17.3476 10.428 17.0388 10.7368C15.8459 9.88068 14.1897 9.31927 12.3652 9.2491L13.1652 5.50173L15.7617 6.0491C15.7897 6.70875 16.3371 7.24208 17.0108 7.24208C17.6985 7.24208 18.2599 6.68068 18.2599 5.99296C18.2599 5.30524 17.6985 4.74384 17.0108 4.74384C16.5195 4.74384 16.0985 5.02454 15.902 5.44559L12.9967 4.82805C12.9125 4.81401 12.8283 4.82805 12.7581 4.87015C12.688 4.91226 12.6459 4.98243 12.6178 5.06664L11.7336 9.2491C9.86692 9.30524 8.19674 9.85261 6.98972 10.7368C6.68095 10.4421 6.24586 10.2456 5.78271 10.2456C4.81429 10.2456 4.02832 11.0316 4.02832 12C4.02832 12.7158 4.44937 13.3193 5.06692 13.6C5.03885 13.7684 5.02481 13.9509 5.02481 14.1333C5.02481 16.828 8.15464 19.0035 12.0283 19.0035C15.902 19.0035 19.0318 16.828 19.0318 14.1333C19.0318 13.9509 19.0178 13.7824 18.9897 13.614C19.5652 13.3333 20.0002 12.7158 20.0002 12ZM8.00025 13.2491C8.00025 12.5614 8.56165 12 9.24937 12C9.93709 12 10.4985 12.5614 10.4985 13.2491C10.4985 13.9368 9.93709 14.4982 9.24937 14.4982C8.56165 14.4982 8.00025 13.9368 8.00025 13.2491ZM14.9757 16.5473C14.1195 17.4035 12.4915 17.4596 12.0143 17.4596C11.5371 17.4596 9.89499 17.3895 9.05288 16.5473C8.92657 16.421 8.92657 16.2105 9.05288 16.0842C9.1792 15.9579 9.38972 15.9579 9.51604 16.0842C10.0494 16.6175 11.2003 16.814 12.0283 16.814C12.8564 16.814 13.9932 16.6175 14.5406 16.0842C14.6669 15.9579 14.8774 15.9579 15.0038 16.0842C15.102 16.2245 15.102 16.421 14.9757 16.5473ZM14.7511 14.4982C14.0634 14.4982 13.502 13.9368 13.502 13.2491C13.502 12.5614 14.0634 12 14.7511 12C15.4388 12 16.0002 12.5614 16.0002 13.2491C16.0002 13.9368 15.4388 14.4982 14.7511 14.4982Z",fill:"white"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_44994",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})})]});let jo;const Jd=new Uint8Array(16);function eu(){if(!jo&&(jo=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jo(Jd)}const Le=[];for(let t=0;t<256;++t)Le.push((t+256).toString(16).slice(1));function tu(t,s=0){return Le[t[s+0]]+Le[t[s+1]]+Le[t[s+2]]+Le[t[s+3]]+"-"+Le[t[s+4]]+Le[t[s+5]]+"-"+Le[t[s+6]]+Le[t[s+7]]+"-"+Le[t[s+8]]+Le[t[s+9]]+"-"+Le[t[s+10]]+Le[t[s+11]]+Le[t[s+12]]+Le[t[s+13]]+Le[t[s+14]]+Le[t[s+15]]}const su=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zn={randomUUID:su};function kn(t,s,o){if(Zn.randomUUID&&!s&&!t)return Zn.randomUUID();t=t||{};const i=t.random||(t.rng||eu)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,tu(i)}const Bt={flair_id:"no_flair",text:n("No flair"),bg_color:"gray",text_color:"dark"},ou="fs-poster-IFfHZ3L",nu="fs-poster-YQuO8qI",au="fs-poster-dKENprq",iu="fs-poster-g3kRJsY",ru="fs-poster-ZwMDWOT",_n={modal_body:ou,empty:nu,channelTitle:au,channel_name:iu,channel_picture:ru},lu=j.memo(t=>{const s=M(),o=oi({onDropdownClose:()=>{o.resetSelectedOption()},onDropdownOpen:()=>{}}),[i,a]=p.useState([]);return p.useEffect(()=>{s.post("v1/social-networks/reddit/get-subreddit-flairs",{channel_session_id:t.channel.channel_session_id,subreddit:t.subreddit.name},r=>{a(r.flairs)})},[]),e.jsx(q,{children:e.jsxs(Ms,{store:o,width:240,position:"bottom-end",withArrow:!0,onOptionSubmit:r=>{t.onChange(i.find(c=>c.flair_id===r)),o.closeDropdown()},children:[e.jsx(Ms.Target,{children:e.jsx(Kt,{variant:"filled",color:t.subreddit.flair?t.subreddit.flair.bg_color:Bt.bg_color,size:"compact-xs",radius:"xl",onClick:()=>o.toggleDropdown(),rightSection:e.jsx(No,{style:{width:"70%",height:"70%"}}),children:e.jsx(w,{size:"xs",children:t.subreddit.flair?t.subreddit.flair.text:Bt.text})})}),e.jsx(Ms.Dropdown,{children:e.jsx(_,{children:e.jsx(Ms.Options,{children:e.jsxs(Ro.Autosize,{type:"auto",mah:200,children:[e.jsx(Ms.Option,{value:Bt.flair_id,maw:"100%",children:e.jsx(q,{gap:4,wrap:"nowrap",children:e.jsx(vn,{size:"xs",variant:"filled",color:Bt.bg_color,children:Bt.text})})}),i.map(r=>e.jsx(Ms.Option,{value:r.flair_id,maw:"100%",children:e.jsx(q,{gap:4,wrap:"nowrap",children:e.jsx(vn,{size:"xs",variant:"filled",color:r.bg_color,children:r.text})})},r.flair_id))]})})})})]})})}),cu=t=>{const s=M(),[o,i]=p.useState(!1),[a,r]=p.useState(""),[c,l]=p.useState([]),[d,g]=p.useState(!1),[y,f]=p.useState(()=>t.subreddits.filter(F=>!!F.id).map(F=>I(A({},F),{tmpId:kn()}))),C=()=>{l(()=>t.subreddits.filter(F=>!F.id&&F.channel_type==="account"&&!y.find($=>$.remote_id===F.remote_id)||!!F.id&&!y.find($=>$.id===F.id)))},T=F=>{const $=c.find(U=>U.remote_id===F);$&&f(U=>$.tmpId?[...U,$]:[...U,I(A({flair:Bt},$),{tmpId:kn()})]),r(""),C()},m=()=>{C()},H=ni(F=>{F.length?(g(!0),s.post("v1/social-networks/reddit/search-subreddits",{channel_session_id:t.channelSessionId,search:F},$=>{l($.channels),g(!1)})):C()},500),k=F=>{f(y.filter($=>$.tmpId!==F.tmpId)),C()},b=()=>{function F(D,K){const pt=D,{[K]:J}=pt;return Rt(pt,[mn(K)])}const $=y.map(D=>{var K;return D.channel_type==="account"?D:I(A({},D),{remote_id:`${D.remote_id}:${(K=D.flair)==null?void 0:K.flair_id}`})}).map(D=>I(A({},D),{data:I(A({},D.data),{flair:D.flair})})).map(D=>F(D,"flair")).map(D=>F(D,"tmpId")),U=new Map;$.forEach(function(D){(!U.has(D.remote_id)||D.id)&&U.set(D.remote_id,D)}),t.onAdd(Array.from(U.values())),t.onClose()},B=F=>{f($=>[...$,I(A({},F),{id:void 0,flair:Bt,tmpId:kn()})])};return e.jsxs(re.Root,{opened:!0,onClose:t.onClose,size:"md",children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{h:"100%",w:"100%",mah:560,children:e.jsxs(u,{w:"100%",h:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t.onClose})}),e.jsx(mt,{}),e.jsxs(u,{gap:16,h:"100%",p:16,children:[o?e.jsx(W,{value:a,placeholder:n("Search subreddit"),loading:d,onOpen:m,onChange:F=>T(F),onSearchChange:F=>H(F),options:c.map(F=>e.jsx(W.Option,{value:F.remote_id,children:e.jsx(ta,{showStatusTooltip:!1,channel:F})},F.remote_id))}):e.jsx(ot,{justify:"flex-end",children:e.jsx(we,{size:"sm",onClick:()=>i(!0),leftIcon:bo,children:n("Add subreddit")})}),y.length?e.jsx(_,{h:"100%",style:{overflow:"hidden"},children:e.jsx(Ro.Autosize,{h:"100%",type:"auto",offsetScrollbars:!0,children:e.jsx(u,{h:"100%",children:y.map((F,$)=>e.jsxs(ot,{w:"100%",justify:"space-between",align:"center",children:[e.jsxs(q,{gap:12,align:"center",children:[e.jsx("div",{className:_n.channel_picture,children:e.jsx(ai,{position:"bottom-end",color:"transparent",offset:4,label:e.jsx(Ft,{}),children:e.jsx(ii,{radius:"xl",src:F.picture,size:32,color:"#1570ef",children:F.name[0].toUpperCase()})})}),e.jsx("div",{className:_n.channel_name,children:F.name})]}),e.jsxs(q,{children:[F.channel_type==="subreddit"&&e.jsxs(e.Fragment,{children:[e.jsx(lu,{channel:t.subreddits.find(U=>U.channel_type==="account"),subreddit:F,onChange:U=>f(D=>D.map(K=>K.tmpId!==F.tmpId?K:I(A({},K),{flair:U})))}),e.jsx(fe,{label:n("Add different flair"),children:e.jsx(co,{size:"sm",variant:"transparent",onClick:()=>B(F),children:e.jsx(Li,{})})})]}),e.jsx(co,{variant:"transparent",size:"sm",color:"gray",onClick:()=>k(F),children:e.jsx(vo,{})})]})]},F.tmpId))})})}):e.jsxs(ot,{direction:"column",align:"center",justify:"center",h:"100%",className:_n.empty,children:[e.jsx("div",{children:n("Add subreddit")}),e.jsx("div",{children:n("To add subreddit click this button.")})]})]}),e.jsx(mt,{}),e.jsxs(q,{justify:"flex-end",p:12,children:[e.jsx(we,{size:"sm",onClick:t.onClose,children:n("Cancel")}),e.jsx(V,{size:"sm",onClick:b,disabled:!y.length,children:y.length>0?n("Add ({{count}})",{count:String(y.length)}):n("Add")})]})]})})]})},du=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Ks.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Ks.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(Ft,{})}),onClick:l,children:n("Sign in with Reddit")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),uu=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(k=>k.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const k=window.open("about:blank","_blank","width=700,height=500");if(!k){o.error(n("Window could not open"));return}a(!0),k.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Ks.slug,app_id:f,proxy:r?l:""},b=>{k.location.href=b.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},k=>{const b=k.apps.filter(B=>B.social_network===Ks.slug);y(b),b.length===1&&C(b[0].id)})});return p.useEffect(()=>H(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Ks.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-reddit-automatically"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:k=>C(k),options:g.map(k=>e.jsx(W.Option,{value:k.id,children:k.name},k.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),pu=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>{s.get("v1/social-networks/reddit/channels",{channel_session_id:c[0].channel_session_id},l=>{i.show(cu,{subreddits:[...l.channels,...c],channelSessionId:c[0].channel_session_id,onAdd:d=>{s.post("v1/channels",{channels:d},g=>{t.onAdd(),t.onClose(),o.success(d.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(d.length)}):n("Channel added successfully"))})}})})},()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(uu,{setIsAdvancedMode:r}):e.jsx(du,{setIsAdvancedMode:r})},hu=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Ks.slug,name:r,app_id:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Reddit App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},_e=xe(t=>({postTitle:"",cutPostTitle:!1,postText:"",attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,shareToFirstComment:!1,firstCommentText:"",setSettings:s=>t(s)})),mu=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=_e.getState();t.post("v1/social-networks/reddit/settings",{post_title:r.postTitle,cut_post_title:r.cutPostTitle,post_text:r.postText,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,share_to_first_comment:r.shareToFirstComment,first_comment_text:r.firstCommentText,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),gu=j.memo(()=>{const t=_e(o=>o.postTitle),s=_e(o=>o.setSettings);return e.jsx(O,{label:n("Post title"),description:n("You can customize the Post title as you like by using the keywords."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"reddit_post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),xu=j.memo(()=>{const t=_e(o=>o.cutPostTitle),s=_e(o=>o.setSettings);return e.jsx(O,{label:n("Cut the exceeded part of the post title"),description:n(`Reddit limits the post title length to a maximum of 300 characters. By enabling the
                                    option, the first 300 characters of your post title will be shared; otherwise, the
                                    post won't be shared because of the limit.`),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostTitle:o.currentTarget.checked})})})}),ju=j.memo(()=>{const t=_e(o=>o.postText),s=_e(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"reddit_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),fu=j.memo(()=>{const t=_e(i=>i.shareToFirstComment),s=_e(i=>i.firstCommentText),o=_e(i=>i.setSettings);return e.jsx(O,{label:n("Post a first comment"),description:n(`Enable the option to share a customized message as a first comment. You need to
                                    create your Personal App and add your account to the plugin using this App to use
                                    this feature for Reddit.`),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({shareToFirstComment:i.currentTarget.checked})}),t&&e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"reddit_first_comment_text",value:s,onChange:i=>{o({firstCommentText:i})},withAI:!0,keywords:N("keywords",[],v.content)})})]})})}),ku=j.memo(()=>{const t=_e(i=>i.attachLink),s=_e(i=>i.uploadMedia),o=_e(i=>i.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(u,{styles:{root:{display:"inline-flex"}},children:e.jsx(fe,{label:s?n("Attach post link is not possible when media upload is enabled"):"",disabled:!s,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:i=>{s||o({attachLink:i.currentTarget.checked})},disabled:s})})}),withoutDivider:!0})}),_u=j.memo(()=>{const t=_e(a=>a.uploadMedia),s=_e(a=>a.mediaTypeToUpload),o=_e(a=>a.attachLink),i=_e(a=>a.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",styles:{root:{display:"inline-flex"}},children:[e.jsx(fe,{label:o?n("Media upload is not possible when attach post link is enabled"):"",disabled:!o,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:a=>{o||i({uploadMedia:a.currentTarget.checked})},disabled:o})}),t&&e.jsx(L.Group,{value:s,onChange:a=>i({mediaTypeToUpload:a}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:_e})]})})]})})}),Cu=j.memo(()=>{const t=M(),s=_e(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/reddit/settings",{},a=>{s({postTitle:a.post_title,cutPostTitle:a.cut_post_title,postText:a.post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,shareToFirstComment:a.share_to_first_comment,firstCommentText:a.first_comment_text,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(gu,{}),e.jsx(xu,{}),e.jsx(ju,{}),e.jsx(fu,{}),e.jsx(_u,{}),e.jsx(ku,{})]})}),ya={Actions:mu,Body:Cu},yu=j.memo(t=>e.jsxs(q,{gap:"xs",children:[t.channel.name,e.jsx(vn,{variant:"filled",color:t.channel.flair?t.channel.flair.bg_color:Bt.bg_color,size:"xs",radius:"xl",children:t.channel.flair?t.channel.flair.text:Bt.text})]})),wu=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),vu=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=_t(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},bu=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=_t(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Tu=()=>{const t=x.useStore(),s=_t(c=>c.attachLink),o=_t(c=>c.customLink),i=_t(c=>c.uploadMedia),a=x.useSelector(c=>c.wpPostType==="fsp_post");return x.useSelector(c=>c.wpPostType==="attachment")&&t.mergeActivePostPayload({attachLink:!1,customLink:""}),e.jsxs(u,{styles:{root:{display:"inline-grid"}},children:[e.jsx(fe,{label:i?n("Attach link is not possible when media upload is enabled"):"",disabled:!i,refProp:"rootRef",children:e.jsx(E,{label:n("Attach link"),checked:s,onChange:c=>{i||t.mergeActivePostPayload({attachLink:c.target.checked})},disabled:i})}),a&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:c=>t.mergeActivePostPayload({customLink:c.currentTarget.value})})]})},Au=()=>{const t=x.useStore(),s=x.useSelector(r=>r.posts.find(c=>c.active)),o=_t(r=>r.firstComment),i=_t(r=>r.enableComment),a=x.useSelector(r=>r.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("First comment"),checked:i,onChange:r=>t.mergeActivePostPayload({enableComment:r.currentTarget.checked})}),i&&e.jsx(u,{children:a?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Pu=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Su,{}),e.jsx(Tu,{}),e.jsx(Au,{}),e.jsx(bu,{}),e.jsx(vu,{})]}),_t=x.createUseActivePostPayloadHook();function Su(){const t=x.useStore(),s=x.useSelector(d=>d.wpPostType==="fsp_post"),o=x.useSelector(d=>d.wpPostType==="attachment"),i=x.useSelector(d=>d.wpPostId),a=_t(d=>d.attachLink),r=_t(d=>d.uploadMedia),c=_t(d=>d.uploadMediaType),l=_t(d=>d.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(u,{gap:"lg",styles:{root:{display:"inline-grid"}},children:e.jsx(fe,{label:a?n("Media upload is not possible when attach link is enabled"):"",disabled:!a,refProp:"rootRef",children:e.jsx(E,{label:n("Upload media"),checked:o||r,onChange:d=>{a||t.mergeActivePostPayload({uploadMedia:d.target.checked})},disabled:a||o})})}),r&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:c,onChange:d=>t.mergeActivePostPayload({uploadMediaType:d}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),c==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})]})})}),r&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"reddit",title:"Reddit",accentColor:"#FC471E14",icon:e.jsx(tn,{}),iconColorful:e.jsx(Ft,{}),composerContent:e.jsx(Pu,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postTitle:"postTitle",postContent:"postContent",enableComment:"enableComment",firstComment:"firstComment",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postTitle:"",postContent:"",enableComment:!1,firstComment:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>{var s;return{attachLink:t.attach_link||!1,customLink:t.custom_link||"",postTitle:t.post_title||"",postContent:t.post_content||"",enableComment:((s=t.first_comment)==null?void 0:s.length)>0,firstComment:t.first_comment||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}},saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_title:t.postTitle,post_content:t.postContent,first_comment:t.enableComment&&t.firstComment.length>0?t.firstComment:"",upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Ae={slug:"reddit",label:"Reddit",Icon:tn};h.registerHookListener("social_networks",t=>[...t,Ae.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ae.slug,label:"Reddit",icon:e.jsx(Ft,{})}],10);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ae.slug,label:"Reddit",icon:e.jsx(tn,{})}],10);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ae.slug?t:e.jsx(pu,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ae.slug)?[...t,{slug:"reddit",icon:e.jsx(Ft,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ae.slug)?[...t,{slug:"reddit",icon:e.jsx(Ft,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ae.slug)?[...t,{slug:"reddit",icon:e.jsx(Ft,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ae.slug,label:"Reddit",icon:e.jsx(Ft,{})}],10);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ae.slug?t:e.jsx(hu,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ae.slug?"Reddit":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ae.slug?e.jsx(Ft,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Ae.slug?"#ff4500":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ae.slug?"#FC471E14":t);h.registerHookListener("channel.vertical.name",(t,s)=>s.social_network===Ae.slug&&s.channel_type==="subreddit"?e.jsx(yu,{channel:s}):t);h.registerHookListener("settings.menu",t=>[...t,{slug:"reddit",label:"Reddit",icon:e.jsx(tn,{})}],10);h.registerHookListener("settings.actions",(t,s)=>s===Ae.slug?e.jsx(ya.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ae.slug?e.jsx(ya.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ae.slug?e.jsx(wu,{customPostData:o,setCustomPostData:i}):t);const Ks=Ae,Js=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_45008)",children:[e.jsx("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"url(#paint0_linear_7247_45008)"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.43201 11.8733C8.93026 10.3492 11.263 9.3444 12.4301 8.85893C15.7627 7.47282 16.4551 7.23203 16.9065 7.22408C17.0058 7.22234 17.2277 7.24694 17.3715 7.3636C17.4929 7.46211 17.5263 7.59518 17.5423 7.68857C17.5583 7.78197 17.5782 7.99473 17.5623 8.16097C17.3817 10.0585 16.6003 14.6631 16.2028 16.7884C16.0346 17.6876 15.7034 17.9891 15.3827 18.0186C14.6858 18.0828 14.1567 17.5581 13.4817 17.1157C12.4256 16.4233 11.8289 15.9924 10.8037 15.3168C9.61896 14.536 10.387 14.1069 11.0622 13.4056C11.2389 13.2221 14.3093 10.4294 14.3687 10.176C14.3762 10.1443 14.3831 10.0262 14.3129 9.96385C14.2427 9.90148 14.1392 9.92281 14.0644 9.93977C13.9585 9.96381 12.2713 11.079 9.00276 13.2853C8.52385 13.6142 8.09007 13.7744 7.70141 13.766C7.27295 13.7568 6.44876 13.5238 5.83606 13.3246C5.08456 13.0803 4.48728 12.9512 4.53929 12.5363C4.56638 12.3202 4.86395 12.0992 5.43201 11.8733Z",fill:"white"})]}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_7247_45008",x1:"12",y1:"0",x2:"12",y2:"23.822",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#2AABEE"}),e.jsx("stop",{offset:"1",stopColor:"#229ED9"})]}),e.jsx("clipPath",{id:"clip0_7247_45008",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),Lu="fs-poster-D6OpVF7",Iu="fs-poster-9j2Napd",Cn={selectedChats:Lu,selectedChats_channel:Iu},Mu=t=>{const s=M(),[o,i]=p.useState(!1),[a,r]=p.useState(""),[c,l]=p.useState([]),[d,g]=p.useState([]),[y,f]=p.useState(!1),[C,T]=p.useState(()=>t.chats),m=B=>{B.length&&(f(!0),s.post("v1/social-networks/telegram/check-chat",{bot_token:t.botToken,chat_id:B,proxy:t.proxy},F=>{g(F.channels.filter($=>!C.find(U=>U.remote_id===$.remote_id))),f(!1)},()=>f(!1)))},H=()=>{f(!0),s.post("v1/social-networks/telegram/fetch-active-chats",{bot_token:t.botToken,proxy:t.proxy},B=>{l(B.channels.filter(F=>!C.find($=>$.remote_id===F.remote_id))),f(!1)})},k=B=>{const F=d.length?d.find($=>$.remote_id===B):c.find($=>$.remote_id===B);g([]),F&&(T($=>[...$,F]),l([]))},b=B=>{T(C.filter(F=>F.remote_id!==B))};return e.jsxs(re.Root,{opened:!0,onClose:t.onClose,size:"md",children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{h:"100%",w:"100%",mah:560,children:e.jsxs(u,{w:"100%",h:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t.onClose})}),e.jsx(mt,{}),e.jsxs(u,{h:"100%",px:16,pt:16,children:[o?e.jsx(W,{value:a,placeholder:n("Search chat"),onOpen:H,onChange:B=>k(B),loading:y,onSearchChange:B=>m(B),valueRender:B=>{var F,$;return d.length?(F=d.find(U=>U.remote_id===B))==null?void 0:F.name:($=c.find(U=>U.remote_id===B))==null?void 0:$.name},options:d.length?d.map(B=>e.jsx(W.Option,{value:B.remote_id,children:B.name},B.remote_id)):c.map(B=>e.jsx(W.Option,{value:B.remote_id,children:B.name},B.remote_id))}):e.jsx(ot,{justify:"flex-end",children:e.jsx(we,{size:"sm",onClick:()=>i(!0),leftIcon:bo,children:n("Add chat")})}),C.length?e.jsxs(u,{gap:6,className:Cn.selectedChats,children:[e.jsx(w,{fz:14,fw:500,c:"#667085",children:"Selected chats"}),e.jsx(u,{gap:4,children:C.map(B=>e.jsxs(q,{justify:"space-between",align:"center",gap:10,className:Cn.selectedChats_channel,children:[e.jsx(ta,{channel:B,showStatusTooltip:!1}),e.jsx(It,{size:"lg",onClick:()=>b(B.remote_id)})]},B.remote_id))})]}):e.jsxs(u,{align:"center",justify:"center",h:"100%",gap:"xs",className:Cn.empty,children:[e.jsx(w,{fz:14,fw:500,c:"#101828",children:n("Add chats")}),e.jsx(w,{fz:12,fw:400,c:"#475467",children:n("To add chats click this button.")})]})]}),e.jsx(mt,{}),e.jsxs(q,{justify:"flex-end",px:16,py:12,children:[e.jsx(we,{size:"sm",onClick:t.onClose,children:n("Cancel")}),e.jsx(V,{size:"sm",onClick:()=>{t.onAdd(C),t.onClose()},children:n("Add")})]})]})})]})},zu=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState(""),C=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/telegram/fetch-channels",{bot_token:y,proxy:c?d:""},T=>{r(!1),i.show(Mu,{chats:T.channels,botToken:y,proxy:d,onAdd:m=>{s.post("v1/channels",{channels:m},H=>{t.onAdd(),t.onClose(),o.success(m.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(m.length)}):n("Channel added successfully"))})}})},()=>{r(!1)})};return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Vu.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-telegram"}),e.jsxs(z.Method,{slug:"bot_token",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:n("Bot token"),size:"sm",placeholder:n("Enter the {{token}}",{token:"bot token"}),value:y,onChange:T=>f(T.target.value)})}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:T=>l(T.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:T=>g(T.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:C,loading:a,children:n("Continue")})})]})]})}),Hu=t=>e.jsx(zu,{onAdd:t.onAdd,onClose:t.onClose}),Xe=xe(t=>({postContent:"",cutPostContent:!1,silentNotification:!1,addReadMoreBtn:!1,readMoreBtnText:"",uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),Du=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=Xe.getState();t.post("v1/social-networks/telegram/settings",{post_content:r.postContent,cut_post_content:r.cutPostContent,silent_notifications:r.silentNotification,add_read_more_button:r.addReadMoreBtn,read_more_button_text:r.readMoreBtnText,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success("Saved successfully")},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),Bu=j.memo(()=>{const t=Xe(o=>o.postContent),s=Xe(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"postContent",value:t,onChange:o=>{s({postContent:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Eu=j.memo(()=>{const t=Xe(o=>o.cutPostContent),s=Xe(o=>o.setSettings);return e.jsx(O,{label:n("Cut the exceeded part of the custom message"),description:n("Telegram limits the message length to a maximum of 4096 characters (1024 characters when a media is attached to the message). By enabling the option, the first 4096 (1024) characters of your custom message will be shared; otherwise, the post won't be shared because of the limit."),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostContent:o.currentTarget.checked})})})}),Uu=j.memo(()=>{const t=Xe(i=>i.addReadMoreBtn),s=Xe(i=>i.readMoreBtnText),o=Xe(i=>i.setSettings);return e.jsx(O,{label:n("Add button after message"),description:n("Enable the option to add a button to the Telegram messages."),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({addReadMoreBtn:i.currentTarget.checked})}),t&&e.jsx(_,{maw:400,children:e.jsxs(u,{children:[e.jsx(P,{size:"sm",value:s,onChange:i=>o({readMoreBtnText:i.currentTarget.value}),placeholder:n("e.g. Read more")}),e.jsxs(q,{gap:"xs",children:[e.jsx(w,{size:"xs",fw:500,children:n("Most used:")}),e.jsxs(q,{gap:"xs",children:[e.jsx(Kt,{size:"compact-xs",variant:"light",color:"gray",radius:"xl",onClick:()=>o({readMoreBtnText:n("Read more")}),children:n("Read more")}),e.jsx(Kt,{size:"compact-xs",variant:"light",color:"gray",radius:"xl",onClick:()=>o({readMoreBtnText:n("Go to website")}),children:n("Go to website")}),e.jsx(Kt,{size:"compact-xs",variant:"light",color:"gray",radius:"xl",onClick:()=>o({readMoreBtnText:n("Open link")}),children:n("Open link")}),e.jsx(Kt,{size:"compact-xs",variant:"light",color:"gray",radius:"xl",onClick:()=>o({readMoreBtnText:n("Buy now")}),children:n("Buy now")})]})]})]})})]})})}),Fu=j.memo(()=>{const t=Xe(o=>o.silentNotification),s=Xe(o=>o.setSettings);return e.jsx(O,{label:n("Send without sound"),description:n("Enable the option to send messages without notification sound."),content:e.jsx(G,{checked:t,onChange:o=>s({silentNotification:o.currentTarget.checked})}),withoutDivider:!0})}),$u=j.memo(()=>{const t=Xe(i=>i.uploadMedia),s=Xe(i=>i.mediaTypeToUpload),o=Xe(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:Xe})]})})]})})}),Ou=j.memo(()=>{const t=M(),s=Xe(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/telegram/settings",{},a=>{s({postContent:a.post_content,cutPostContent:a.cut_post_content,silentNotification:a.silent_notifications,addReadMoreBtn:a.add_read_more_button,readMoreBtnText:a.read_more_button_text,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Bu,{}),e.jsx(Eu,{}),e.jsx(Uu,{}),e.jsx($u,{}),e.jsx(Fu,{})]})}),wa={Actions:Du,Body:Ou},Ru=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=yo(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Nu=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Ku,{}),e.jsx(Ru,{})]}),yo=x.createUseActivePostPayloadHook();function Ku(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=yo(l=>l.uploadMedia),r=yo(l=>l.uploadMediaType),c=yo(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}const Wu=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]});me.push({key:"telegram",title:"Telegram",accentColor:"#37BBFE14",icon:e.jsx(uo,{}),iconColorful:e.jsx(Js,{}),composerContent:e.jsx(Nu,{}),composer:{syncKeys:{postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],add_read_more_button:!1,read_more_button_link:"",read_more_button_text:""}),loadState:t=>({postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,add_read_more_button:t.add_read_more_button,read_more_button_link:t.read_more_button_link,read_more_button_text:t.read_more_button_text}),saveState:t=>({post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,add_read_more_button:t.add_read_more_button,read_more_button_link:t.read_more_button_link,read_more_button_text:t.read_more_button_text})}});const dt={slug:"telegram",label:"Telegram",Icon:uo};h.registerHookListener("social_networks",t=>[...t,dt.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:dt.slug,label:"Telegram",icon:e.jsx(Js,{})}],9);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:dt.slug,label:"Telegram",icon:e.jsx(uo,{})}],9);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==dt.slug?t:e.jsx(Hu,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===dt.slug)?[...t,{slug:"telegram",icon:e.jsx(Js,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===dt.slug)?[...t,{slug:"telegram",icon:e.jsx(Js,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===dt.slug)?[...t,{slug:"telegram",icon:e.jsx(Js,{})}]:t);h.registerHookListener("social_network.label",(t,s)=>s===dt.slug?"Telegram":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===dt.slug?e.jsx(Js,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===dt.slug?"#37BBFE14":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"telegram",label:"Telegram",icon:e.jsx(uo,{})}],9);h.registerHookListener("settings.actions",(t,s)=>s===dt.slug?e.jsx(wa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===dt.slug?e.jsx(wa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===dt.slug?e.jsx(Wu,{customPostData:o,setCustomPostData:i}):t);const Vu=dt,ns=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"black"}),e.jsx("path",{d:"M15.894 11.5421C15.8239 11.5085 15.7527 11.4762 15.6806 11.4452C15.555 9.13086 14.2904 7.80588 12.167 7.79232C12.1573 7.79226 12.1478 7.79226 12.1381 7.79226C10.8681 7.79226 9.81175 8.3344 9.16159 9.32092L10.3294 10.122C10.8151 9.38513 11.5773 9.22804 12.1387 9.22804C12.1452 9.22804 12.1517 9.22804 12.1581 9.2281C12.8573 9.23256 13.3849 9.43584 13.7264 9.83227C13.9749 10.1209 14.1411 10.5197 14.2234 11.023C13.6035 10.9177 12.9331 10.8853 12.2164 10.9264C10.1975 11.0427 8.89962 12.2201 8.98679 13.8562C9.03103 14.6861 9.44447 15.4001 10.1509 15.8665C10.7482 16.2608 11.5175 16.4536 12.317 16.41C13.3728 16.3521 14.2011 15.9492 14.779 15.2126C15.2179 14.6533 15.4954 13.9284 15.618 13.015C16.1212 13.3186 16.4941 13.7182 16.7 14.1986C17.0502 15.0152 17.0707 16.3571 15.9757 17.4512C15.0164 18.4096 13.8632 18.8242 12.1205 18.837C10.1873 18.8226 8.72526 18.2027 7.77468 16.9942C6.88455 15.8627 6.42452 14.2283 6.40736 12.1364C6.42452 10.0445 6.88455 8.41006 7.77468 7.27852C8.72526 6.07011 10.1873 5.45014 12.1205 5.43578C14.0677 5.45025 15.5552 6.0732 16.5421 7.28744C17.0261 7.88289 17.3909 8.63171 17.6315 9.50481L19 9.13968C18.7084 8.06499 18.2497 7.13893 17.6254 6.37091C16.3601 4.81421 14.5096 4.01654 12.1252 4H12.1157C9.73619 4.01648 7.90639 4.81718 6.67714 6.37984C5.58327 7.77041 5.01902 9.70528 5.00006 12.1307L5 12.1364L5.00006 12.1421C5.01902 14.5675 5.58327 16.5024 6.67714 17.893C7.90639 19.4556 9.73619 20.2563 12.1157 20.2728H12.1252C14.2407 20.2581 15.7319 19.7043 16.9603 18.4769C18.5675 16.8713 18.5191 14.8586 17.9894 13.6231C17.6094 12.737 16.8848 12.0174 15.894 11.5421ZM12.2414 14.9763C11.3566 15.0261 10.4373 14.6289 10.392 13.7783C10.3584 13.1475 10.8409 12.4437 12.2957 12.3599C12.4623 12.3503 12.6258 12.3456 12.7864 12.3456C13.3149 12.3456 13.8092 12.3969 14.2587 12.4952C14.091 14.5888 13.1077 14.9287 12.2414 14.9763Z",fill:"white"})]}),Qu=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Ws.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Ws.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(ns,{})}),onClick:l,children:n("Sign in with Threads")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),Gu=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(b=>b.id===f),[f]),m=()=>{s.get("v1/settings/apps",{},b=>{const B=b.apps.filter(F=>F.social_network===Ws.slug);y(B),B.length===1&&C(B[0].id)})};p.useEffect(()=>m(),[]);const H=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:b=>c(b.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:b=>d(b.currentTarget.value)})})]});function k(){if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const b=window.open("about:blank","_blank","width=700,height=500");if(!b){o.error(n("Window could not open"));return}a(!0),b.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Ws.slug,app_id:f,proxy:r?l:""},B=>{b.location.href=B.auth_url},()=>a(!1))}return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Ws.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-auto-publish-wordpress-posts-to-threads"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the safest and has a longer authorization time."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:b=>C(b),options:g.map(b=>e.jsx(W.Option,{value:b.id,children:b.name},b.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),H]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:k,loading:i,children:n("Continue")})]})]})]})}),Zu=t=>{const s=M(),o=te(),i=R(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>o.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),i.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(Gu,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(Qu,{setIsAdvancedMode:r})},nt=xe(t=>({postText:"",cutPostText:!1,attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),Yu=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=nt.getState();t.post("v1/social-networks/threads/settings",{post_text:r.postText,cut_post_text:r.cutPostText,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),Xu=j.memo(()=>{const t=nt(o=>o.postText),s=nt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"threads_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),qu=j.memo(()=>{const t=nt(o=>o.cutPostText),s=nt(o=>o.setSettings);return e.jsx(O,{label:n("Limit the custom message characters count"),description:n(`Threads limits a post length to a maximum of 500 characters. By enabling the option,
            the first 500 characters of your custom message will be shared; otherwise, the post
            won't be shared because of the limit.`),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})})})}),Ju=j.memo(()=>{const t=nt(i=>i.attachLink),s=nt(i=>i.uploadMedia),o=nt(i=>i.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(u,{styles:{root:{display:"inline-flex"}},children:e.jsx(fe,{label:s?n("Attach post link is not possible when media upload is enabled"):"",disabled:!s,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:i=>{s||o({attachLink:i.currentTarget.checked})},disabled:s})})}),withoutDivider:!0})}),e1=j.memo(()=>{const t=nt(a=>a.uploadMedia),s=nt(a=>a.mediaTypeToUpload),o=nt(a=>a.attachLink),i=nt(a=>a.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",styles:{root:{display:"inline-flex"}},children:[e.jsx(fe,{label:o?n("Media upload is not possible when attach post link is enabled"):"",disabled:!o,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:a=>{o||i({uploadMedia:a.currentTarget.checked})},disabled:o})}),t&&e.jsx(L.Group,{value:s,onChange:a=>i({mediaTypeToUpload:a}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:nt})]})})]})})}),t1=j.memo(()=>{const t=M(),s=nt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/threads/settings",{},a=>{s({postText:a.post_text,cutPostText:a.cut_post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Xu,{}),e.jsx(qu,{}),e.jsx(e1,{}),e.jsx(Ju,{})]})}),va={Actions:Yu,Body:t1},s1=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),o1=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Wt(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},n1=()=>{const t=x.useStore(),s=Wt(c=>c.attachLink),o=Wt(c=>c.customLink),i=Wt(c=>c.uploadMedia),a=x.useSelector(c=>c.wpPostType==="fsp_post");return x.useSelector(c=>c.wpPostType==="attachment")&&t.mergeActivePostPayload({attachLink:!1,customLink:""}),e.jsxs(u,{styles:{root:{display:"inline-grid"}},children:[e.jsx(fe,{label:i?n("Attach link is not possible when media upload is enabled"):"",disabled:!i,refProp:"rootRef",children:e.jsx(E,{label:n("Attach link"),checked:s,onChange:c=>{i||t.mergeActivePostPayload({attachLink:c.target.checked})},disabled:i})}),a&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:c=>t.mergeActivePostPayload({customLink:c.currentTarget.value})})]})},a1=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(n1,{}),e.jsx(i1,{}),e.jsx(o1,{})]}),Wt=x.createUseActivePostPayloadHook();function i1(){const t=x.useStore(),s=x.useSelector(d=>d.wpPostType==="fsp_post"),o=x.useSelector(d=>d.wpPostType==="attachment"),i=x.useSelector(d=>d.wpPostId),a=Wt(d=>d.attachLink),r=Wt(d=>d.uploadMedia),c=Wt(d=>d.uploadMediaType),l=Wt(d=>d.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(u,{gap:"lg",styles:{root:{display:"inline-grid"}},children:e.jsx(fe,{label:a?n("Media upload is not possible when attach link is enabled"):"",disabled:!a,refProp:"rootRef",children:e.jsx(E,{label:n("Upload media"),checked:o||r,onChange:d=>{a||t.mergeActivePostPayload({uploadMedia:d.target.checked})},disabled:a||o})})}),r&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:c,onChange:d=>t.mergeActivePostPayload({uploadMediaType:d}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:"Custom"}),c==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})]})})}),r&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const r1=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Ws.slug,name:r,app_id:l,app_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Threads App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("App Secret"),size:"sm",placeholder:n("Enter app secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})};me.push({key:"threads",title:"Threads",accentColor:"#00000014",icon:e.jsx(sn,{}),iconColorful:e.jsx(ns,{}),composerContent:e.jsx(a1,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Qe={slug:"threads",label:"Threads",Icon:sn};h.registerHookListener("social_networks",t=>[...t,Qe.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Qe.slug,label:"Threads",icon:e.jsx(ns,{})}],4);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Qe.slug,label:"Threads",icon:e.jsx(sn,{})}],4);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Qe.slug?t:e.jsx(Zu,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Qe.slug)?[...t,{slug:"threads",icon:e.jsx(ns,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Qe.slug)?[...t,{slug:"threads",icon:e.jsx(ns,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Qe.slug)?[...t,{slug:"threads",icon:e.jsx(ns,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Qe.slug,label:"Threads",icon:e.jsx(ns,{})}],3);h.registerHookListener("add_app.content",(t,s,o)=>s!==Qe.slug?t:e.jsx(r1,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Qe.slug?"Threads":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Qe.slug?e.jsx(ns,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Qe.slug?"#00000014":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"threads",label:"Threads",icon:e.jsx(sn,{})}],4);h.registerHookListener("settings.actions",(t,s)=>s===Qe.slug?e.jsx(va.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Qe.slug?e.jsx(va.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Qe.slug?e.jsx(s1,{customPostData:o,setCustomPostData:i}):t);const Ws=Qe,as=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{"clip-path":"url(#clip0_258_17289)",children:[e.jsx("path",{d:"M12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0Z",fill:"url(#paint0_linear_258_17289)"}),e.jsx("path",{d:"M18.456 8.7905C18.0105 8.79051 17.5694 8.70277 17.1579 8.53231C16.7463 8.36184 16.3724 8.11199 16.0574 7.797C15.7424 7.48202 15.4926 7.10808 15.3221 6.69653C15.1516 6.28499 15.0639 5.84389 15.0639 5.39844H12.6404V14.8882C12.64 15.3208 12.5034 15.7424 12.2499 16.0931C11.9965 16.4437 11.6392 16.7058 11.2285 16.842C10.8179 16.9782 10.3747 16.9817 9.96197 16.8521C9.5492 16.7224 9.18772 16.4661 8.92875 16.1195C8.66978 15.7729 8.52646 15.3536 8.51911 14.921C8.51176 14.4884 8.64075 14.0645 8.88779 13.7093C9.13483 13.3541 9.4874 13.0857 9.89553 12.942C10.3037 12.7984 10.7466 12.7869 11.1617 12.9091V10.5533C10.2796 10.4344 9.38229 10.5874 8.58948 10.9919C7.79667 11.3963 7.14613 12.0331 6.72472 12.817C6.30331 13.6009 6.13108 14.4948 6.23105 15.3792C6.33101 16.2636 6.69841 17.0964 7.28417 17.7665C7.86994 18.4366 8.64619 18.912 9.50928 19.1294C10.3724 19.3467 11.2812 19.2955 12.1145 18.9827C12.9477 18.6698 13.6657 18.1103 14.1725 17.3787C14.6794 16.647 14.9509 15.7782 14.951 14.8882L15.0213 10.0914C16.017 10.8224 17.2205 11.2157 18.4557 11.2138L18.456 8.7905Z",fill:"url(#paint1_linear_258_17289)"}),e.jsx("path",{d:"M17.8155 8.13039C16.9158 8.13037 16.0531 7.77297 15.417 7.13683C14.7808 6.50069 14.4235 5.6379 14.4235 4.73828H12.0001V14.228C11.9996 14.6607 11.863 15.0822 11.6096 15.4329C11.3562 15.7836 10.9988 16.0456 10.5882 16.1819C10.1775 16.3181 9.73439 16.3216 9.32162 16.192C8.90885 16.0623 8.54736 15.806 8.28838 15.4594C8.02941 15.1128 7.88608 14.6935 7.87873 14.2609C7.87137 13.8283 8.00036 13.4044 8.2474 13.0492C8.49445 12.694 8.84702 12.4255 9.25514 12.2819C9.66327 12.1383 10.1062 12.1268 10.5213 12.249V9.89317C9.63925 9.77424 8.74191 9.92722 7.9491 10.3317C7.15629 10.7362 6.50575 11.3729 6.08434 12.1568C5.66292 12.9408 5.4907 13.8346 5.59067 14.719C5.69063 15.6034 6.05803 16.4363 6.64379 17.1063C7.22956 17.7764 8.00581 18.2519 8.8689 18.4692C9.73199 18.6865 10.6408 18.6353 11.4741 18.3225C12.3073 18.0097 13.0253 17.4501 13.5321 16.7185C14.039 15.9869 14.3106 15.1181 14.3106 14.228L14.3813 9.43127C15.377 10.1622 16.5805 10.5555 17.8157 10.5537L17.8155 8.13039Z",fill:"url(#paint2_linear_258_17289)"}),e.jsx("path",{d:"M17.8154 8.72984C16.9769 8.5685 16.2301 8.09687 15.7241 7.40909C15.0845 6.90854 14.6458 6.19508 14.4877 5.39844H12.6406V14.8882C12.6406 15.3386 12.4932 15.7766 12.2209 16.1353C11.9486 16.4941 11.5664 16.7539 11.1327 16.8751C10.6989 16.9963 10.2374 16.9722 9.81856 16.8066C9.39975 16.6409 9.04665 16.3428 8.81315 15.9576C8.39793 15.6874 8.09382 15.2767 7.95639 14.8007C7.81895 14.3248 7.85737 13.8152 8.06462 13.3652C8.27187 12.9152 8.63412 12.5548 9.08517 12.3499C9.53622 12.1449 10.046 12.1091 10.5212 12.2489V10.5154C9.70601 10.5259 8.90996 10.764 8.22292 11.203C7.53588 11.6419 6.98521 12.2642 6.63308 12.9995C6.28094 13.7348 6.14136 14.5539 6.23008 15.3644C6.3188 16.1748 6.63229 16.9443 7.13517 17.586C7.77359 18.1187 8.55065 18.4584 9.37525 18.5652C10.1998 18.6721 11.0378 18.5416 11.7909 18.1892C12.544 17.8367 13.181 17.2769 13.6273 16.5753C14.0735 15.8737 14.3106 15.0595 14.3106 14.228L14.3812 9.43123C15.377 10.1622 16.5804 10.5555 17.8156 10.5537L17.8154 8.72984Z",fill:"url(#paint3_linear_258_17289)"})]}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_258_17289",x1:"-0.0631407",y1:"24.0631",x2:"23.939",y2:"0.0609845",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#111111"}),e.jsx("stop",{offset:"1",stopColor:"#323232"})]}),e.jsxs("linearGradient",{id:"paint1_linear_258_17289",x1:"7.17462",y1:"17.6703",x2:"17.2552",y2:"7.5897",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#B5053C"}),e.jsx("stop",{offset:"0.233",stopColor:"#C90441"}),e.jsx("stop",{offset:"0.737",stopColor:"#F0014B"}),e.jsx("stop",{offset:"1",stopColor:"#FF004F"})]}),e.jsxs("linearGradient",{id:"paint2_linear_258_17289",x1:"6.38405",y1:"17.1602",x2:"17.0026",y2:"6.54166",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#00B2C9"}),e.jsx("stop",{offset:"0.283",stopColor:"#00C8D4"}),e.jsx("stop",{offset:"0.741",stopColor:"#00E6E4"}),e.jsx("stop",{offset:"1",stopColor:"#00F1EA"})]}),e.jsxs("linearGradient",{id:"paint3_linear_258_17289",x1:"0.434952",y1:"23.7597",x2:"23.9392",y2:"0.255361",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#DDE3E4"}),e.jsx("stop",{offset:"1",stopColor:"#FCF7F7"})]}),e.jsx("clipPath",{id:"clip0_258_17289",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),l1=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Vs.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Vs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(as,{})}),onClick:l,children:n("Sign in with Tiktok")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),c1=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(b=>b.id===f),[f]),m=()=>{s.get("v1/settings/apps",{},b=>{const B=b.apps.filter(F=>F.social_network===Vs.slug);y(B),B.length===1&&C(B[0].id)})};p.useEffect(()=>m(),[]);const H=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:b=>c(b.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:b=>d(b.currentTarget.value)})})]});function k(){if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const b=window.open("about:blank","_blank","width=700,height=500");if(!b){o.error(n("Window could not open"));return}a(!0),b.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Vs.slug,app_id:f,proxy:r?l:""},B=>{b.location.href=B.auth_url},()=>a(!1))}return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Vs.slug,docLink:"https://www.fs-poster.com/documentation/how-to-auto-publish-and-schedule-wordpress-posts-to-tiktok"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the safest and has a longer authorization time."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:b=>C(b),options:g.map(b=>e.jsx(W.Option,{value:b.id,children:b.name},b.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),H]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:k,loading:i,children:n("Continue")})]})]})]})}),d1=t=>{const s=M(),o=te(),i=R(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>o.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),i.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(c1,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(l1,{setIsAdvancedMode:r})},rt=xe(t=>({postText:"",disableComment:void 0,disableDuet:void 0,disableStitch:void 0,privacyLevel:void 0,autoAddMusicToPhoto:void 0,setSettings:s=>t(s)})),u1=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=rt.getState();t.post("v1/social-networks/Tiktok/settings",{post_text:r.postText,disable_comment:r.disableComment,disable_duet:r.disableDuet,disable_stitch:r.disableStitch,privacy_level:r.privacyLevel,auto_add_music_to_photo:r.autoAddMusicToPhoto},()=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),p1=j.memo(()=>{const t=rt(o=>o.postText),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"Tiktok_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),h1=j.memo(()=>{const t=rt(o=>o.autoAddMusicToPhoto),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Automatically add music"),description:"If enabled, recommended music will be automatically added to photos.",content:e.jsx(G,{checked:t,onChange:o=>s({autoAddMusicToPhoto:o.currentTarget.checked})})})}),m1=j.memo(()=>{const t=rt(o=>o.privacyLevel),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Privacy Status"),description:"",content:e.jsx(L.Group,{size:"sm",value:t,onChange:o=>s({privacyLevel:o}),children:e.jsx(_,{ml:"md",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"PUBLIC_TO_EVERYONE",label:n("Public To Everyone")}),e.jsx(L,{value:"MUTUAL_FOLLOW_FRIENDS",label:n("Mutual Follow Friends")}),e.jsx(L,{value:"FOLLOWER_OF_CREATOR",label:n("Follower Of Creator")}),e.jsx(L,{value:"SELF_ONLY",label:n("Self Only")})]})})})})}),g1=j.memo(()=>{const t=rt(o=>o.disableComment),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Allow comment"),description:"",content:e.jsx(G,{checked:!t,onChange:o=>s({disableComment:!o.currentTarget.checked})})})}),x1=j.memo(()=>{const t=rt(o=>o.disableDuet),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Allow duet"),description:"",content:e.jsx(G,{checked:!t,onChange:o=>s({disableDuet:!o.currentTarget.checked})})})}),j1=j.memo(()=>{const t=rt(o=>o.disableStitch),s=rt(o=>o.setSettings);return e.jsx(O,{label:n("Allow stitch"),description:"",content:e.jsx(G,{checked:!t,onChange:o=>s({disableStitch:!o.currentTarget.checked})}),withoutDivider:!0})}),f1=j.memo(()=>{const t=M(),s=rt(a=>a.setSettings),[o,i]=p.useState(!1);return p.useEffect(()=>{t.get("v1/social-networks/Tiktok/settings",{},a=>{s({postText:a.post_text,disableComment:a.disable_comment,disableDuet:a.disable_duet,disableStitch:a.disable_stitch,privacyLevel:a.privacy_level,autoAddMusicToPhoto:a.auto_add_music_to_photo}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(p1,{}),e.jsx(h1,{}),e.jsx(m1,{}),e.jsx(g1,{}),e.jsx(x1,{}),e.jsx(j1,{})]})}),ba={Actions:u1,Body:f1},k1=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),_1=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Vs.slug,name:r,client_key:l,client_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Tiktok App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Client key"),size:"sm",placeholder:n("Enter client key"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Client secret"),size:"sm",placeholder:n("Enter client secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},C1=()=>{const t=n(`By posting, you agree to TikTok's <a href="https://www.tiktok.com/legal/page/global/music-usage-confirmation/en" target="_blank" rel="noopener noreferrer">Music Usage Confirmation</a>.`);return e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(w1,{}),e.jsx(y1,{}),e.jsx(v1,{}),e.jsxs(u,{gap:"xs",children:[e.jsx(b1,{}),e.jsx(T1,{}),e.jsx(A1,{})]}),e.jsx(P1,{}),e.jsx(ve,{p:10,variant:"gray",color:"red",icon:e.jsx(Tn,{}),children:e.jsx("span",{dangerouslySetInnerHTML:{__html:t}})})]})},Gt=x.createUseActivePostPayloadHook(),y1=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Gt(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})};function w1(){const t=x.useStore(),s=x.useSelector(l=>l.posts.find(d=>d.active)),o=x.useSelector(l=>l.wpPostType==="fsp_post"),i=x.useSelector(l=>l.wpPostType==="attachment"),a=x.useSelector(l=>l.wpPostId),r=Gt(l=>l.uploadMediaType),c=Gt(l=>l.mediaIds);return i&&t.mergeActivePostPayload({uploadMediaType:"custom",mediaIds:[a]}),e.jsx(e.Fragment,{children:!i&&e.jsxs(u,{gap:"xs",children:[!o&&e.jsx(L.Group,{size:"sm",label:n("Upload media"),value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"md",children:e.jsx(u,{gap:"xs",children:e.jsxs(u,{children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:s.channel.channel_type==="account"?e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0}):e.jsx(X,{image:c.length>0?{id:c[0],url:""}:void 0,setImage:l=>{t.mergeActivePostPayload({mediaIds:l?[l.id]:[]})},multi:!1})})]})})})}),o&&e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Upload media")}),e.jsx(_,{ml:"md",children:s.channel.channel_type==="account"?e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0}):e.jsx(X,{image:c.length>0?{id:c[0],url:""}:void 0,setImage:l=>{t.mergeActivePostPayload({mediaIds:l?[l.id]:[]})},multi:!1})})]})]})})}function v1(){const t=x.useStore(),s=Gt(o=>o.privacyLevel);return e.jsx(L.Group,{size:"sm",value:s,onChange:o=>t.mergeActivePostPayload({privacyLevel:o}),label:n("Privacy Status"),children:e.jsx(_,{ml:"md",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"PUBLIC_TO_EVERYONE",label:n("Public To Everyone")}),e.jsx(L,{value:"MUTUAL_FOLLOW_FRIENDS",label:n("Mutual Follow Friends")}),e.jsx(L,{value:"FOLLOWER_OF_CREATOR",label:n("Follower Of Creator")}),e.jsx(L,{value:"SELF_ONLY",label:n("Self Only")})]})})})}const b1=()=>{const t=x.useStore(),s=Gt(o=>o.disableComment);return e.jsx(E,{label:n("Allow comments"),checked:!s,onChange:o=>t.mergeActivePostPayload({disableComment:!o.target.checked})})},T1=()=>{const t=x.useStore(),s=Gt(o=>o.disableDuet);return e.jsx(E,{label:n("Allow Duet"),checked:!s,onChange:o=>t.mergeActivePostPayload({disableDuet:!o.target.checked})})},A1=()=>{const t=x.useStore(),s=Gt(o=>o.disableStitch);return e.jsx(E,{label:n("Allow Stitch"),checked:!s,onChange:o=>t.mergeActivePostPayload({disableStitch:!o.target.checked})})},P1=()=>{const t=x.useStore(),s=Gt(o=>o.autoAddMusicToPhoto);return e.jsx(E,{label:n("Auto Add Music (only for photos)"),checked:s,onChange:o=>t.mergeActivePostPayload({autoAddMusicToPhoto:o.target.checked})})};me.push({key:"tiktok",title:"Tiktok",accentColor:"#010101",icon:e.jsx(on,{}),iconColorful:e.jsx(as,{}),composerContent:e.jsx(C1,{}),composer:{syncKeys:{postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",privacyLevel:"privacyLevel",disableComment:"disableComment",disableDuet:"disableDuet",disableStitch:"disableStitch",autoAddMusicToPhoto:"autoAddMusicToPhoto"},initialState:()=>({postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],privacyLevel:"PUBLIC_TO_EVERYONE",disableComment:!1,disableDuet:!1,disableStitch:!1,autoAddMusicToPhoto:!0}),loadState:t=>{var s;return{postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],privacyLevel:t.privacy_level||"PUBLIC_TO_EVERYONE",disableComment:t.disable_comment||!1,disableDuet:t.disable_duet||!1,disableStitch:t.disable_stitch||!1,autoAddMusicToPhoto:(s=t.auto_add_music_to_photo)!=null?s:!0}},saveState:t=>({post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],privacy_level:t.privacyLevel,disable_comment:t.disableComment,disable_duet:t.disableDuet,disable_stitch:t.disableStitch,auto_add_music_to_photo:t.autoAddMusicToPhoto})}});const Ge={slug:"tiktok",label:"Tiktok",Icon:on};h.registerHookListener("social_networks",t=>[...t,Ge.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ge.slug,label:"Tiktok",icon:e.jsx(as,{})}],3);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ge.slug,label:"Tiktok",icon:e.jsx(on,{})}],3);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ge.slug?t:e.jsx(d1,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ge.slug)?[...t,{slug:"tiktok",icon:e.jsx(as,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ge.slug)?[...t,{slug:"tiktok",icon:e.jsx(as,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ge.slug)?[...t,{slug:"tiktok",icon:e.jsx(as,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ge.slug,label:"Tiktok",icon:e.jsx(as,{})}],3);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ge.slug?t:e.jsx(_1,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ge.slug?"Tiktok":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ge.slug?e.jsx(as,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ge.slug?"#010101":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"tiktok",label:"Tiktok",icon:e.jsx(on,{})}],3);h.registerHookListener("settings.actions",(t,s)=>s===Ge.slug?e.jsx(ba.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ge.slug?e.jsx(ba.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ge.slug?e.jsx(k1,{customPostData:o,setCustomPostData:i}):t);const Vs=Ge,is=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#001935"}),e.jsx("g",{clipPath:"url(#clip0_7247_103774)",children:e.jsx("path",{d:"M13.8502 20C11.4502 20 9.65021 18.7667 9.65021 15.8V11.0667H7.4502V8.5C9.85021 7.86667 10.8502 5.8 10.9836 4H13.4836V8.06667H16.3836V11.0667H13.4836V15.2C13.4836 16.4333 14.1169 16.8667 15.1169 16.8667H16.5169V20H13.8502Z",fill:"white"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_103774",children:e.jsx("rect",{width:"9.06674",height:"16",fill:"white",transform:"translate(7.4502 4)"})})})]}),S1=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Qs.slug,name:r,consumer_key:l,consumer_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My Tumblr App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Consumer Key"),size:"sm",placeholder:n("Enter consumer key"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Consumer Secret"),size:"sm",placeholder:n("Enter consumer secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},L1=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(""),l=()=>{if(i&&!r){o.error(n("Please enter the proxy"));return}const d=window.open("about:blank","_blank","width=700,height=500");if(!d){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Qs.slug,app_id:0,proxy:i?r:""},g=>{d.location.href=g.auth_url})};return e.jsxs(ct,{socialNetwork:Qs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(is,{})}),onClick:l,children:n("Sign in with Tumblr")}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:i,onChange:d=>a(d.currentTarget.checked)}),i&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:r,onChange:d=>c(d.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),I1=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find(b=>b.id===f),[f]),m=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const b=window.open("about:blank","_blank","width=700,height=500");if(!b){o.error(n("Window could not open"));return}a(!0),b.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:Qs.slug,app_id:f,proxy:r?l:""},B=>{b.location.href=B.auth_url},()=>a(!1))},H=Je(()=>{s.get("v1/settings/apps",{},b=>{const B=b.apps.filter(F=>F.social_network===Qs.slug);y(B),B.length===1&&C(B[0].id)})});p.useEffect(()=>H(),[]);const k=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:b=>c(b.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:b=>d(b.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Qs.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-tumblr-automatically"}),e.jsxs(z.Method,{slug:"app",label:n("App"),isRecommended:!0,description:n("This is small text about official method. We recommend this method."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:b=>C(b),options:g.map(b=>e.jsx(W.Option,{value:b.id,children:b.name},b.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),k]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m,loading:i,children:n("Continue")})]})]})]})}),M1=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(I1,{setIsAdvancedMode:r}):e.jsx(L1,{setIsAdvancedMode:r})},it=xe(t=>({postTitle:"",postText:"",sendTags:!1,attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),z1=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=it.getState();t.post("v1/social-networks/tumblr/settings",{post_title:r.postTitle,post_text:r.postText,send_tags:r.sendTags,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),H1=j.memo(()=>{const t=it(o=>o.postTitle),s=it(o=>o.setSettings);return e.jsx(O,{label:n("Post title"),description:n("You can customize the Post title as you like by using the keywords.."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"tumblr_post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),D1=j.memo(()=>{const t=it(o=>o.postText),s=it(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"tumblr_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),B1=j.memo(()=>{const t=it(o=>o.sendTags),s=it(o=>o.setSettings);return e.jsx(O,{label:n("Share WordPress tags as Tumblr tags"),description:n("Enable the option to add the WordPress tags to the Tumblr tag section."),content:e.jsx(G,{checked:t,onChange:o=>s({sendTags:o.currentTarget.checked})})})}),E1=j.memo(()=>{const t=it(o=>o.attachLink),s=it(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),U1=j.memo(()=>{const t=it(i=>i.uploadMedia),s=it(i=>i.mediaTypeToUpload),o=it(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:it})]})})]})})}),F1=j.memo(()=>{const t=M(),s=it(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/tumblr/settings",{},a=>{s({postTitle:a.post_title,postText:a.post_text,sendTags:a.send_tags,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(H1,{}),e.jsx(D1,{}),e.jsx(B1,{}),e.jsx(U1,{}),e.jsx(E1,{})]})}),Ta={Actions:z1,Body:F1},$1=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),O1=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=hs(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_title_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},R1=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=hs(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},N1=()=>{const t=x.useStore(),s=hs(a=>a.attachLink),o=hs(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},K1=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(N1,{}),e.jsx(W1,{}),e.jsx(O1,{}),e.jsx(R1,{})]}),hs=x.createUseActivePostPayloadHook();function W1(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=hs(l=>l.uploadMedia),r=hs(l=>l.uploadMediaType),c=hs(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"tumblr",title:"Tumblr",accentColor:"#021B3314",icon:e.jsx(nn,{}),iconColorful:e.jsx(is,{}),composerContent:e.jsx(K1,{}),composer:{syncKeys:{postTitle:"postTitle",postContent:"postContent",attachLink:"attachLink",customLink:"customLink",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({postTitle:"",postContent:"",attachLink:!0,customLink:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],custom_tags:[],send_tags:!1}),loadState:t=>({postTitle:t.post_title||"",postContent:t.post_content||"",attachLink:t.attach_link||!1,customLink:t.custom_link||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,custom_tags:t.custom_tags,send_tags:t.send_tags}),saveState:t=>({post_title:t.postTitle,post_content:t.postContent,attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,custom_tags:t.custom_tags,send_tags:t.send_tags})}});const Re={slug:"tumblr",label:"Tumblr",Icon:nn};h.registerHookListener("social_networks",t=>[...t,Re.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Re.slug,label:"Tumblr",icon:e.jsx(is,{})}],12);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Re.slug,label:"Tumblr",icon:e.jsx(nn,{})}],12);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Re.slug?t:e.jsx(M1,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Re.slug)?[...t,{slug:"tumblr",icon:e.jsx(is,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Re.slug)?[...t,{slug:"tumblr",icon:e.jsx(is,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Re.slug)?[...t,{slug:"tumblr",icon:e.jsx(is,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Re.slug,label:"Tumblr",icon:e.jsx(is,{})}],12);h.registerHookListener("add_app.content",(t,s,o)=>s!==Re.slug?t:e.jsx(S1,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Re.slug?"Tumblr":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Re.slug?e.jsx(is,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Re.slug?"#35465c":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Re.slug?"#021B3314":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"tumblr",label:"Tumblr",icon:e.jsx(nn,{})}],12);h.registerHookListener("settings.actions",(t,s)=>s===Re.slug?e.jsx(Ta.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Re.slug?e.jsx(Ta.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Re.slug?e.jsx($1,{customPostData:o,setCustomPostData:i}):t);const Qs=Re,V1=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Et(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Q1=()=>{const t=x.useStore(),s=Et(r=>r.attachLink),o=Et(r=>r.attachType),i=Et(r=>r.customLink),a=x.useSelector(r=>r.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:r=>t.mergeActivePostPayload({attachLink:r.target.checked})}),s&&!a&&e.jsx(L.Group,{size:"sm",value:o,onChange:r=>t.mergeActivePostPayload({attachType:r}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"wp_post",label:n("Wp Post Link")}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom Link")}),o==="custom"&&e.jsx(_,{ml:"xl",maw:400,children:e.jsx(P,{size:"sm",placeholder:"https://",value:i,onChange:r=>t.mergeActivePostPayload({customLink:r.currentTarget.value})})})]})]})})}),s&&a&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:i,onChange:r=>t.mergeActivePostPayload({customLink:r.currentTarget.value})})]})},G1=()=>{const t=x.useStore(),s=x.useSelector(r=>r.posts.find(c=>c.active)),o=Et(r=>r.firstComment),i=Et(r=>r.enableComment),a=x.useSelector(r=>r.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("First comment"),checked:i,onChange:r=>t.mergeActivePostPayload({enableComment:r.currentTarget.checked})}),i&&e.jsx(u,{children:a?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:r=>{t.mergeActivePostPayload({firstComment:r})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Z1=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Q1,{}),e.jsx(Y1,{}),e.jsx(G1,{}),e.jsx(V1,{})]}),Et=x.createUseActivePostPayloadHook();function Y1(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Et(l=>l.uploadMedia),r=Et(l=>l.uploadMediaType),c=Et(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const X1=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),q1=j.memo(t=>{var T,m,H;const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(((T=t.initialData)==null?void 0:T.useProxy)||!1),[l,d]=p.useState(((m=t.initialData)==null?void 0:m.proxy)||""),[g,y]=p.useState(((H=t.initialData)==null?void 0:H.authToken)||""),f=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}a(!0),s.post("v1/social-networks/twitter/channel-via-cookie",{auth_token:g,proxy:r?l:""},k=>{s.post("v1/channels",{channels:k.channels},b=>{t.onAdd(),t.onClose(),o.success(n("Channel added successfully")),a(!1)},()=>{a(!1)})},()=>a(!1))},C=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:lo.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-twitter-automatically"}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:n("Cookie: {{token}}",{token:"auth_token"}),size:"sm",placeholder:n("Enter cookie {{token}}",{token:"auth_token"}),value:g,onChange:k=>y(k.currentTarget.value)})}),C]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:f,loading:i,children:n("Continue")})})]})]})}),J1=t=>e.jsx(q1,A({},t)),ep=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(J1,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,authToken:s.session_data.authToken}})]})})]}),qe=xe(t=>({postText:"",cutPostText:!1,attachLink:!1,shareToFirstComment:!1,firstCommentText:"",uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),tp=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=qe.getState();t.post("v1/social-networks/twitter/settings",{post_text:r.postText,cut_post_text:r.cutPostText,attach_link:r.attachLink,share_to_first_comment:r.shareToFirstComment,first_comment_text:r.firstCommentText,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),sp=j.memo(()=>{const t=qe(o=>o.postText),s=qe(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"x_post_text",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),op=j.memo(()=>{const t=qe(o=>o.cutPostText),s=qe(o=>o.setSettings);return e.jsx(O,{label:n("Limit the custom message characters count"),description:n("Twitter limits a Tweet length to a maximum of 280 characters. By enabling the option, the first 280 characters of your custom message will be shared; otherwise, the tweet won't be shared because of the limit."),content:e.jsx(G,{checked:t,onChange:o=>s({cutPostText:o.currentTarget.checked})})})}),np=j.memo(()=>{const t=qe(i=>i.shareToFirstComment),s=qe(i=>i.firstCommentText),o=qe(i=>i.setSettings);return e.jsx(O,{label:n("Post a first comment"),description:n("Enable the option to share a customized message as a first comment."),content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({shareToFirstComment:i.currentTarget.checked})}),t&&e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"x_share_to_first_comment",value:s,onChange:i=>{o({firstCommentText:i})},withAI:!0,keywords:N("keywords",[],v.content)})})]})})}),ap=j.memo(()=>{const t=qe(o=>o.attachLink),s=qe(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),ip=j.memo(()=>{const t=qe(i=>i.uploadMedia),s=qe(i=>i.mediaTypeToUpload),o=qe(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:qe})]})})]})})}),rp=j.memo(()=>{const t=M(),s=qe(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/twitter/settings",{},a=>{s({postText:a.post_text,cutPostText:a.cut_post_text,attachLink:a.attach_link,shareToFirstComment:a.share_to_first_comment,firstCommentText:a.first_comment_text,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(sp,{}),e.jsx(op,{}),e.jsx(np,{}),e.jsx(ip,{}),e.jsx(ap,{})]})}),Aa={Actions:tp,Body:rp},lp=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:lo.slug,name:r,api_key:l,api_key_secret:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My X (Twitter) App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("Api Key"),size:"sm",placeholder:n("Enter api key"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Api Key Secret"),size:"sm",placeholder:n("Enter api key secret"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},cp=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState([]),[f,C]=p.useState(),T=p.useMemo(()=>g.find($=>$.id===f),[f]),[m,H]=p.useState(""),k=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}if(!f){o.error(n("Please select an app"));return}const $=window.open("about:blank","_blank","width=700,height=500");if(!$){o.error(n("Window could not open"));return}a(!0),$.onpagehide=()=>a(!1),s.post("v1/channels/get-auth-url",{social_network:lo.slug,app_id:f,proxy:r?l:""},U=>{$.location.href=U.auth_url},()=>a(!1))},b=Je(()=>{s.get("v1/settings/apps",{},$=>{const U=$.apps.filter(D=>D.social_network===lo.slug);y(U),U.length===1&&C(U[0].id)})});p.useEffect(()=>b(),[]);const B=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}a(!0),s.post("v1/social-networks/twitter/channel-via-cookie",{auth_token:m,proxy:r?l:""},$=>{s.post("v1/channels",{channels:$.channels},U=>{t.onAdd(),t.onClose(),o.success(n("Channel added successfully")),a(!1)},()=>{a(!1)})},()=>a(!1))},F=e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:$=>c($.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:$=>d($.currentTarget.value)})})]});return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:lo.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-twitter-automatically"}),e.jsxs(z.Method,{slug:"app",label:n("Official method"),isRecommended:!0,description:n("The official method is the safest and has a longer authorization time. You need to create an X (Twitter) App."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[g.length>0?e.jsx(W,{value:T==null?void 0:T.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:$=>C($),options:g.map($=>e.jsx(W.Option,{value:$.id,children:$.name},$.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or select a different method.")}),F]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:k,loading:i,children:n("Continue")})})]}),e.jsxs(z.Method,{slug:"cookie",label:n("Cookie method"),description:n("You might need to update the account cookies occasionally."),children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsx(u,{children:e.jsx(P,{label:n("Cookie: {{token}}",{token:"auth_token"}),size:"sm",placeholder:n("Enter cookie {{token}}",{token:"auth_token"}),value:m,onChange:$=>H($.currentTarget.value)})}),F]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:B,loading:i,children:n("Continue")})})]})]})}),dp=t=>{const s=M(),o=R(),i=te();return p.useEffect(()=>(window.FSPosterAddChannels=a=>i.show(le,{sourceChannels:a.filter(r=>!r.id),destinationChannels:a.filter(r=>!!r.id),onAdd:r=>{s.post("v1/channels",{channels:r},c=>{t.onAdd(),t.onClose(),o.success(r.length>1?n("{{channelsCount}} channels added successfully",{channelsCount:String(r.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),e.jsx(cp,{onAdd:t.onAdd,onClose:t.onClose})},Ss=()=>e.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"black"}),e.jsx("path",{d:"M5.03413 5.44995L10.4394 12.6771L5 18.5531H6.22419L10.9864 13.4086L14.834 18.5531H19L13.2906 10.9194L18.3536 5.44995H17.1294L12.7437 10.188L9.20008 5.44995H5.03413ZM6.83439 6.35167H8.74824L17.1995 17.6513H15.2856L6.83439 6.35167Z",fill:"white"})]});me.push({key:"twitter",title:"X (Twitter)",accentColor:"#00000014",icon:e.jsx(rn,{}),iconColorful:e.jsx(Ss,{}),composerContent:e.jsx(Z1,{}),composer:{syncKeys:{attachLink:"attachLink",attachType:"attachType",customLink:"customLink",postContent:"postContent",enableComment:"enableComment",firstComment:"firstComment",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,attachType:"custom",customLink:"",postContent:"",enableComment:!1,firstComment:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>{var s,o;return{attachLink:t.attach_link||!1,attachType:(s=t.custom_link)!=null&&s.length?"custom":"wp_post",customLink:t.custom_link||"",postContent:t.post_content||"",enableComment:((o=t.first_comment)==null?void 0:o.length)>0,firstComment:t.first_comment||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}},saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink&&t.attachType==="custom"?t.customLink:"",post_content:t.postContent,first_comment:t.enableComment&&t.firstComment.length?t.firstComment:"",upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Pe={slug:"twitter",label:"X (Twitter)",Icon:rn};h.registerHookListener("social_networks",t=>[...t,Pe.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Pe.slug,label:"X (Twitter)",icon:e.jsx(Ss,{})}],5);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Pe.slug,label:"X (Twitter)",icon:e.jsx(rn,{})}],5);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Pe.slug?t:e.jsx(dp,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Pe.slug)?[...t,{slug:"twitter",icon:e.jsx(Ss,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Pe.slug)?[...t,{slug:"twitter",icon:e.jsx(Ss,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Pe.slug)?[...t,{slug:"twitter",icon:e.jsx(Ss,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Pe.slug,label:"X (Twitter)",icon:e.jsx(Ss,{})}],5);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==Pe.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(ep,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("add_app.content",(t,s,o)=>s!==Pe.slug?t:e.jsx(lp,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Pe.slug?"X (Twitter)":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Pe.slug?e.jsx(Ss,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Pe.slug?"#1C9BEF":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Pe.slug?"#00000014":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"twitter",label:"X (Twitter)",icon:e.jsx(rn,{})}],5);h.registerHookListener("settings.actions",(t,s)=>s===Pe.slug?e.jsx(Aa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Pe.slug?e.jsx(Aa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Pe.slug?e.jsx(X1,{customPostData:o,setCustomPostData:i}):t);const lo=Pe,rs=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_45043)",children:[e.jsx("path",{d:"M0 11.52C0 6.0894 0 3.37413 1.68707 1.68707C3.37413 0 6.0894 0 11.52 0H12.48C17.9106 0 20.6259 0 22.313 1.68707C24 3.37413 24 6.0894 24 11.52V12.48C24 17.9106 24 20.6259 22.313 22.313C20.6259 24 17.9106 24 12.48 24H11.52C6.0894 24 3.37413 24 1.68707 22.313C0 20.6259 0 17.9106 0 12.48V11.52Z",fill:"#0077FF"}),e.jsx("path",{d:"M12.6698 16.6799C7.54493 16.6799 4.6218 13.1664 4.5 7.32001H7.06715C7.15147 11.6111 9.04399 13.4288 10.5431 13.8035V7.32001H12.9604V11.0209C14.4407 10.8616 15.9958 9.17512 16.5205 7.32001H18.9378C18.5349 9.60611 16.8484 11.2926 15.6492 11.9859C16.8484 12.5481 18.7692 14.019 19.5 16.6799H16.8391C16.2676 14.8997 14.8436 13.5225 12.9604 13.3351V16.6799H12.6698Z",fill:"white"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_45043",children:e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"white"})})})]}),up=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(""),[d,g]=p.useState(!1),[y,f]=p.useState(""),C=()=>{if(a&&!c){o.error("Please enter the proxy");return}const m=window.open("about:blank","_blank","width=700,height=500");if(!m){o.error(n("Window could not open"));return}s.post("v1/channels/get-auth-url",{social_network:Zs.slug,app_id:0,proxy:a?c:""},H=>{m.location.href=H.auth_url,g(!0)})},T=()=>{s.post("v1/social-networks/vk/fetch-channels",{url:y,proxy:a?c:""},m=>{i.show(le,{sourceChannels:m.channels.filter(H=>!H.id),destinationChannels:m.channels.filter(H=>!!H.id),onAdd:H=>{s.post("v1/channels",{channels:H},k=>{t.onAdd(),t.onClose(),o.success(H.length>1?n("{{length}} channels added successfully",{length:String(H.length)}):n("Channel added successfully"))})}})})};return e.jsxs(ct,{socialNetwork:Zs.slug,children:[e.jsx(we,{size:"md",leftSection:e.jsx(_,{w:20,h:20,children:e.jsx(rs,{})}),onClick:C,children:n("Sign in with VKontakte")}),d&&e.jsxs(u,{p:20,gap:4,style:{border:"2px solid #2789F6",borderRadius:"6px"},children:[e.jsxs(q,{align:"center",gap:3,children:[e.jsx(w,{size:"sm",fw:500,fz:12,children:n("Url")}),e.jsx(fe,{fz:"xs",arrowOffset:5,arrowSize:4,multiline:!0,w:256,label:e.jsx(e.Fragment,{children:n(`Authorize your VKontakte account, then copy the URL in the opened window, close the
                                    window and paste URL into this input.`)}),position:"right",children:e.jsx(Tn,{size:14,color:"#FF4405",stroke:1.33})})]}),e.jsxs(q,{gap:4,wrap:"nowrap",children:[e.jsx(P,{size:"sm",placeholder:"https://",value:y,onChange:m=>f(m.currentTarget.value),miw:"240px"}),e.jsx(V,{size:"sm",onClick:T,children:n("ADD")})]})]}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:a,onChange:m=>r(m.currentTarget.checked)}),a&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:c,onChange:m=>l(m.currentTarget.value)})})]}),e.jsx(ae,{size:"sm",rightIcon:lt,onClick:()=>t.setIsAdvancedMode(!0),children:n("More options")})]})}),pp=j.memo(t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(!1),[d,g]=p.useState(""),[y,f]=p.useState([]),[C,T]=p.useState(),[m,H]=p.useState(!1),[k,b]=p.useState(""),B=p.useMemo(()=>y.find(D=>D.id===C),[C]),F=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}if(!C){o.error(n("Please select an app"));return}const D=window.open("about:blank","_blank","width=700,height=500");if(!D){o.error(n("Window could not open"));return}r(!0),D.onpagehide=()=>r(!1),s.post("v1/channels/get-auth-url",{social_network:Zs.slug,app_id:C,proxy:c?d:""},K=>{D.location.href=K.auth_url,H(!0)},()=>r(!1))},$=()=>{s.post("v1/social-networks/vk/fetch-channels",{url:k,proxy:c?d:""},D=>{i.show(le,{sourceChannels:D.channels.filter(K=>!K.id),destinationChannels:D.channels.filter(K=>!!K.id),onAdd:K=>{s.post("v1/channels",{channels:K},J=>{t.onAdd(),t.onClose(),o.success(K.length>1?n("{{length}} channels added successfully",{length:String(K.length)}):n("Channel added successfully"))})}})})},U=Je(()=>{s.get("v1/settings/apps",{},D=>{const K=D.apps.filter(J=>J.social_network===Zs.slug);f(K),K.length===1&&T(K[0].id)})});return p.useEffect(()=>U(),[]),e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Zs.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-vk-automatically"}),e.jsxs(z.Method,{slug:"app",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[y.length>0?e.jsx(W,{value:B==null?void 0:B.name,label:n("Select an app"),placeholder:n("Please select app to continue"),onChange:D=>T(D),options:y.map(D=>e.jsx(W.Option,{value:D.id,children:D.name},D.id))}):e.jsx(ve,{variant:"outline",color:"blue",title:n("No apps"),children:n("You do not have any apps added for the official method. Please add a new app from 'Settings > App' or use the sign in method.")}),m&&e.jsxs(u,{p:20,gap:4,style:{border:"2px solid #2789F6",borderRadius:"6px"},children:[e.jsxs(q,{align:"center",gap:3,children:[e.jsx(w,{size:"sm",fw:500,fz:12,children:n("Url")}),e.jsx(fe,{fz:"xs",arrowOffset:5,arrowSize:4,multiline:!0,w:256,label:e.jsx(e.Fragment,{children:n(`Authorize your VKontakte account, then copy the URL in the opened window,
                                            close the window and paste URL into this input.`)}),position:"right",children:e.jsx(Tn,{size:14,color:"#FF4405",stroke:1.33})})]}),e.jsx(P,{size:"sm",placeholder:"https://",value:k,onChange:D=>b(D.currentTarget.value),miw:"240px"})]}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:D=>l(D.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:D=>g(D.currentTarget.value)})})]})]}),e.jsxs(z.Button,{children:[e.jsx(ae,{size:"sm",leftIcon:We,onClick:()=>t.setIsAdvancedMode(!1),children:n("Easy mode")}),e.jsx(V,{size:"sm",onClick:m?$:F,loading:a,children:m?n("Add"):n("Continue")})]})]})]})}),hp=t=>{const s=M(),o=R(),i=te(),[a,r]=p.useState(!1);return p.useEffect(()=>(window.FSPosterAddChannels=c=>i.show(le,{sourceChannels:c.filter(l=>!l.id),destinationChannels:c.filter(l=>!!l.id),onAdd:l=>{s.post("v1/channels",{channels:l},d=>{t.onAdd(),t.onClose(),o.success(l.length>1?n("{{length}} channels added successfully",{length:String(l.length)}):n("Channel added successfully"))})}}),()=>window.FSPosterAddChannels=void 0),[]),a?e.jsx(pp,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose}):e.jsx(up,{setIsAdvancedMode:r,onAdd:t.onAdd,onClose:t.onClose})},mp=t=>{const s=M(),o=te(),i=R(),a=Me(m=>m.addApp),[r,c]=p.useState(""),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(!1),T=()=>{C(!0),s.post("v1/settings/apps",{social_network:Zs.slug,name:r,app_id:l,secure_key:g},m=>{"app"in m?(C(!1),a(m.app),t.onClose(),i.success(n("App added successfully"))):(C(!1),o.show(ze,{infoText:m.info.text,infoCode:m.info.code,loading:f,onDone:()=>T()}))},()=>C(!1))};return e.jsxs(u,{justify:"space-between",children:[e.jsxs(u,{h:"100%",children:[e.jsx(P,{label:n("Name"),size:"sm",placeholder:n("My VKontakte App"),value:r,onChange:m=>c(m.currentTarget.value)}),e.jsx(P,{label:n("App ID"),size:"sm",placeholder:n("Enter app id"),value:l,onChange:m=>d(m.currentTarget.value)}),e.jsx(P,{label:n("Secure Key"),size:"sm",placeholder:n("Enter secure key"),value:g,onChange:m=>y(m.currentTarget.value)})]}),e.jsx(V,{size:"sm",onClick:T,loading:f,children:n("Add app")})]})},St=xe(t=>({postContent:"",attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),gp=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=St.getState();t.post("v1/social-networks/vk/settings",{post_content:r.postContent,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),xp=j.memo(()=>{const t=St(o=>o.postContent),s=St(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_content",value:t,onChange:o=>{s({postContent:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),jp=j.memo(()=>{const t=St(o=>o.attachLink),s=St(o=>o.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(G,{checked:t,onChange:o=>s({attachLink:o.currentTarget.checked})}),withoutDivider:!0})}),fp=j.memo(()=>{const t=St(i=>i.uploadMedia),s=St(i=>i.mediaTypeToUpload),o=St(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:St})]})})]})})}),kp=j.memo(()=>{const t=M(),s=St(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/vk/settings",{},a=>{s({postContent:a.post_content,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(xp,{}),e.jsx(fp,{}),e.jsx(jp,{})]})}),Pa={Actions:gp,Body:kp},_p=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]});j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const Cp=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Gs(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:"Post content"}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},yp=()=>{const t=x.useStore(),s=Gs(a=>a.attachLink),o=Gs(a=>a.customLink),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{children:[e.jsx(E,{label:n("Attach link"),checked:s,onChange:a=>t.mergeActivePostPayload({attachLink:a.target.checked})}),i&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:a=>t.mergeActivePostPayload({customLink:a.currentTarget.value})})]})},wp=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(yp,{}),e.jsx(vp,{}),e.jsx(Cp,{})]}),Gs=x.createUseActivePostPayloadHook();function vp(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Gs(l=>l.uploadMedia),r=Gs(l=>l.uploadMediaType),c=Gs(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}me.push({key:"vk",title:"VK",accentColor:"#2789F614",icon:e.jsx(uo,{}),iconColorful:e.jsx(rs,{}),composerContent:e.jsx(wp,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const Ne={slug:"vk",label:"VK",Icon:Sn};h.registerHookListener("social_networks",t=>[...t,Ne.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Ne.slug,label:"VK",icon:e.jsx(rs,{})}],14);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Ne.slug,label:"VK",icon:e.jsx(Sn,{})}],14);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Ne.slug?t:e.jsx(hp,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ne.slug)?[...t,{slug:"vk",icon:e.jsx(rs,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===Ne.slug)?[...t,{slug:"vk",icon:e.jsx(rs,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===Ne.slug)?[...t,{slug:"vk",icon:e.jsx(rs,{})}]:t);h.registerHookListener("add_app.tabs.list",t=>[...t,{slug:Ne.slug,label:"VK",icon:e.jsx(rs,{})}],14);h.registerHookListener("add_app.content",(t,s,o)=>s!==Ne.slug?t:e.jsx(mp,{onClose:o}));h.registerHookListener("social_network.label",(t,s)=>s===Ne.slug?"VKontakte":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Ne.slug?e.jsx(rs,{}):t);h.registerHookListener("social_network.color",(t,s)=>s===Ne.slug?"#45668e":t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Ne.slug?"#2789F614":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"vk",label:"VK",icon:e.jsx(Sn,{})}],14);h.registerHookListener("settings.actions",(t,s)=>s===Ne.slug?e.jsx(Pa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===Ne.slug?e.jsx(Pa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===Ne.slug?e.jsx(_p,{customPostData:o,setCustomPostData:i}):t);const Zs=Ne,eo=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_7247_45031)",children:[e.jsx("rect",{width:"23.9994",height:"24",rx:"11.9997",fill:"white"}),e.jsx("path",{d:"M1.70557 11.9997C1.70557 16.0744 4.07358 19.5958 7.50739 21.2645L2.59683 7.81018C2.02564 9.09046 1.70557 10.5073 1.70557 11.9997Z",fill:"#464342"}),e.jsx("path",{d:"M18.9496 11.4802C18.9496 10.208 18.4926 9.32691 18.1006 8.64113C17.5788 7.79316 17.0897 7.07506 17.0897 6.22709C17.0897 5.28078 17.8074 4.3999 18.8183 4.3999C18.864 4.3999 18.9073 4.40559 18.9517 4.40813C17.1202 2.73021 14.6801 1.70575 12.0001 1.70575C8.4037 1.70575 5.23963 3.55095 3.39893 6.34579C3.64045 6.35304 3.86806 6.35813 4.0614 6.35813C5.13816 6.35813 6.80492 6.22748 6.80492 6.22748C7.35985 6.19477 7.42527 7.00983 6.87093 7.07545C6.87093 7.07545 6.31325 7.14107 5.6927 7.17359L9.44148 18.3241L11.6943 11.5676L10.0904 7.1732C9.5361 7.14068 9.01094 7.07506 9.01094 7.07506C8.4562 7.04254 8.52123 6.19438 9.07597 6.22709C9.07597 6.22709 10.776 6.35774 11.7876 6.35774C12.8641 6.35774 14.5311 6.22709 14.5311 6.22709C15.0864 6.19438 15.1516 7.00944 14.5971 7.07506C14.5971 7.07506 14.0382 7.14068 13.4189 7.1732L17.139 18.2393L18.1659 14.8081C18.6109 13.3842 18.9496 12.3615 18.9496 11.4802Z",fill:"#464342"}),e.jsx("path",{d:"M12.1809 12.9001L9.09229 21.8752C10.0145 22.1463 10.9898 22.2946 12.0003 22.2946C13.1991 22.2946 14.3488 22.0874 15.4189 21.7111C15.3913 21.667 15.3662 21.6202 15.3456 21.5693L12.1809 12.9001Z",fill:"#464342"}),e.jsx("path",{d:"M21.0332 7.06073C21.0775 7.38864 21.1025 7.74063 21.1025 8.11927C21.1025 9.16391 20.9074 10.3382 20.3198 11.8065L17.1753 20.898C20.2357 19.1133 22.2943 15.7976 22.2943 11.9999C22.2945 10.2101 21.8373 8.5271 21.0332 7.06073Z",fill:"#464342"}),e.jsx("path",{d:"M12.0001 0C5.38342 0 0 5.38302 0 11.9997C0 18.6172 5.38342 24 12.0001 24C18.6166 24 24.0008 18.6172 24.0008 11.9997C24.0006 5.38302 18.6166 0 12.0001 0ZM12.0001 23.45C5.68684 23.45 0.550232 18.3134 0.550232 11.9997C0.550232 5.68644 5.68664 0.550231 12.0001 0.550231C18.3132 0.550231 23.4494 5.68644 23.4494 11.9997C23.4494 18.3134 18.3132 23.45 12.0001 23.45Z",fill:"#464342"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_7247_45031",children:e.jsx("rect",{width:"23.9994",height:"24",rx:"11.9997",fill:"white"})})})]}),bp=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState(""),[T,m]=p.useState(""),H=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}a(!0),s.post("v1/social-networks/wordpress/channel",{site_url:g,username:f,password:T,proxy:r?l:""},k=>{s.post("v1/channels",{channels:k.channels},b=>{t.onAdd(),t.onClose(),o.success(n("Channel added successfully"))}),a(!1)},()=>{a(!1)})};return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Np.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-your-wp-site"}),e.jsxs(z.Method,{slug:"password",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Site url"),size:"sm",placeholder:n('Enter the "{{site_url}}"',{site_url:"site_url"}),value:g,onChange:k=>y(k.currentTarget.value)}),e.jsx(P,{label:n("Username"),size:"sm",placeholder:n('Enter the "{{username}}"',{username:"username"}),value:f,onChange:k=>C(k.currentTarget.value)}),e.jsx(P,{label:n("Password"),size:"sm",placeholder:n('Enter the "{{password}}"',{password:"password"}),value:T,onChange:k=>m(k.currentTarget.value)})]}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:k=>c(k.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:k=>d(k.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:H,loading:i,children:n("Continue")})})]})]})}),Tp=t=>e.jsx(bp,{onAdd:t.onAdd,onClose:t.onClose}),ge=xe(t=>({postTitle:"",postExcerpt:"",postText:"",uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,postStatus:"",postStatusOptions:[],preservePostType:!1,sendCategories:!1,sendTags:!1,setSettings:s=>t(s)})),Ap=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=ge.getState();t.post("v1/social-networks/wordpress/settings",{post_title:r.postTitle,post_excerpt:r.postExcerpt,post_text:r.postText,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId,post_status:r.postStatus,preserve_post_type:r.preservePostType,send_categories:r.sendCategories,send_tags:r.sendTags},c=>{i(!1),s.success("Saved successfully")},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),Pp=j.memo(()=>{const t=ge(o=>o.postTitle),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Post title"),description:n("You can customize the Post title as you like by using the keywords."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_title",singleLine:!0,value:t,onChange:o=>{s({postTitle:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Sp=j.memo(()=>{const t=ge(o=>o.postExcerpt),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Post excerpt"),description:n("Customize the shared post excerpt by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_excerpt",value:t,onChange:o=>{s({postExcerpt:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Lp=j.memo(()=>{const t=ge(o=>o.postText),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"wordpress_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Ip=j.memo(()=>{const t=ge(i=>i.uploadMedia),s=ge(i=>i.mediaTypeToUpload),o=ge(i=>i.setSettings);return e.jsx(O,{label:"Upload featured image",description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(Ve,{useStore:ge})]})})]})})}),Mp=j.memo(()=>{const t=ge(o=>o.sendCategories),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Share with categories"),description:n("Enable to include the categories to the target blog post."),content:e.jsx(G,{checked:t,onChange:o=>s({sendCategories:o.currentTarget.checked})})})}),zp=j.memo(()=>{const t=ge(o=>o.sendTags),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Share with tags"),description:n("Enable to include the tags to the target blog post."),content:e.jsx(G,{checked:t,onChange:o=>s({sendTags:o.currentTarget.checked})})})}),Hp=j.memo(()=>{const t=ge(i=>i.postStatus),s=ge(i=>i.postStatusOptions),o=ge(i=>i.setSettings);return e.jsx(O,{label:n("Post status"),description:n("Define the post status on the remote website."),content:e.jsx(W,{value:t,onChange:i=>o({postStatus:i}),valueRender:i=>{var a;return(a=s.find(r=>r.value===i))==null?void 0:a.label},options:s.map(i=>e.jsx(W.Option,{value:i.value,children:i.label},i.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"})})}),Dp=j.memo(()=>{const t=ge(o=>o.preservePostType),s=ge(o=>o.setSettings);return e.jsx(O,{label:n("Check post type availability"),description:n(`The post type will be shared as it is on the remote website. In the case, the post
                                    type is not available on the remote website, if the option is enabled, the post type
                                    will be "Post". If the option is disabled, the post will fail.`),content:e.jsx(G,{checked:t,onChange:o=>s({preservePostType:o.currentTarget.checked})}),withoutDivider:!0})}),Bp=j.memo(()=>{const t=M(),s=ge(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/wordpress/settings",{},a=>{s({postTitle:a.post_title,postExcerpt:a.post_excerpt,postText:a.post_text,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id,postStatus:a.post_status,postStatusOptions:a.post_status_options,preservePostType:a.preserve_post_type,sendCategories:a.send_categories,sendTags:a.send_tags}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(Pp,{}),e.jsx(Sp,{}),e.jsx(Lp,{}),e.jsx(Ip,{}),e.jsx(Mp,{}),e.jsx(zp,{}),e.jsx(Hp,{}),e.jsx(Dp,{})]})}),Sa={Actions:Ap,Body:Bp},Ep=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),Up=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Ys(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Fp=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Ys(a=>a.postTitle),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post title")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postTitle:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},$p=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Ys(a=>a.postExcerpt),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post excerpt")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postExcerpt:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postExcerpt:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},Op=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(Rp,{}),e.jsx(Up,{}),e.jsx(Fp,{}),e.jsx($p,{})]}),Ys=x.createUseActivePostPayloadHook();function Rp(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=Ys(l=>l.uploadMedia),r=Ys(l=>l.uploadMediaType),c=Ys(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:"Custom"}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:"Images"}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));me.push({key:"wordpress",title:"Wordpress",accentColor:"#028CB014",icon:e.jsx(an,{}),iconColorful:e.jsx(eo,{}),composerContent:e.jsx(Op,{}),composer:{syncKeys:{postContent:"postContent",postTitle:"postTitle",postExcerpt:"postExcerpt",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({postContent:"",postTitle:"",postExcerpt:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[],send_tags:!0,custom_tags:[],send_categories:!0,custom_categories:[],post_status:"publish",preserve_post_type:!0}),loadState:t=>({postContent:t.post_content||"",postTitle:t.post_title||"",postExcerpt:t.post_excerpt||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id,send_tags:t.send_tags||!1,custom_tags:t.custom_tags||[],send_categories:t.send_categories||!1,custom_categories:t.custom_categories||[],post_status:t.post_status||"",preserve_post_type:t.preserve_post_type||!1}),saveState:t=>({post_content:t.postContent,post_title:t.postTitle,post_excerpt:t.postExcerpt,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId,send_tags:t.send_tags,custom_tags:t.custom_tags,send_categories:t.send_categories,custom_categories:t.custom_categories,post_status:t.post_status,preserve_post_type:t.preserve_post_type})}});const ut={slug:"wordpress",label:"WordPress",Icon:an};h.registerHookListener("social_networks",t=>[...t,ut.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:ut.slug,label:"WordPress",icon:e.jsx(eo,{})}],17);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:ut.slug,label:"WordPress",icon:e.jsx(an,{})}],17);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==ut.slug?t:e.jsx(Tp,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===ut.slug)?[...t,{slug:"wordpress",icon:e.jsx(eo,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===ut.slug)?[...t,{slug:"wordpress",icon:e.jsx(eo,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===ut.slug)?[...t,{slug:"wordpress",icon:e.jsx(eo,{})}]:t);h.registerHookListener("social_network.label",(t,s)=>s===ut.slug?"WordPress":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===ut.slug?e.jsx(eo,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===ut.slug?"#028CB014":t);h.registerHookListener("settings.menu",t=>[...t,{slug:"wordpress",label:"WordPress",icon:e.jsx(an,{})}],17);h.registerHookListener("settings.actions",(t,s)=>s===ut.slug?e.jsx(Sa.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===ut.slug?e.jsx(Sa.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===ut.slug?e.jsx(Ep,{customPostData:o,setCustomPostData:i}):t);const Np=ut,zn=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#C73A63"}),e.jsx("path",{d:"M11.4984 10.8002C10.8336 11.9166 10.1938 13.0016 9.54158 14.0804C9.37224 14.3563 9.29071 14.5821 9.42242 14.9333C9.79245 15.9055 9.27189 16.8462 8.2935 17.1034C7.37155 17.348 6.47469 16.7396 6.29281 15.7549C6.12975 14.8832 6.8071 14.0239 7.77295 13.8859C7.85448 13.8734 7.93601 13.8734 8.07399 13.8608C8.54437 13.0706 9.0273 12.2615 9.54158 11.4023C8.61963 10.4866 8.07399 9.4141 8.19315 8.09074C8.28096 7.14996 8.64472 6.34089 9.32207 5.67608C10.614 4.40289 12.5834 4.19592 14.1011 5.17433C15.5625 6.11511 16.2273 7.94021 15.6628 9.5019C15.2301 9.38274 14.7973 9.26985 14.3269 9.13814C14.5088 8.26635 14.3708 7.48864 13.7876 6.81755C13.3987 6.37852 12.9032 6.14646 12.3388 6.05866C11.2036 5.88932 10.0935 6.61685 9.76109 7.72697C9.38479 8.99389 9.94924 10.0225 11.4984 10.8002Z",fill:"white"}),e.jsx("path",{d:"M13.3988 9.4768C13.8691 10.3047 14.3458 11.1451 14.8162 11.973C17.1994 11.2329 18.9994 12.5563 19.6454 13.9674C20.4231 15.6734 19.89 17.6992 18.3597 18.7466C16.7918 19.8254 14.8036 19.6435 13.4113 18.2511C13.7688 17.9563 14.12 17.6553 14.5026 17.3354C15.8761 18.226 17.0803 18.1821 17.9709 17.1285C18.7298 16.2316 18.7172 14.8894 17.9332 14.0051C17.0301 12.989 15.8197 12.9577 14.3583 13.9361C13.75 12.8573 13.1354 11.7911 12.5458 10.7061C12.3451 10.3423 12.1319 10.1291 11.6803 10.0538C10.934 9.9221 10.451 9.28237 10.426 8.56738C10.3946 7.85866 10.8148 7.21893 11.4671 6.96806C12.1131 6.72345 12.8719 6.91788 13.311 7.46981C13.6685 7.92138 13.7813 8.42313 13.5932 8.98132C13.543 9.14439 13.474 9.29491 13.3988 9.4768Z",fill:"white"}),e.jsx("path",{d:"M14.5213 16.2378H11.6488C11.3729 17.3668 10.7771 18.2825 9.75476 18.8658C8.95825 19.3173 8.09902 19.4679 7.18961 19.3236C5.50879 19.0539 4.13527 17.5361 4.00984 15.8365C3.87186 13.9047 5.20147 12.1925 6.9701 11.8036C7.08927 12.249 7.2147 12.6943 7.34014 13.1396C5.71575 13.9674 5.15757 15.0086 5.60913 16.3131C6.01053 17.4609 7.14571 18.088 8.37497 17.8497C9.6356 17.5988 10.269 16.5577 10.1938 14.8769C11.3854 14.8769 12.5833 14.8643 13.7749 14.8831C14.2391 14.8894 14.6028 14.8392 14.954 14.4316C15.531 13.7542 16.5972 13.8169 17.2181 14.4566C17.8516 15.1089 17.8265 16.1626 17.1491 16.7835C16.4969 17.3856 15.4746 17.3542 14.8662 16.702C14.7408 16.564 14.6467 16.4009 14.5213 16.2378Z",fill:"white"})]});var st=(t=>(t.Post="POST",t.Get="GET",t.Put="PUT",t.Delete="DELETE",t))(st||{});const io={POST:"Post",GET:"Get",PUT:"Put",DELETE:"Delete"};var vt=(t=>(t.None="none",t.Json="json",t.FormData="form",t))(vt||{});const yn={none:n("None"),json:"Json",form:n("Form data")},La=({state:t,setState:s})=>{const o=(r,c,l,d)=>{s(g=>{const y=A({},g[r]);if(l==="key"){const f=y[c];delete y[c],y[d]=f}else l==="value"&&(y[c]=d);return I(A({},g),{[r]:y})})},i=r=>{s(c=>I(A({},c),{[r]:I(A({},c[r]),{"":""})}))},a=(r,c)=>{s(l=>{const y=l[r],{[c]:d}=y,g=Rt(y,[mn(c)]);return I(A({},l),{[r]:g})})};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Url")}),e.jsxs(q,{gap:8,children:[e.jsx(W,{value:t.method,onChange:r=>s(c=>I(A({},c),{method:r})),valueRender:r=>io[r],options:[e.jsx(W.Option,{value:st.Get,children:io[st.Get]},st.Get),e.jsx(W.Option,{value:st.Post,children:io[st.Post]},st.Post),e.jsx(W.Option,{value:st.Put,children:io[st.Put]},st.Put),e.jsx(W.Option,{value:st.Delete,children:io[st.Delete]},st.Delete)]}),e.jsx(P,{size:"sm",value:t.url,onChange:r=>s(c=>I(A({},c),{url:r.target.value})),placeholder:"https://"})]})]}),e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"sm",fw:600,children:n("Header")}),e.jsx(ae,{size:"sm",leftIcon:bo,onClick:()=>i("headers"),children:n("Add header")})]}),e.jsx(u,{children:Object.entries(t.headers).map(([r,c],l)=>e.jsxs(q,{gap:4,children:[e.jsxs(q,{gap:8,children:[e.jsx(P,{size:"sm",placeholder:n("Enter key"),value:r,onChange:d=>o("headers",r,"key",d.target.value),maw:150}),e.jsx(P,{size:"sm",placeholder:n("Enter value"),value:c,onChange:d=>o("headers",r,"value",d.target.value),rightIcon:Vn,maw:150})]}),e.jsx(co,{size:"md",variant:"subtle",onClick:()=>a("headers",r),children:e.jsx(vo,{})})]},l))})]}),(t.method==="POST"||t.method==="PUT")&&e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Content type")}),e.jsx(L.Group,{value:t.contentType,onChange:r=>s(c=>I(A({},c),{contentType:r})),children:e.jsxs(u,{gap:"xs",mt:8,ml:"sm",children:[e.jsx(L,{value:vt.None,label:yn[vt.None]}),e.jsxs(u,{children:[e.jsx(L,{value:vt.Json,label:yn[vt.Json]}),t.contentType===vt.Json&&e.jsx(_,{ml:"xl",children:e.jsx(P,{size:"sm",value:t.jsonData,onChange:r=>s(c=>I(A({},c),{jsonData:r.target.value})),placeholder:"Json"})})]}),e.jsxs(u,{children:[e.jsx(L,{value:vt.FormData,label:yn[vt.FormData]}),t.contentType===vt.FormData&&e.jsx(_,{ml:"xl",children:e.jsxs(u,{align:"flex-start",children:[e.jsx(ae,{size:"sm",leftIcon:bo,onClick:()=>i("formData"),children:n("Add field")}),Object.entries(t.formData).map(([r,c],l)=>e.jsxs(q,{gap:4,children:[e.jsxs(q,{gap:8,children:[e.jsx(P,{size:"sm",placeholder:n("Enter key"),value:r,onChange:d=>o("formData",r,"key",d.target.value),maw:130}),e.jsx(P,{size:"sm",placeholder:n("Enter value"),value:c,onChange:d=>o("formData",r,"value",d.target.value),rightIcon:Vn,maw:130})]}),e.jsx(co,{size:"md",variant:"subtle",onClick:()=>a("formData",r),children:e.jsx(vo,{})})]},l))]})})]})]})})]})]})},Kp="fs-poster-1Lr8Gf6",Wp="fs-poster-qfzxLM7",Vp="fs-poster-598MwpM",Qp="fs-poster-HJCMSpl",Gp="fs-poster-Mf9-0t6",Zp="fs-poster-ZqWkKEH",Yp="fs-poster-e94HsY-",Xp={container:Kp,divider:Wp,label_title:Vp,section_title:Qp,url_content:Gp,header_key:Zp,proxy:Yp},qp=j.memo(t=>{const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(!1),[l,d]=p.useState(""),[g,y]=p.useState(""),[f,C]=p.useState({method:st.Get,url:"",contentType:vt.None,headers:{},formData:{},jsonData:""}),T=()=>{a(!0),s.post("v1/social-networks/webhook/channel",{icon:"",name:g,method:f.method,url:f.url,headers:f.headers,content:f.contentType,json:f.jsonData,form:f.formData,proxy:r?l:""},m=>{s.post("v1/channels",{channels:m.channels},H=>{t.onAdd(),t.onClose(),o.success(n("Channel added successfully"))}),a(!1)},()=>{a(!1)})};return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:oh.slug,docLink:"https://www.fs-poster.com/documentation/webhook"}),e.jsxs(z.Method,{slug:"default",children:[e.jsxs(u,{w:"100%",className:Xp.container,children:[e.jsx(P,{label:n("Title"),size:"sm",placeholder:n("Title"),value:g,onChange:m=>y(m.currentTarget.value)}),e.jsx(La,{state:f,setState:C}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:m=>c(m.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:m=>d(m.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:T,loading:i,children:n("Continue")})})]})]})}),Jp=t=>e.jsx(qp,{onAdd:t.onAdd,onClose:t.onClose}),eh=()=>e.jsx("div",{children:n("You can't customize Webhook")}),th=()=>{const t=x.useStore(),s=sh(o=>o);return e.jsx(u,{p:"xs",gap:"xl",mt:"xs",children:e.jsx(La,{state:s,setState:o=>t.mergeActivePostPayload(o)})})},sh=x.createUseActivePostPayloadHook();me.push({key:"webhook",title:"Webhook",accentColor:"#4B4B4B14",icon:e.jsx(Ln,{}),iconColorful:e.jsx(zn,{}),composerContent:e.jsx(th,{}),composer:{syncKeys:{method:"method",url:"url",contentType:"contentType",headers:"headers",formData:"formData",jsonData:"jsonData"},initialState:()=>({method:"GET",url:"",contentType:"form",headers:{},formData:{},jsonData:""}),loadState:t=>({method:t.method||"GET",url:t.url||"",contentType:t.content_type||"",headers:t.headers||{},formData:t.form_data||{},jsonData:t.json_data||""}),saveState:t=>({method:t.method,url:t.url,content_type:t.contentType,headers:t.headers,form_data:(t.method==="POST"||t.method==="PUT")&&t.contentType==="form"?t.formData:{},json_data:(t.method==="POST"||t.method==="PUT")&&t.contentType==="json"?t.jsonData:""})}});const Mt={slug:"webhook",label:"Webhook",Icon:Ln,contentComponent:(t,s,o)=>e.jsx(eh,{})};h.registerHookListener("social_networks",t=>[...t,Mt.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:Mt.slug,label:"Webhook",icon:e.jsx(zn,{})}],18);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:Mt.slug,label:"Webhook",icon:e.jsx(Ln,{})}],18);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==Mt.slug?t:e.jsx(Jp,{onAdd:o,onClose:i}));h.registerHookListener("channels.table.more_actions",(t,s)=>s.social_network!==Mt.slug?t:t.filter(o=>o&&o.key!=="refresh_reauthorize"));h.registerHookListener("logs.table.actions",(t,s)=>s.channel.social_network!==Mt.slug?t:t.filter(o=>o&&o.key!=="stats"));h.registerHookListener("social_network.label",(t,s)=>s===Mt.slug?"Webhook":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===Mt.slug?e.jsx(zn,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===Mt.slug?"#4B4B4B14":t);const oh=Mt,nh=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=Vt(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},ah=()=>{const t=x.useStore(),s=Vt(c=>c.attachLink),o=Vt(c=>c.customLink),i=Vt(c=>c.uploadMedia),a=x.useSelector(c=>c.wpPostType==="fsp_post");return x.useSelector(c=>c.wpPostType==="attachment")&&t.mergeActivePostPayload({attachLink:!1,customLink:""}),e.jsxs(u,{styles:{root:{display:"inline-grid"}},children:[e.jsx(fe,{label:i?n("Attach link is not possible when media upload is enabled"):"",disabled:!i,refProp:"rootRef",children:e.jsx(E,{label:n("Attach link"),checked:s,onChange:c=>{i||t.mergeActivePostPayload({attachLink:c.target.checked})},disabled:i})}),a&&s&&e.jsx(P,{ml:"xl",size:"sm",placeholder:n("Custom link"),value:o,onChange:c=>t.mergeActivePostPayload({customLink:c.currentTarget.value})})]})},ih=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(ah,{}),e.jsx(rh,{}),e.jsx(nh,{})]}),Vt=x.createUseActivePostPayloadHook();function rh(){const t=x.useStore(),s=x.useSelector(d=>d.wpPostType==="fsp_post"),o=x.useSelector(d=>d.wpPostType==="attachment"),i=x.useSelector(d=>d.wpPostId),a=Vt(d=>d.attachLink),r=Vt(d=>d.uploadMedia),c=Vt(d=>d.uploadMediaType),l=Vt(d=>d.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(u,{gap:"lg",styles:{root:{display:"inline-grid"}},children:e.jsx(fe,{label:a?n("Media upload is not possible when attach link is enabled"):"",disabled:!a,refProp:"rootRef",children:e.jsx(E,{label:n("Upload media"),checked:o||r,onChange:d=>{a||t.mergeActivePostPayload({uploadMedia:d.target.checked})},disabled:a||o})})}),r&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:c,onChange:d=>t.mergeActivePostPayload({uploadMediaType:d}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),c==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})]})})}),r&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:l.map(d=>({id:d,url:""})),setImages:d=>{t.mergeActivePostPayload({mediaIds:d.map(g=>g.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const lh=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),ch=j.memo(t=>{var b,B,F,$,U;const s=M(),o=R(),i=te(),[a,r]=p.useState(!1),[c,l]=p.useState(((b=t.initialData)==null?void 0:b.useProxy)||!1),[d,g]=p.useState(((B=t.initialData)==null?void 0:B.proxy)||""),[y,f]=p.useState(((F=t.initialData)==null?void 0:F.login)||""),[C,T]=p.useState((($=t.initialData)==null?void 0:$.csrfToken)||""),[m,H]=p.useState(((U=t.initialData)==null?void 0:U.csrfCheckSum)||""),k=()=>{if(c&&!d){o.error(n("Please enter the proxy"));return}r(!0),s.post("v1/social-networks/xing/channel",{login:y,csrf_token:C,csrf_checksum:m,proxy:c?d:""},D=>{r(!1),i.show(le,{sourceChannels:D.channels.filter(K=>!K.id),destinationChannels:D.channels.filter(K=>!!K.id),onAdd:K=>{s.post("v1/channels",{channels:K},J=>{t.onAdd(),t.onClose(),o.success(K.length>1?n("{{length}} channels added successfully",{length:String(K.length)}):n("Channel added successfully")),r(!1)},()=>{r(!1)})}})},()=>r(!1))};return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:jh.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-auto-publish-wordpress-posts-to-xing"}),e.jsxs(z.Method,{slug:"cookie",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"login"}),size:"sm",placeholder:n("Enter cookie {{cookie}}",{cookie:'"login"'}),value:y,onChange:D=>f(D.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"csrf_token"}),size:"sm",value:C,onChange:D=>T(D.currentTarget.value),placeholder:n("Enter cookie {{cookie}}",{cookie:'"csrf_token"'})}),e.jsx(P,{label:n("Cookie: {{cookie}}",{cookie:"csrf_checksum"}),size:"sm",placeholder:n("Enter cookie {{cookie}}",{cookie:'"csrf_checksum"'}),value:m,onChange:D=>H(D.currentTarget.value)})]}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:c,onChange:D=>l(D.currentTarget.checked)}),c&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:d,onChange:D=>g(D.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:k,loading:a,children:n("Continue")})})]})]})}),Ia=t=>e.jsx(ch,A({},t)),dh=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(Ia,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,login:s.session_data.cookies.login,csrfToken:s.session_data.cookies.xing_csrf_token,csrfCheckSum:s.session_data.cookies.xing_csrf_checksum}})]})})]}),Ye=xe(t=>({attachLink:!1,uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,postText:"",postVisibility:"",postVisibilityOptions:[],setSettings:s=>t(s)})),uh=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=Ye.getState();t.post("v1/social-networks/xing/settings",{post_text:r.postText,post_visibility:r.postVisibility,attach_link:r.attachLink,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),ph=j.memo(()=>{const t=Ye(o=>o.postText),s=Ye(o=>o.setSettings);return e.jsx(O,{label:n("Post content"),description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),hh=j.memo(()=>{const t=Ye(i=>i.postVisibility),s=Ye(i=>i.postVisibilityOptions),o=Ye(i=>i.setSettings);return e.jsx(O,{label:n("Post visibility"),description:n("Define the shared post visibility."),content:e.jsx(W,{value:t,onChange:i=>o({postVisibility:i}),valueRender:i=>{var a;return(a=s.find(r=>r.value===i))==null?void 0:a.label},options:s.map(i=>e.jsx(W.Option,{value:i.value,children:i.label},i.value)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:400},position:"bottom-end"}),withoutDivider:!0})}),mh=j.memo(()=>{const t=Ye(i=>i.attachLink),s=Ye(i=>i.uploadMedia),o=Ye(i=>i.setSettings);return e.jsx(O,{label:n("Attach post link"),description:"",content:e.jsx(u,{styles:{root:{display:"inline-flex"}},children:e.jsx(fe,{label:s?n("Attach post link is not possible when media upload is enabled"):"",disabled:!s,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:i=>{s||o({attachLink:i.currentTarget.checked})},disabled:s})})})})}),gh=j.memo(()=>{const t=Ye(a=>a.uploadMedia),s=Ye(a=>a.mediaTypeToUpload),o=Ye(a=>a.attachLink),i=Ye(a=>a.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",styles:{root:{display:"inline-flex"}},children:[e.jsx(fe,{label:o?n("Media upload is not possible when attach post link is enabled"):"",disabled:!o,refProp:"rootRef",children:e.jsx(G,{checked:t,onChange:a=>{o||i({uploadMedia:a.currentTarget.checked})},disabled:o})}),t&&e.jsx(L.Group,{value:s,onChange:a=>i({mediaTypeToUpload:a}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:Ye})]})})]})})}),xh=j.memo(()=>{const t=M(),s=Ye(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/xing/settings",{},a=>{s({postText:a.post_text,attachLink:a.attach_link,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id,postVisibility:a.post_visibility,postVisibilityOptions:a.post_visibility_options}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(ph,{}),e.jsx(gh,{}),e.jsx(mh,{}),e.jsx(hh,{})]})}),Ma={Actions:uh,Body:xh},to=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"black"}),e.jsx("path",{d:"M7.73332 15.5201C7.98498 15.5201 8.20053 15.3679 8.37943 15.0628C10.0161 12.1606 10.8675 10.6499 10.934 10.5302L9.30398 7.68772C9.13162 7.38954 8.9129 7.24042 8.64802 7.24042H6.27232C6.11966 7.24042 6.01394 7.29011 5.95421 7.38951C5.88124 7.4889 5.88459 7.61157 5.96409 7.75713L7.56431 10.5302C7.57082 10.5373 7.57082 10.5403 7.56431 10.5403L5.04955 14.9934C4.98348 15.1196 4.98348 15.2387 5.04955 15.351C5.11564 15.464 5.21856 15.5201 5.35762 15.5201H7.73332Z",fill:"white"}),e.jsx("path",{d:"M18.6373 4H16.2418C15.9835 4 15.7713 4.14909 15.6058 4.44731C12.2064 10.4774 10.447 13.5987 10.3276 13.8104L13.6971 19.9931C13.8561 20.2913 14.0748 20.4404 14.3531 20.4404H16.7286C16.8743 20.4404 16.9804 20.3907 17.0467 20.2913C17.1128 20.1783 17.1096 20.0556 17.0368 19.9233L13.6973 13.8104V13.8007L18.9455 4.5169C19.0183 4.37787 19.0183 4.25557 18.9455 4.14927C18.8857 4.0497 18.783 4 18.6373 4Z",fill:"white"})]});me.push({key:"xing",title:"Xing",accentColor:"#00000014",icon:e.jsx(ln,{}),iconColorful:e.jsx(to,{}),composerContent:e.jsx(ih,{}),composer:{syncKeys:{attachLink:"attachLink",customLink:"customLink",postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({attachLink:!1,customLink:"",postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({attachLink:t.attach_link||!1,customLink:t.custom_link||"",postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({attach_link:t.attachLink,custom_link:t.attachLink?t.customLink:"",post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const et={slug:"xing",label:"Xing",Icon:ln};h.registerHookListener("social_networks",t=>[...t,et.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:et.slug,label:"Xing",icon:e.jsx(to,{})}],21);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:et.slug,label:"Xing",icon:e.jsx(ln,{})}],21);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==et.slug?t:e.jsx(Ia,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===et.slug)?[...t,{slug:"xing",icon:e.jsx(to,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===et.slug)?[...t,{slug:"xing",icon:e.jsx(to,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===et.slug)?[...t,{slug:"xing",icon:e.jsx(to,{})}]:t);h.registerHookListener("social_network.label",(t,s)=>s===et.slug?"Xing":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===et.slug?e.jsx(to,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===et.slug?"#00000014":t);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==et.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(dh,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("settings.menu",t=>[...t,{slug:"xing",label:"Xing",icon:e.jsx(ln,{})}],21);h.registerHookListener("settings.actions",(t,s)=>s===et.slug?e.jsx(Ma.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===et.slug?e.jsx(Ma.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===et.slug?e.jsx(lh,{customPostData:o,setCustomPostData:i}):t);const jh=et,fh=()=>{const t=x.useStore(),s=x.useSelector(a=>a.posts.find(r=>r.active)),o=wo(a=>a.postContent),i=x.useSelector(a=>a.wpPostType==="fsp_post");return e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(u,{children:i?e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})}}):e.jsx(S,{editorKey:`schedule_post_content_${s.channel.id}`,value:o,onChange:a=>{t.mergeActivePostPayload({postContent:a})},withAI:!0,keywords:N("keywords",[],v.content)})})]})},kh=()=>e.jsxs(u,{p:"xs",gap:"xl",mt:"xs",children:[e.jsx(_h,{}),e.jsx(fh,{})]}),wo=x.createUseActivePostPayloadHook();function _h(){const t=x.useStore(),s=x.useSelector(l=>l.wpPostType==="fsp_post"),o=x.useSelector(l=>l.wpPostType==="attachment"),i=x.useSelector(l=>l.wpPostId),a=wo(l=>l.uploadMedia),r=wo(l=>l.uploadMediaType),c=wo(l=>l.mediaIds);return o&&t.mergeActivePostPayload({uploadMedia:!0,uploadMediaType:"custom",mediaIds:[i]}),e.jsxs(u,{gap:"xs",children:[e.jsx(E,{label:n("Upload media"),checked:o||a,onChange:l=>t.mergeActivePostPayload({uploadMedia:l.target.checked}),disabled:o}),a&&!s&&!o&&e.jsx(L.Group,{size:"sm",value:r,onChange:l=>t.mergeActivePostPayload({uploadMediaType:l}),children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{value:"featured_image",label:n("Featured media")}),e.jsx(L,{value:"all_images",label:n("All attached media")}),e.jsx(be,{}),e.jsxs(u,{children:[e.jsx(L,{value:"custom",label:n("Custom")}),r==="custom"&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})]})})}),a&&s&&e.jsx(_,{ml:"xl",children:e.jsx(X,{images:c.map(l=>({id:l,url:""})),setImages:l=>{t.mergeActivePostPayload({mediaIds:l.map(d=>d.id)})},multi:!0})})]})}j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Images")}),e.jsx(X,{images:t.customPostData.images,setImages:s=>{t.setCustomPostData(I(A({},t.customPostData),{images:s}))},multi:!0})]}));j.memo(t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsx(S,{editorKey:`calendar_post_content_${t.channel.id}`,value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{post_content:s}))}})]}));const Ch=t=>e.jsxs(u,{gap:"xs",children:[e.jsx(w,{size:"sm",fw:600,children:n("Post content")}),e.jsxs(u,{children:[e.jsx(E,{size:"sm",label:n("Customize post content"),checked:t.customPostData.use_custom_post_content,onChange:s=>t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:s.currentTarget.checked}))}),t.customPostData.use_custom_post_content&&e.jsx(_,{ml:"xl",children:e.jsx(S,{editorKey:"post_content",value:t.customPostData.post_content,onChange:s=>{t.setCustomPostData(I(A({},t.customPostData),{use_custom_post_content:!0,post_content:s}))},withAI:!0,keywords:N("keywords",[],v.content)})})]})]}),yh=j.memo(t=>{var B,F,$,U,D,K;const s=M(),o=R(),[i,a]=p.useState(!1),[r,c]=p.useState(((B=t.initialData)==null?void 0:B.useProxy)||!1),[l,d]=p.useState(((F=t.initialData)==null?void 0:F.proxy)||""),[g,y]=p.useState((($=t.initialData)==null?void 0:$.loginInfo)||""),[f,C]=p.useState(((U=t.initialData)==null?void 0:U.apiSid)||""),[T,m]=p.useState(((D=t.initialData)==null?void 0:D.pSid)||""),[H,k]=p.useState(((K=t.initialData)==null?void 0:K.pSidTs)||""),b=()=>{if(r&&!l){o.error(n("Please enter the proxy"));return}a(!0),s.post("v1/social-networks/youtube/channel",{login_info:g,api_sid:f,p_sid:T,p_sid_ts:H,proxy:r?l:""},J=>{s.post("v1/channels",{channels:J.channels},ue=>{t.onAdd(),t.onClose(),o.success(n("Channel added successfully")),a(!1)},()=>{a(!1)})},()=>a(!1))};return e.jsxs(z,{children:[e.jsx(z.Header,{socialNetwork:Ph.slug,docLink:"https://www.fs-poster.com/documentation/fs-poster-schedule-share-wordpress-posts-to-youtube-automatically"}),e.jsxs(z.Method,{slug:"cookie",children:[e.jsxs(u,{justify:"flex-start",align:"stretch",h:"100%",children:[e.jsxs(u,{children:[e.jsx(P,{label:n("Cookie: LOGIN_INFO"),size:"sm",placeholder:n('Enter the "{{loginInfo}}"',{loginInfo:"LOGIN_INFO"}),value:g,onChange:J=>y(J.currentTarget.value)}),e.jsx(P,{label:n("Cookie: __Secure-3PAPISID"),size:"sm",placeholder:n('Enter the "{{apiSid}}"',{apiSid:"__Secure-3PAPISID"}),value:f,onChange:J=>C(J.currentTarget.value)}),e.jsx(P,{label:n("Cookie: __Secure-3PSID"),size:"sm",placeholder:n('Enter the "{{pSid}}"',{pSid:"__Secure-3PSID"}),value:T,onChange:J=>m(J.currentTarget.value)}),e.jsx(P,{label:n("Cookie: {{cookieName}}",{cookieName:"__Secure-3PSIDTS"}),size:"sm",placeholder:n('Enter the "{{secureId}}"',{secureId:"__Secure-3PSIDTS"}),value:H,onChange:J=>k(J.currentTarget.value)})]}),e.jsxs(u,{gap:4,children:[e.jsx(E,{size:"xs",label:e.jsx(w,{fz:12,fw:500,children:n("Enable proxy")}),checked:r,onChange:J=>c(J.currentTarget.checked)}),r&&e.jsx(_,{children:e.jsx(P,{size:"sm",placeholder:n("e.g., {{link}}",{link:"http://user:pass@1.2.3.4:1234"}),value:l,onChange:J=>d(J.currentTarget.value)})})]})]}),e.jsx(z.Button,{children:e.jsx(V,{size:"sm",onClick:b,loading:i,children:n("Continue")})})]})]})}),za=t=>e.jsx(yh,A({},t)),wh=({onClose:t,channel:s,onAdd:o})=>e.jsxs(re.Root,{opened:!0,onClose:t,size:"sm",closeOnClickOutside:!1,children:[e.jsx(re.Overlay,{}),e.jsx(re.Content,{w:"100%",mah:560,children:e.jsxs(u,{w:"100%",gap:0,pos:"relative",children:[e.jsx(q,{p:"xs",justify:"flex-end",children:e.jsx(It,{size:"lg",onClick:t})}),e.jsx(mt,{}),e.jsx(za,{onAdd:()=>{o(),t()},onClose:t,initialData:{useProxy:s.proxy!=="",proxy:s.proxy,loginInfo:s.session_data.cookies.LOGIN_INFO,apiSid:s.session_data.cookies["__Secure-3PAPISID"],pSid:s.session_data.cookies["__Secure-3PSID"],pSidTs:s.session_data.cookies["__Secure-3PSIDTS"]}})]})})]}),Qt=xe(t=>({postText:"",uploadMedia:!1,mediaTypeToUpload:Q.FeaturedImage,setSettings:s=>t(s)})),vh=j.memo(()=>{const t=M(),s=R(),[o,i]=p.useState(!1),a=()=>{i(!0);const r=Qt.getState();t.post("v1/social-networks/youtube/settings",{post_text:r.postText,upload_media:r.uploadMedia,media_type_to_upload:r.mediaTypeToUpload,ai_template_id:r.aiTemplateId},c=>{i(!1),s.success(n("Saved successfully"))},()=>i(!1))};return e.jsx(V,{size:"md",onClick:a,loading:o,children:n("Save changes")})}),bh=j.memo(()=>{const t=Qt(o=>o.postText),s=Qt(o=>o.setSettings);return e.jsx(O,{label:"Post content",description:n("Customize the shared post content by using available keywords and AI. Click on the desired keyword to add it to the custom message section."),content:e.jsx(_,{maw:"400px",children:e.jsx(S,{editorKey:"youtube_post_content",value:t,onChange:o=>{s({postText:o})},withAI:!0,keywords:N("keywords",[],v.content)})})})}),Th=j.memo(()=>{const t=Qt(i=>i.uploadMedia),s=Qt(i=>i.mediaTypeToUpload),o=Qt(i=>i.setSettings);return e.jsx(O,{label:n("Upload post image(s)"),description:"",content:e.jsxs(u,{gap:"lg",children:[e.jsx(G,{checked:t,onChange:i=>o({uploadMedia:i.currentTarget.checked})}),t&&e.jsx(L.Group,{value:s,onChange:i=>o({mediaTypeToUpload:i}),children:e.jsxs(u,{gap:"xs",mt:8,children:[e.jsx(L,{value:Q.FeaturedImage,label:ie[Q.FeaturedImage]}),e.jsx(L,{value:Q.AllAttachedImages,label:ie[Q.AllAttachedImages]}),e.jsx(Ve,{useStore:Qt})]})})]}),withoutDivider:!0})}),Ah=j.memo(()=>{const t=M(),s=Qt(a=>a.setSettings),[o,i]=p.useState(!0);return p.useEffect(()=>{t.get("v1/social-networks/youtube/settings",{},a=>{s({postText:a.post_text,uploadMedia:a.upload_media,mediaTypeToUpload:a.media_type_to_upload,aiTemplateId:a.ai_template_id}),i(!1)})},[]),e.jsxs(pe,{loading:o,children:[e.jsx(bh,{}),e.jsx(Th,{})]})}),Ha={Actions:vh,Body:Ah},so=()=>e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#FF0302"}),e.jsx("path",{d:"M9.5 16.6023V7.5L17.5 12.0511L9.5 16.6023Z",fill:"#FEFEFE"})]});me.push({key:"youtube",title:"Youtube",accentColor:"#FC0D1B14",icon:e.jsx(cn,{}),iconColorful:e.jsx(so,{}),composerContent:e.jsx(kh,{}),composer:{syncKeys:{postContent:"postContent",uploadMedia:"uploadMedia",uploadMediaType:"uploadMediaType",mediaIds:"mediaIds",aiTemplateId:"aiTemplateId"},initialState:()=>({postContent:"",uploadMedia:!0,uploadMediaType:"custom",mediaIds:[]}),loadState:t=>({postContent:t.post_content||"",uploadMedia:t.upload_media||!1,uploadMediaType:t.upload_media_type||"featured_image",mediaIds:t.media_list_to_upload||[],aiTemplateId:t.ai_template_id}),saveState:t=>({post_content:t.postContent,upload_media:t.uploadMedia,upload_media_type:t.uploadMediaType,media_list_to_upload:t.uploadMediaType==="custom"?t.mediaIds:[],ai_template_id:t.aiTemplateId})}});const tt={slug:"youtube",label:"Youtube",Icon:cn};h.registerHookListener("social_networks",t=>[...t,tt.slug]);h.registerHookListener("add_channel.tabs.list",t=>[...t,{slug:tt.slug,label:"Youtube",icon:e.jsx(so,{})}],11);h.registerHookListener("channels.tabs.list",t=>[...t,{slug:tt.slug,label:"Youtube",icon:e.jsx(cn,{})}],11);h.registerHookListener("add_channel.content",(t,s,o,i)=>s!==tt.slug?t:e.jsx(za,{onAdd:o,onClose:i}));h.registerHookListener("metabox_customization_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===tt.slug)?[...t,{slug:"youtube",icon:e.jsx(so,{})}]:t);h.registerHookListener("direct_share.tabs.list",(t,s)=>s.find(o=>o.social_network===tt.slug)?[...t,{slug:"youtube",icon:e.jsx(so,{})}]:t);h.registerHookListener("schedule_modal.tabs.list",(t,s)=>s.find(o=>o.social_network===tt.slug)?[...t,{slug:"youtube",icon:e.jsx(so,{})}]:t);h.registerHookListener("social_network.label",(t,s)=>s===tt.slug?"Youtube":t);h.registerHookListener("social_network.icon.colorful",(t,s)=>s===tt.slug?e.jsx(so,{}):t);h.registerHookListener("social_network.accentColor",(t,s)=>s===tt.slug?"#FC0D1B14":t);h.registerHookListener("channels.table.more_actions",(t,s,o,i)=>s.social_network!==tt.slug||!s.session_data?t:[...t.filter(a=>s.status||a.key!=="refresh_reauthorize"),e.jsx(bs.Item,{onClick:()=>o.show(wh,{channel:s,onAdd:i}),leftSection:e.jsx(Ts,{size:16,color:"#344054",stroke:1.5}),children:e.jsx("div",{children:n("Update cookies")})},"update_cookies")]);h.registerHookListener("settings.menu",t=>[...t,{slug:"youtube",label:"Youtube",icon:e.jsx(cn,{})}],11);h.registerHookListener("settings.actions",(t,s)=>s===tt.slug?e.jsx(Ha.Actions,{}):t);h.registerHookListener("settings.body",(t,s)=>s===tt.slug?e.jsx(Ha.Body,{}):t);h.registerHookListener("custom_settings.general_tab.end",(t,s,o,i)=>s.social_network===tt.slug?e.jsx(Ch,{customPostData:o,setCustomPostData:i}):t);const Ph=tt,ms={key:"hashtags_categories",title:n("Categories"),options:{uppercase:null,replace_symbols:null,separator:" "},supportedTypes:[v.content,v.AITemplatePrompt]},Sh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Uppercase")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.uppercase==="true",onChange:o=>s("uppercase",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Replace symbols")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.replace_symbols==="true",onChange:o=>s("replace_symbols",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Separator")}),e.jsx(P,{size:"xs",value:t.separator,onChange:o=>s("separator",o.currentTarget.value)})]})]});Z.registerHookListener("keywords",(t,s)=>ms.supportedTypes.includes(s)?[...t,ms.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===ms.key?ms.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===ms.key?ms.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===ms.key?e.jsx(Sh,{options:o,setOption:i}):t);const gs={key:"customfield",title:"Custom field",options:{key:"",encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},Lh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Key")}),e.jsx(P,{size:"xs",value:t.key,onChange:o=>s("key",o.currentTarget.value)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})]});Z.registerHookListener("keywords",(t,s)=>gs.supportedTypes.includes(s)?[...t,gs.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===gs.key?gs.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===gs.key?gs.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===gs.key?e.jsx(Lh,{options:o,setOption:i}):t);const So={key:"schedule_id",title:n("Schedule id"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>So.supportedTypes.includes(s)?[...t,So.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===So.key?So.title:t);const xs={key:"hashtags",title:n("Hashtags"),options:{taxonomies:"",uppercase:null,replace_symbols_with:""},supportedTypes:[v.content,v.AITemplatePrompt]},Ih=({options:t,setOption:s})=>{const o=M(),{withLoading:i,isLoading:a}=ji(!0),[r,c]=p.useState([]),[l,d]=p.useState(()=>t.replace_symbols_with!==""?"replace":"remove");return p.useEffect(()=>{l!=="replace"&&s("replace_symbols_with","")},[l]),p.useEffect(()=>{i(()=>Rn(Da,null,function*(){o.get("v1/taxonomies",{},g=>{c(g.taxonomies)})}))},[]),e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Taxonomies")}),e.jsx(W,{loading:a,value:t.taxonomies,onChange:g=>s("taxonomies",g),valueRender:g=>{var y;return((y=r.find(f=>f.taxonomy===g))==null?void 0:y.label)||g},options:r.map(g=>e.jsx(W.Option,{value:g.taxonomy,children:g.label},g.taxonomy)),dropdownStyleProps:{miw:"max-content"},inputStyleProps:{w:150}})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Uppercase")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.uppercase==="true",onChange:g=>s("uppercase",g.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"flex-start",children:[e.jsx(w,{size:"xs",fw:500,children:n("Unsupported symbols")}),e.jsx(L.Group,{size:"xs",value:l,onChange:d,children:e.jsx(_,{ml:"xl",children:e.jsxs(u,{gap:"xs",children:[e.jsx(L,{size:"xs",value:"remove",label:n("Remove")}),e.jsx(L,{size:"xs",value:"replace",label:n("Replace")})]})})})]}),l==="replace"&&e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Replace with")}),e.jsx(P,{size:"xs",value:t.replace_symbols_with,onChange:g=>s("replace_symbols_with",g.currentTarget.value)})]})]})};Z.registerHookListener("keywords",(t,s)=>xs.supportedTypes.includes(s)?[...t,xs.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===xs.key?xs.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===xs.key?xs.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===xs.key?e.jsx(Ih,{options:o,setOption:i}):t);const Lo={key:"post_author",title:n("Author's name"),supportedTypes:[v.content,v.AITemplatePrompt]};Z.registerHookListener("keywords",(t,s)=>Lo.supportedTypes.includes(s)?[...t,Lo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Lo.key?Lo.title:t);const Io={key:"post_author_username",title:n("Author's username"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Io.supportedTypes.includes(s)?[...t,Io.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Io.key?Io.title:t);const js={key:"post_content",title:n("Post content"),options:{limit:null},supportedTypes:[v.content,v.AITemplatePrompt]},Mh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Cut content")}),e.jsx(G,{onLabel:"Yes",offLabel:"No",size:"xs",checked:!!t.limit,onChange:o=>s("limit",o.currentTarget.checked?"300":null)})]}),!!t.limit&&e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Cut content at")}),e.jsx(Ie,{defaultValue:300,value:Number(t.limit),onChange:o=>s("limit",String(o))})]})]});Z.registerHookListener("keywords",(t,s)=>js.supportedTypes.includes(s)?[...t,js.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===js.key?js.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===js.key?js.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===js.key?e.jsx(Mh,{options:o,setOption:i}):t);const Mo={key:"post_excerpt",title:n("Post excerpt"),supportedTypes:[v.content,v.AITemplatePrompt]};Z.registerHookListener("keywords",(t,s)=>Mo.supportedTypes.includes(s)?[...t,Mo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Mo.key?Mo.title:t);const zo={key:"post_featured_image_url",title:n("Featured image url"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost]};Z.registerHookListener("keywords",(t,s)=>zo.supportedTypes.includes(s)?[...t,zo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===zo.key?zo.title:t);const Ho={key:"post_id",title:n("Post ID"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Ho.supportedTypes.includes(s)?[...t,Ho.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Ho.key?Ho.title:t);const fs={key:"post_short_url",title:n("Short URL of Post"),options:{encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},zh=({options:t,setOption:s})=>e.jsx(u,{gap:"xs",children:e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})});Z.registerHookListener("keywords",(t,s)=>fs.supportedTypes.includes(s)?[...t,fs.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===fs.key?fs.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===fs.key?fs.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===fs.key?e.jsx(zh,{options:o,setOption:i}):t);const Do={key:"post_slug",title:n("Post slug"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Do.supportedTypes.includes(s)?[...t,Do.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Do.key?Do.title:t);const ks={key:"post_title",title:n("Post title"),options:{ucfirst:null,encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},Hh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Capitalize")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.ucfirst==="true",onChange:o=>s("ucfirst",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})]});Z.registerHookListener("keywords",(t,s)=>ks.supportedTypes.includes(s)?[...t,ks.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===ks.key?ks.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===ks.key?ks.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===ks.key?e.jsx(Hh,{options:o,setOption:i}):t);const _s={key:"post_url",title:n("Post url"),options:{type:"original",encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},fo={custom:n("Customized Post URL"),original:n("Original Post URL"),short:n("Shortened Post URL")},Dh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Type")}),e.jsx(W,{size:"xs",value:t.type,valueRender:o=>fo[o],onChange:o=>s("type",o),options:[e.jsx(W.Option,{value:"original",children:fo.original},"original"),e.jsx(W.Option,{value:"custom",children:fo.custom},"custom"),e.jsx(W.Option,{value:"short",children:fo.short},"short")]})]})]});Z.registerHookListener("keywords",(t,s)=>_s.supportedTypes.includes(s)?[...t,_s.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===_s.key?_s.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===_s.key?_s.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===_s.key?e.jsx(Dh,{options:o,setOption:i}):t);const Bo={key:"product_current_price",title:n("Product current price"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Bo.supportedTypes.includes(s)?[...t,Bo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Bo.key?Bo.title:t);const Eo={key:"product_description",title:n("Product description"),supportedTypes:[v.content,v.AITemplatePrompt]};Z.registerHookListener("keywords",(t,s)=>Eo.supportedTypes.includes(s)?[...t,Eo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Eo.key?Eo.title:t);const Uo={key:"product_regular_price",title:n("Product regular price"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Uo.supportedTypes.includes(s)?[...t,Uo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Uo.key?Uo.title:t);const Fo={key:"product_sale_price",title:n("Product sale price"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Fo.supportedTypes.includes(s)?[...t,Fo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Fo.key?Fo.title:t);const Cs={key:"site_name",title:n("Site name"),options:{encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},Bh=({options:t,setOption:s})=>e.jsx(u,{gap:"xs",children:e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})});Z.registerHookListener("keywords",(t,s)=>Cs.supportedTypes.includes(s)?[...t,Cs.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Cs.key?Cs.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===Cs.key?Cs.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===Cs.key?e.jsx(Bh,{options:o,setOption:i}):t);const ys={key:"site_url",title:n("Site URL"),options:{encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},Eh=({options:t,setOption:s})=>e.jsx(u,{gap:"xs",children:e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})});Z.registerHookListener("keywords",(t,s)=>ys.supportedTypes.includes(s)?[...t,ys.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===ys.key?ys.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===ys.key?ys.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===ys.key?e.jsx(Eh,{options:o,setOption:i}):t);const ws={key:"social_network_name",title:n("Social network name"),options:{encoded:null},supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]},Uh=({options:t,setOption:s})=>e.jsx(u,{gap:"xs",children:e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("URL Encode")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.encoded==="true",onChange:o=>s("encoded",o.currentTarget.checked?"true":null)})]})});Z.registerHookListener("keywords",(t,s)=>ws.supportedTypes.includes(s)?[...t,ws.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===ws.key?ws.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===ws.key?ws.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===ws.key?e.jsx(Uh,{options:o,setOption:i}):t);const $o={key:"social_network_slug",title:n("Social network slug"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>$o.supportedTypes.includes(s)?[...t,$o.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===$o.key?$o.title:t);const vs={key:"hashtags_tags",title:n("Tags"),options:{uppercase:null,replace_symbols:null,separator:""},supportedTypes:[v.content,v.AITemplatePrompt]},Fh=({options:t,setOption:s})=>e.jsxs(u,{gap:"xs",children:[e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Uppercase")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.uppercase==="true",onChange:o=>s("uppercase",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Replace symbols")}),e.jsx(G,{onLabel:n("Yes"),offLabel:n("No"),size:"xs",checked:t.replace_symbols==="true",onChange:o=>s("replace_symbols",o.currentTarget.checked?"true":null)})]}),e.jsxs(q,{justify:"space-between",align:"center",children:[e.jsx(w,{size:"xs",fw:500,children:n("Separator")}),e.jsx(P,{size:"xs",value:t.separator,onChange:o=>s("separator",o.currentTarget.value)})]})]});Z.registerHookListener("keywords",(t,s)=>vs.supportedTypes.includes(s)?[...t,vs.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===vs.key?vs.title:t);Z.registerHookListener("keyword.options",(t,s)=>s===vs.key?vs.options:t);Z.registerHookListener("keyword.options.render",(t,s,o,i)=>s===vs.key?e.jsx(Fh,{options:o,setOption:i}):t);const Oo={key:"uniq_id",title:n("Uniq ID"),supportedTypes:[v.content,v.AITemplatePrompt,v.customUrlHost,v.customUrlQueryValue]};Z.registerHookListener("keywords",(t,s)=>Oo.supportedTypes.includes(s)?[...t,Oo.key]:t);Z.registerHookListener("keyword.title",(t,s)=>s===Oo.key?Oo.title:t);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("fs-poster-portal");if(!t)return;const s=t.attachShadow({mode:"open"});{const i=document.createElement("link");i.rel="stylesheet",i.href=window.FS_POSTER_STYLESHEET,s.appendChild(i)}const o=document.createElement("div");o.id="container",o.className=ri.container,s.appendChild(o),li(o).render(e.jsx(ci,{rootElm:o,portalTarget:o,children:e.jsx(Ii,{})}))})});export default $h();
